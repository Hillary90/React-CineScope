(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Cb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var om={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function wb(){if(WT)return fu;WT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var d in r)d!=="key"&&(a[d]=r[d])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:u,ref:r!==void 0?r:null,props:a}}return fu.Fragment=e,fu.jsx=n,fu.jsxs=n,fu}var XT;function Ib(){return XT||(XT=1,om.exports=wb()),om.exports}var N=Ib(),am={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function Rb(){if(ZT)return xe;ZT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=E&&H[E]||H["@@iterator"],typeof H=="function"?H:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function G(H,re,de){this.props=H,this.context=re,this.refs=k,this.updater=de||D}G.prototype.isReactComponent={},G.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},G.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function q(){}q.prototype=G.prototype;function z(H,re,de){this.props=H,this.context=re,this.refs=k,this.updater=de||D}var X=z.prototype=new q;X.constructor=z,L(X,G.prototype),X.isPureReactComponent=!0;var j=Array.isArray;function ie(){}var M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function x(H,re,de){var pe=de.ref;return{$$typeof:t,type:H,key:re,ref:pe!==void 0?pe:null,props:de}}function V(H,re){return x(H.type,re,H.props)}function P(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function O(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(de){return re[de]})}var U=/\/+/g;function Re(H,re){return typeof H=="object"&&H!==null&&H.key!=null?O(""+H.key):re.toString(36)}function Ue(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ie,ie):(H.status="pending",H.then(function(re){H.status==="pending"&&(H.status="fulfilled",H.value=re)},function(re){H.status==="pending"&&(H.status="rejected",H.reason=re)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function te(H,re,de,pe,we){var Pe=typeof H;(Pe==="undefined"||Pe==="boolean")&&(H=null);var He=!1;if(H===null)He=!0;else switch(Pe){case"bigint":case"string":case"number":He=!0;break;case"object":switch(H.$$typeof){case t:case e:He=!0;break;case y:return He=H._init,te(He(H._payload),re,de,pe,we)}}if(He)return we=we(H),He=pe===""?"."+Re(H,0):pe,j(we)?(de="",He!=null&&(de=He.replace(U,"$&/")+"/"),te(we,re,de,"",function(qr){return qr})):we!=null&&(P(we)&&(we=V(we,de+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+He)),re.push(we)),1;He=0;var kt=pe===""?".":pe+":";if(j(H))for(var ct=0;ct<H.length;ct++)pe=H[ct],Pe=kt+Re(pe,ct),He+=te(pe,re,de,Pe,we);else if(ct=w(H),typeof ct=="function")for(H=ct.call(H),ct=0;!(pe=H.next()).done;)pe=pe.value,Pe=kt+Re(pe,ct++),He+=te(pe,re,de,Pe,we);else if(Pe==="object"){if(typeof H.then=="function")return te(Ue(H),re,de,pe,we);throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return He}function ce(H,re,de){if(H==null)return H;var pe=[],we=0;return te(H,pe,"","",function(Pe){return re.call(de,Pe,we++)}),pe}function le(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(de){(H._status===0||H._status===-1)&&(H._status=1,H._result=de)},function(de){(H._status===0||H._status===-1)&&(H._status=2,H._result=de)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var ve=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},be={map:ce,forEach:function(H,re,de){ce(H,function(){re.apply(this,arguments)},de)},count:function(H){var re=0;return ce(H,function(){re++}),re},toArray:function(H){return ce(H,function(re){return re})||[]},only:function(H){if(!P(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return xe.Activity=T,xe.Children=be,xe.Component=G,xe.Fragment=n,xe.Profiler=r,xe.PureComponent=z,xe.StrictMode=i,xe.Suspense=f,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,xe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},xe.cache=function(H){return function(){return H.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(H,re,de){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pe=L({},H.props),we=H.key;if(re!=null)for(Pe in re.key!==void 0&&(we=""+re.key),re)!I.call(re,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&re.ref===void 0||(pe[Pe]=re[Pe]);var Pe=arguments.length-2;if(Pe===1)pe.children=de;else if(1<Pe){for(var He=Array(Pe),kt=0;kt<Pe;kt++)He[kt]=arguments[kt+2];pe.children=He}return x(H.type,we,pe)},xe.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},xe.createElement=function(H,re,de){var pe,we={},Pe=null;if(re!=null)for(pe in re.key!==void 0&&(Pe=""+re.key),re)I.call(re,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(we[pe]=re[pe]);var He=arguments.length-2;if(He===1)we.children=de;else if(1<He){for(var kt=Array(He),ct=0;ct<He;ct++)kt[ct]=arguments[ct+2];we.children=kt}if(H&&H.defaultProps)for(pe in He=H.defaultProps,He)we[pe]===void 0&&(we[pe]=He[pe]);return x(H,Pe,we)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(H){return{$$typeof:d,render:H}},xe.isValidElement=P,xe.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:le}},xe.memo=function(H,re){return{$$typeof:h,type:H,compare:re===void 0?null:re}},xe.startTransition=function(H){var re=M.T,de={};M.T=de;try{var pe=H(),we=M.S;we!==null&&we(de,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(ie,ve)}catch(Pe){ve(Pe)}finally{re!==null&&de.types!==null&&(re.types=de.types),M.T=re}},xe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},xe.use=function(H){return M.H.use(H)},xe.useActionState=function(H,re,de){return M.H.useActionState(H,re,de)},xe.useCallback=function(H,re){return M.H.useCallback(H,re)},xe.useContext=function(H){return M.H.useContext(H)},xe.useDebugValue=function(){},xe.useDeferredValue=function(H,re){return M.H.useDeferredValue(H,re)},xe.useEffect=function(H,re){return M.H.useEffect(H,re)},xe.useEffectEvent=function(H){return M.H.useEffectEvent(H)},xe.useId=function(){return M.H.useId()},xe.useImperativeHandle=function(H,re,de){return M.H.useImperativeHandle(H,re,de)},xe.useInsertionEffect=function(H,re){return M.H.useInsertionEffect(H,re)},xe.useLayoutEffect=function(H,re){return M.H.useLayoutEffect(H,re)},xe.useMemo=function(H,re){return M.H.useMemo(H,re)},xe.useOptimistic=function(H,re){return M.H.useOptimistic(H,re)},xe.useReducer=function(H,re,de){return M.H.useReducer(H,re,de)},xe.useRef=function(H){return M.H.useRef(H)},xe.useState=function(H){return M.H.useState(H)},xe.useSyncExternalStore=function(H,re,de){return M.H.useSyncExternalStore(H,re,de)},xe.useTransition=function(){return M.H.useTransition()},xe.version="19.2.0",xe}var jT;function Ag(){return jT||(jT=1,am.exports=Rb()),am.exports}var F=Ag();const Bt=Cb(F);var lm={exports:{}},du={},um={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function bb(){return eE||(eE=1,(function(t){function e(te,ce){var le=te.length;te.push(ce);e:for(;0<le;){var ve=le-1>>>1,be=te[ve];if(0<r(be,ce))te[ve]=ce,te[le]=be,le=ve;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ce=te[0],le=te.pop();if(le!==ce){te[0]=le;e:for(var ve=0,be=te.length,H=be>>>1;ve<H;){var re=2*(ve+1)-1,de=te[re],pe=re+1,we=te[pe];if(0>r(de,le))pe<be&&0>r(we,de)?(te[ve]=we,te[pe]=le,ve=pe):(te[ve]=de,te[re]=le,ve=re);else if(pe<be&&0>r(we,le))te[ve]=we,te[pe]=le,ve=pe;else break e}}return ce}function r(te,ce){var le=te.sortIndex-ce.sortIndex;return le!==0?le:te.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],y=1,T=null,E=3,w=!1,D=!1,L=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(te){for(var ce=n(h);ce!==null;){if(ce.callback===null)i(h);else if(ce.startTime<=te)i(h),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(h)}}function j(te){if(L=!1,X(te),!D)if(n(f)!==null)D=!0,ie||(ie=!0,O());else{var ce=n(h);ce!==null&&Ue(j,ce.startTime-te)}}var ie=!1,M=-1,I=5,x=-1;function V(){return k?!0:!(t.unstable_now()-x<I)}function P(){if(k=!1,ie){var te=t.unstable_now();x=te;var ce=!0;try{e:{D=!1,L&&(L=!1,q(M),M=-1),w=!0;var le=E;try{t:{for(X(te),T=n(f);T!==null&&!(T.expirationTime>te&&V());){var ve=T.callback;if(typeof ve=="function"){T.callback=null,E=T.priorityLevel;var be=ve(T.expirationTime<=te);if(te=t.unstable_now(),typeof be=="function"){T.callback=be,X(te),ce=!0;break t}T===n(f)&&i(f),X(te)}else i(f);T=n(f)}if(T!==null)ce=!0;else{var H=n(h);H!==null&&Ue(j,H.startTime-te),ce=!1}}break e}finally{T=null,E=le,w=!1}ce=void 0}}finally{ce?O():ie=!1}}}var O;if(typeof z=="function")O=function(){z(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Re=U.port2;U.port1.onmessage=P,O=function(){Re.postMessage(null)}}else O=function(){G(P,0)};function Ue(te,ce){M=G(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(te){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var le=E;E=ce;try{return te()}finally{E=le}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=E;E=te;try{return ce()}finally{E=le}},t.unstable_scheduleCallback=function(te,ce,le){var ve=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ve+le:ve):le=ve,te){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,te={id:y++,callback:ce,priorityLevel:te,startTime:le,expirationTime:be,sortIndex:-1},le>ve?(te.sortIndex=le,e(h,te),n(f)===null&&te===n(h)&&(L?(q(M),M=-1):L=!0,Ue(j,le-ve))):(te.sortIndex=be,e(f,te),D||w||(D=!0,ie||(ie=!0,O()))),te},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(te){var ce=E;return function(){var le=E;E=ce;try{return te.apply(this,arguments)}finally{E=le}}}})(cm)),cm}var tE;function xb(){return tE||(tE=1,um.exports=bb()),um.exports}var fm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function Mb(){if(nE)return sn;nE=1;var t=Ag();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,h,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:f,containerInfo:h,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,y)},sn.flushSync=function(f){var h=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=h,i.p=y,i.d.f()}},sn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var y=h.as,T=d(y,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:T,integrity:E,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},sn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=d(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},sn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,T=d(y,h.crossOrigin);i.d.L(f,y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},sn.preloadModule=function(f,h){if(typeof f=="string")if(h){var y=d(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,h){return f(h)},sn.useFormState=function(f,h,y){return u.H.useFormState(f,h,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var iE;function Nb(){if(iE)return fm.exports;iE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fm.exports=Mb(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function Db(){if(sE)return du;sE=1;var t=xb(),e=Ag(),n=Nb();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return f(g),s;if(_===c)return f(g),o;_=_.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=_;else{for(var A=!1,R=g.child;R;){if(R===l){A=!0,l=g,c=_;break}if(R===c){A=!0,c=g,l=_;break}R=R.sibling}if(!A){for(R=_.child;R;){if(R===l){A=!0,l=_,c=g;break}if(R===c){A=!0,c=_,l=g;break}R=R.sibling}if(!A)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function y(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=y(s),o!==null)return o;s=s.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function Re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case G:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case ie:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case z:return s.displayName||"Context";case q:return(s._context.displayName||"Context")+".Consumer";case X:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:Re(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return Re(s(o))}catch{}}return null}var Ue=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ve=[],be=-1;function H(s){return{current:s}}function re(s){0>be||(s.current=ve[be],ve[be]=null,be--)}function de(s,o){be++,ve[be]=s.current,s.current=o}var pe=H(null),we=H(null),Pe=H(null),He=H(null);function kt(s,o){switch(de(Pe,o),de(we,s),de(pe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?_T(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=_T(o),s=TT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}re(pe),de(pe,s)}function ct(){re(pe),re(we),re(Pe)}function qr(s){s.memoizedState!==null&&de(He,s);var o=pe.current,l=TT(o,s.type);o!==l&&(de(we,s),de(pe,l))}function Vo(s){we.current===s&&(re(pe),re(we)),He.current===s&&(re(He),au._currentValue=le)}var Lo,ko;function _i(s){if(Lo===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Lo=o&&o[1]||"",ko=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lo+s+ko}var al=!1;function zr(s,o){if(!s||al)return"";al=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var W=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){W=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){W=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),A=_[0],R=_[1];if(A&&R){var B=A.split(`
`),Q=R.split(`
`);for(g=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(c===B.length||g===Q.length)for(c=B.length-1,g=Q.length-1;1<=c&&0<=g&&B[c]!==Q[g];)g--;for(;1<=c&&0<=g;c--,g--)if(B[c]!==Q[g]){if(c!==1||g!==1)do if(c--,g--,0>g||B[c]!==Q[g]){var ne=`
`+B[c].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=c&&0<=g);break}}}finally{al=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?_i(l):""}function ll(s,o){switch(s.tag){case 26:case 27:case 5:return _i(s.type);case 16:return _i("Lazy");case 13:return s.child!==o&&o!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return zr(s.type,!1);case 11:return zr(s.type.render,!1);case 1:return zr(s.type,!0);case 31:return _i("Activity");default:return""}}function ul(s){try{var o="",l=null;do o+=ll(s,l),l=s,s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Ps=t.unstable_cancelCallback,lh=t.unstable_shouldYield,rc=t.unstable_requestPaint,fn=t.unstable_now,Fr=t.unstable_getCurrentPriorityLevel,cl=t.unstable_ImmediatePriority,fl=t.unstable_UserBlockingPriority,Vs=t.unstable_NormalPriority,uh=t.unstable_LowPriority,oc=t.unstable_IdlePriority,ac=t.log,lc=t.unstable_setDisableYieldValue,jn=null,Jt=null;function kn(s){if(typeof ac=="function"&&lc(s),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(jn,s)}catch{}}var vt=Math.clz32?Math.clz32:cc,uc=Math.log,Uo=Math.LN2;function cc(s){return s>>>=0,s===0?32:31-(uc(s)/Uo|0)|0}var Ti=256,Gr=262144,Ct=4194304;function Ei(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Si(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,_=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var R=c&134217727;return R!==0?(c=R&~_,c!==0?g=Ei(c):(A&=R,A!==0?g=Ei(A):l||(l=R&~s,l!==0&&(g=Ei(l))))):(R=c&~_,R!==0?g=Ei(R):A!==0?g=Ei(A):l||(l=c&~s,l!==0&&(g=Ei(l)))),g===0?0:o!==0&&o!==g&&(o&_)===0&&(_=g&-g,l=o&-o,_>=l||_===32&&(l&4194048)!==0)?o:g}function ei(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ch(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function Ai(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Hr(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fh(s,o,l,c,g,_){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var R=s.entanglements,B=s.expirationTimes,Q=s.hiddenUpdates;for(l=A&~l;0<l;){var ne=31-vt(l),oe=1<<ne;R[ne]=0,B[ne]=-1;var W=Q[ne];if(W!==null)for(Q[ne]=null,ne=0;ne<W.length;ne++){var ee=W[ne];ee!==null&&(ee.lane&=-536870913)}l&=~oe}c!==0&&$r(s,c,0),_!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=_&~(A&~o))}function $r(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-vt(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function dl(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-vt(l),g=1<<c;g&o|s[c]&o&&(s[c]|=o),l&=~g}}function hl(s,o){var l=o&-o;return l=(l&42)!==0?1:Yr(l),(l&(s.suspendedLanes|o))!==0?0:l}function Yr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Wi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function dc(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:GT(s.type))}function ti(s,o){var l=ce.p;try{return ce.p=s,o()}finally{ce.p=l}}var ni=Math.random().toString(36).slice(2),wt="__reactFiber$"+ni,Gt="__reactProps$"+ni,Ci="__reactContainer$"+ni,Oo="__reactEvents$"+ni,dh="__reactListeners$"+ni,hc="__reactHandles$"+ni,pc="__reactResources$"+ni,wi="__reactMarker$"+ni;function Bo(s){delete s[wt],delete s[Gt],delete s[Oo],delete s[dh],delete s[hc]}function Ii(s){var o=s[wt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Ci]||l[wt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=RT(s);s!==null;){if(l=s[wt])return l;s=RT(s)}return o}s=l,l=s.parentNode}return null}function Un(s){if(s=s[wt]||s[Ci]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Cn(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Ri(s){var o=s[pc];return o||(o=s[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function It(s){s[wi]=!0}var pl=new Set,ml={};function bi(s,o){xi(s,o),xi(s+"Capture",o)}function xi(s,o){for(ml[s]=o,s=0;s<o.length;s++)pl.add(o[s])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function mc(s){return At.call(vl,s)?!0:At.call(yl,s)?!1:gl.test(s)?vl[s]=!0:(yl[s]=!0,!1)}function qo(s,o,l){if(mc(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function wn(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Rt(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}function Ht(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ls(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _l(s,o,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){l=""+A,_.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ze(s){if(!s._valueTracker){var o=Ls(s)?"checked":"value";s._valueTracker=_l(s,o,""+s[o])}}function Jr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=Ls(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function Mi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Kr=/[\n"\\]/g;function mn(s){return s.replace(Kr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zo(s,o,l,c,g,_,A,R){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),o!=null?A==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ht(o)):s.value!==""+Ht(o)&&(s.value=""+Ht(o)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),o!=null?Tl(s,A,Ht(o)):l!=null?Tl(s,A,Ht(l)):c!=null&&s.removeAttribute("value"),g==null&&_!=null&&(s.defaultChecked=!!_),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+Ht(R):s.removeAttribute("name")}function gc(s,o,l,c,g,_,A,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Ze(s);return}l=l!=null?""+Ht(l):"",o=o!=null?""+Ht(o):l,R||o===s.value||(s.value=o),s.defaultValue=o}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=R?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),Ze(s)}function Tl(s,o,l){o==="number"&&Mi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ks(s,o,l,c){if(s=s.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=o.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Ht(l),o=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function yc(s,o,l){if(o!=null&&(o=""+Ht(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+Ht(l):""}function Us(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ue(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Ht(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),Ze(s)}function gn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||vc.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function Sl(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in o)c=o[g],o.hasOwnProperty(g)&&l[g]!==c&&El(s,g,c)}else for(var _ in o)o.hasOwnProperty(_)&&El(s,_,o[_])}function Fo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(s){return Os.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var Al=null;function On(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bs=null,Ni=null;function Qr(s){var o=Un(s);if(o&&(s=o.stateNode)){var l=s[Gt]||null;e:switch(s=o.stateNode,o.type){case"input":if(zo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var g=c[Gt]||null;if(!g)throw Error(i(90));zo(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&Jr(c)}break e;case"textarea":yc(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&ks(s,!!l.multiple,o,!1)}}}var Ho=!1;function qs(s,o,l){if(Ho)return s(o,l);Ho=!0;try{var c=s(o);return c}finally{if(Ho=!1,(Bs!==null||Ni!==null)&&(hf(),Bs&&(o=Bs,s=Ni,Ni=Bs=null,Qr(o),s)))for(o=0;o<s.length;o++)Qr(s[o])}}function si(s,o){var l=s.stateNode;if(l===null)return null;var c=l[Gt]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Bn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Wr=!1}var Di=null,Cl=null,Xr=null;function wl(){if(Xr)return Xr;var s,o=Cl,l=o.length,c,g="value"in Di?Di.value:Di.textContent,_=g.length;for(s=0;s<l&&o[s]===g[s];s++);var A=l-s;for(c=1;c<=A&&o[l-c]===g[_-c];c++);return Xr=g.slice(s,1<c?1-c:void 0)}function Zr(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Xi(){return!0}function ri(){return!1}function Kt(s){function o(l,c,g,_,A){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Xi:ri,this.isPropagationStopped=ri,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),o}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Kt(Zi),zs=T({},Zi,{view:0,detail:0}),Il=Kt(zs),Fs,$o,Vi,Yo=T({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vi&&(Vi&&s.type==="mousemove"?(Fs=s.screenX-Vi.screenX,$o=s.screenY-Vi.screenY):$o=Fs=0,Vi=s),Fs)},movementY:function(s){return"movementY"in s?s.movementY:$o}}),Rl=Kt(Yo),jr=T({},Yo,{dataTransfer:0}),Tc=Kt(jr),Ec=T({},zs,{relatedTarget:0}),eo=Kt(Ec),bl=T({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sc=Kt(bl),Jo=T({},Zi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ac=Kt(Jo),Cc=T({},Zi,{data:0}),Li=Kt(Cc),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Rc[s])?!!o[s]:!1}function Gs(){return bc}var dn=T({},zs,{key:function(s){if(s.key){var o=wc[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Zr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ic[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(s){return s.type==="keypress"?Zr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xc=Kt(dn),Mc=T({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Kt(Mc),m=T({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),S=Kt(m),C=T({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Kt(C),J=T({},Yo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Kt(J),fe=T({},Zi,{newState:0,oldState:0}),Ne=Kt(fe),_t=[9,13,27,32],Qe=Bn&&"CompositionEvent"in window,ft=null;Bn&&"documentMode"in document&&(ft=document.documentMode);var qn=Bn&&"TextEvent"in window&&!ft,ki=Bn&&(!Qe||ft&&8<ft&&11>=ft),oi=" ",ai=!1;function to(s,o){switch(s){case"keyup":return _t.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qo=!1;function KI(s,o){switch(s){case"compositionend":return Ko(o);case"keypress":return o.which!==32?null:(ai=!0,oi);case"textInput":return s=o.data,s===oi&&ai?null:s;default:return null}}function QI(s,o){if(Qo)return s==="compositionend"||!Qe&&to(s,o)?(s=wl(),Xr=Cl=Di=null,Qo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ki&&o.locale!=="ko"?null:o.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!WI[s.type]:o==="textarea"}function Ny(s,o,l,c){Bs?Ni?Ni.push(c):Ni=[c]:Bs=c,o=Tf(o,"onChange"),0<o.length&&(l=new Pi("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var xl=null,Ml=null;function XI(s){hT(s,0)}function Nc(s){var o=Cn(s);if(Jr(o))return s}function Dy(s,o){if(s==="change")return o}var Py=!1;if(Bn){var hh;if(Bn){var ph="oninput"in document;if(!ph){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),ph=typeof Vy.oninput=="function"}hh=ph}else hh=!1;Py=hh&&(!document.documentMode||9<document.documentMode)}function Ly(){xl&&(xl.detachEvent("onpropertychange",ky),Ml=xl=null)}function ky(s){if(s.propertyName==="value"&&Nc(Ml)){var o=[];Ny(o,Ml,s,On(s)),qs(XI,o)}}function ZI(s,o,l){s==="focusin"?(Ly(),xl=o,Ml=l,xl.attachEvent("onpropertychange",ky)):s==="focusout"&&Ly()}function jI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nc(Ml)}function eR(s,o){if(s==="click")return Nc(o)}function tR(s,o){if(s==="input"||s==="change")return Nc(o)}function nR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var In=typeof Object.is=="function"?Object.is:nR;function Nl(s,o){if(In(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!At.call(o,g)||!In(s[g],o[g]))return!1}return!0}function Uy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Oy(s,o){var l=Uy(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Uy(l)}}function By(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?By(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function qy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Mi(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Mi(s.document)}return o}function mh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var iR=Bn&&"documentMode"in document&&11>=document.documentMode,Wo=null,gh=null,Dl=null,yh=!1;function zy(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yh||Wo==null||Wo!==Mi(c)||(c=Wo,"selectionStart"in c&&mh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Dl&&Nl(Dl,c)||(Dl=c,c=Tf(gh,"onSelect"),0<c.length&&(o=new Pi("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=Wo)))}function no(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Xo={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},vh={},Fy={};Bn&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function io(s){if(vh[s])return vh[s];if(!Xo[s])return s;var o=Xo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Fy)return vh[s]=o[l];return s}var Gy=io("animationend"),Hy=io("animationiteration"),$y=io("animationstart"),sR=io("transitionrun"),rR=io("transitionstart"),oR=io("transitioncancel"),Yy=io("transitionend"),Jy=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function li(s,o){Jy.set(s,o),bi(o,[s])}var Dc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},zn=[],Zo=0,Th=0;function Pc(){for(var s=Zo,o=Th=Zo=0;o<s;){var l=zn[o];zn[o++]=null;var c=zn[o];zn[o++]=null;var g=zn[o];zn[o++]=null;var _=zn[o];if(zn[o++]=null,c!==null&&g!==null){var A=c.pending;A===null?g.next=g:(g.next=A.next,A.next=g),c.pending=g}_!==0&&Ky(l,g,_)}}function Vc(s,o,l,c){zn[Zo++]=s,zn[Zo++]=o,zn[Zo++]=l,zn[Zo++]=c,Th|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Eh(s,o,l,c){return Vc(s,o,l,c),Lc(s)}function so(s,o){return Vc(s,null,null,o),Lc(s)}function Ky(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,_=s.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(g=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,g&&o!==null&&(g=31-vt(l),s=_.hiddenUpdates,c=s[g],c===null?s[g]=[o]:c.push(o),o.lane=l|536870912),_):null}function Lc(s){if(50<eu)throw eu=0,Mp=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var jo={};function aR(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(s,o,l,c){return new aR(s,o,l,c)}function Sh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function es(s,o){var l=s.alternate;return l===null?(l=Rn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Qy(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function kc(s,o,l,c,g,_){var A=0;if(c=s,typeof s=="function")Sh(s)&&(A=1);else if(typeof s=="string")A=db(s,l,pe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case x:return s=Rn(31,l,o,g),s.elementType=x,s.lanes=_,s;case L:return ro(l.children,g,_,o);case k:A=8,g|=24;break;case G:return s=Rn(12,l,o,g|2),s.elementType=G,s.lanes=_,s;case j:return s=Rn(13,l,o,g),s.elementType=j,s.lanes=_,s;case ie:return s=Rn(19,l,o,g),s.elementType=ie,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:A=10;break e;case q:A=9;break e;case X:A=11;break e;case M:A=14;break e;case I:A=16,c=null;break e}A=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=Rn(A,l,o,g),o.elementType=s,o.type=c,o.lanes=_,o}function ro(s,o,l,c){return s=Rn(7,s,c,o),s.lanes=l,s}function Ah(s,o,l){return s=Rn(6,s,null,o),s.lanes=l,s}function Wy(s){var o=Rn(18,null,null,0);return o.stateNode=s,o}function Ch(s,o,l){return o=Rn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Xy=new WeakMap;function Fn(s,o){if(typeof s=="object"&&s!==null){var l=Xy.get(s);return l!==void 0?l:(o={value:s,source:o,stack:ul(o)},Xy.set(s,o),o)}return{value:s,source:o,stack:ul(o)}}var ea=[],ta=0,Uc=null,Pl=0,Gn=[],Hn=0,Hs=null,Ui=1,Oi="";function ts(s,o){ea[ta++]=Pl,ea[ta++]=Uc,Uc=s,Pl=o}function Zy(s,o,l){Gn[Hn++]=Ui,Gn[Hn++]=Oi,Gn[Hn++]=Hs,Hs=s;var c=Ui;s=Oi;var g=32-vt(c)-1;c&=~(1<<g),l+=1;var _=32-vt(o)+g;if(30<_){var A=g-g%5;_=(c&(1<<A)-1).toString(32),c>>=A,g-=A,Ui=1<<32-vt(o)+g|l<<g|c,Oi=_+s}else Ui=1<<_|l<<g|c,Oi=s}function wh(s){s.return!==null&&(ts(s,1),Zy(s,1,0))}function Ih(s){for(;s===Uc;)Uc=ea[--ta],ea[ta]=null,Pl=ea[--ta],ea[ta]=null;for(;s===Hs;)Hs=Gn[--Hn],Gn[Hn]=null,Oi=Gn[--Hn],Gn[Hn]=null,Ui=Gn[--Hn],Gn[Hn]=null}function jy(s,o){Gn[Hn++]=Ui,Gn[Hn++]=Oi,Gn[Hn++]=Hs,Ui=o.id,Oi=o.overflow,Hs=s}var Qt=null,ot=null,Ge=!1,$s=null,$n=!1,Rh=Error(i(519));function Ys(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Fn(o,s)),Rh}function ev(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[wt]=s,o[Gt]=c,l){case"dialog":ke("cancel",o),ke("close",o);break;case"iframe":case"object":case"embed":ke("load",o);break;case"video":case"audio":for(l=0;l<nu.length;l++)ke(nu[l],o);break;case"source":ke("error",o);break;case"img":case"image":case"link":ke("error",o),ke("load",o);break;case"details":ke("toggle",o);break;case"input":ke("invalid",o),gc(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",o);break;case"textarea":ke("invalid",o),Us(o,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||yT(o.textContent,l)?(c.popover!=null&&(ke("beforetoggle",o),ke("toggle",o)),c.onScroll!=null&&ke("scroll",o),c.onScrollEnd!=null&&ke("scrollend",o),c.onClick!=null&&(o.onclick=ii),o=!0):o=!1,o||Ys(s,!0)}function tv(s){for(Qt=s.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Qt=Qt.return}}function na(s){if(s!==Qt)return!1;if(!Ge)return tv(s),Ge=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||$p(s.type,s.memoizedProps)),l=!l),l&&ot&&Ys(s),tv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ot=IT(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ot=IT(s)}else o===27?(o=ot,or(s.type)?(s=Wp,Wp=null,ot=s):ot=o):ot=Qt?Jn(s.stateNode.nextSibling):null;return!0}function oo(){ot=Qt=null,Ge=!1}function bh(){var s=$s;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),$s=null),s}function Vl(s){$s===null?$s=[s]:$s.push(s)}var xh=H(null),ao=null,ns=null;function Js(s,o,l){de(xh,o._currentValue),o._currentValue=l}function is(s){s._currentValue=xh.current,re(xh)}function Mh(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function Nh(s,o,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var _=g.dependencies;if(_!==null){var A=g.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=g;for(var B=0;B<o.length;B++)if(R.context===o[B]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),Mh(_.return,l,s),c||(A=null);break e}_=R.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=l,_=A.alternate,_!==null&&(_.lanes|=l),Mh(A,l,s),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===s){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function ia(s,o,l,c){s=null;for(var g=o,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var R=g.type;In(g.pendingProps.value,A.value)||(s!==null?s.push(R):s=[R])}}else if(g===He.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(au):s=[au])}g=g.return}s!==null&&Nh(o,s,l,c),o.flags|=262144}function Oc(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function lo(s){ao=s,ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Wt(s){return nv(ao,s)}function Bc(s,o){return ao===null&&lo(s),nv(s,o)}function nv(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},ns===null){if(s===null)throw Error(i(308));ns=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ns=ns.next=o;return l}var lR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},uR=t.unstable_scheduleCallback,cR=t.unstable_NormalPriority,bt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new lR,data:new Map,refCount:0}}function Ll(s){s.refCount--,s.refCount===0&&uR(cR,function(){s.controller.abort()})}var kl=null,Ph=0,sa=0,ra=null;function fR(s,o){if(kl===null){var l=kl=[];Ph=0,sa=kp(),ra={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ph++,o.then(iv,iv),o}function iv(){if(--Ph===0&&kl!==null){ra!==null&&(ra.status="fulfilled");var s=kl;kl=null,sa=0,ra=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function dR(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var sv=te.S;te.S=function(s,o){z_=fn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&fR(s,o),sv!==null&&sv(s,o)};var uo=H(null);function Vh(){var s=uo.current;return s!==null?s:rt.pooledCache}function qc(s,o){o===null?de(uo,uo.current):de(uo,o.pool)}function rv(){var s=Vh();return s===null?null:{parent:bt._currentValue,pool:s}}var oa=Error(i(460)),Lh=Error(i(474)),zc=Error(i(542)),Fc={then:function(){}};function ov(s){return s=s.status,s==="fulfilled"||s==="rejected"}function av(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(ii,ii),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,uv(s),s;default:if(typeof o.status=="string")o.then(ii,ii);else{if(s=rt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=c}},function(c){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,uv(s),s}throw fo=o,oa}}function co(s){try{var o=s._init;return o(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(fo=l,oa):l}}var fo=null;function lv(){if(fo===null)throw Error(i(459));var s=fo;return fo=null,s}function uv(s){if(s===oa||s===zc)throw Error(i(483))}var aa=null,Ul=0;function Gc(s){var o=Ul;return Ul+=1,aa===null&&(aa=[]),av(aa,s,o)}function Ol(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Hc(s,o){throw o.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function cv(s){function o(Y,$){if(s){var K=Y.deletions;K===null?(Y.deletions=[$],Y.flags|=16):K.push($)}}function l(Y,$){if(!s)return null;for(;$!==null;)o(Y,$),$=$.sibling;return null}function c(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function g(Y,$){return Y=es(Y,$),Y.index=0,Y.sibling=null,Y}function _(Y,$,K){return Y.index=K,s?(K=Y.alternate,K!==null?(K=K.index,K<$?(Y.flags|=67108866,$):K):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,$,K,se){return $===null||$.tag!==6?($=Ah(K,Y.mode,se),$.return=Y,$):($=g($,K),$.return=Y,$)}function B(Y,$,K,se){var Te=K.type;return Te===L?ne(Y,$,K.props.children,se,K.key):$!==null&&($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&co(Te)===$.type)?($=g($,K.props),Ol($,K),$.return=Y,$):($=kc(K.type,K.key,K.props,null,Y.mode,se),Ol($,K),$.return=Y,$)}function Q(Y,$,K,se){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Ch(K,Y.mode,se),$.return=Y,$):($=g($,K.children||[]),$.return=Y,$)}function ne(Y,$,K,se,Te){return $===null||$.tag!==7?($=ro(K,Y.mode,se,Te),$.return=Y,$):($=g($,K),$.return=Y,$)}function oe(Y,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Ah(""+$,Y.mode,K),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return K=kc($.type,$.key,$.props,null,Y.mode,K),Ol(K,$),K.return=Y,K;case D:return $=Ch($,Y.mode,K),$.return=Y,$;case I:return $=co($),oe(Y,$,K)}if(Ue($)||O($))return $=ro($,Y.mode,K,null),$.return=Y,$;if(typeof $.then=="function")return oe(Y,Gc($),K);if($.$$typeof===z)return oe(Y,Bc(Y,$),K);Hc(Y,$)}return null}function W(Y,$,K,se){var Te=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:R(Y,$,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===Te?B(Y,$,K,se):null;case D:return K.key===Te?Q(Y,$,K,se):null;case I:return K=co(K),W(Y,$,K,se)}if(Ue(K)||O(K))return Te!==null?null:ne(Y,$,K,se,null);if(typeof K.then=="function")return W(Y,$,Gc(K),se);if(K.$$typeof===z)return W(Y,$,Bc(Y,K),se);Hc(Y,K)}return null}function ee(Y,$,K,se,Te){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(K)||null,R($,Y,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return Y=Y.get(se.key===null?K:se.key)||null,B($,Y,se,Te);case D:return Y=Y.get(se.key===null?K:se.key)||null,Q($,Y,se,Te);case I:return se=co(se),ee(Y,$,K,se,Te)}if(Ue(se)||O(se))return Y=Y.get(K)||null,ne($,Y,se,Te,null);if(typeof se.then=="function")return ee(Y,$,K,Gc(se),Te);if(se.$$typeof===z)return ee(Y,$,K,Bc($,se),Te);Hc($,se)}return null}function me(Y,$,K,se){for(var Te=null,Ye=null,ye=$,Ve=$=0,Be=null;ye!==null&&Ve<K.length;Ve++){ye.index>Ve?(Be=ye,ye=null):Be=ye.sibling;var Je=W(Y,ye,K[Ve],se);if(Je===null){ye===null&&(ye=Be);break}s&&ye&&Je.alternate===null&&o(Y,ye),$=_(Je,$,Ve),Ye===null?Te=Je:Ye.sibling=Je,Ye=Je,ye=Be}if(Ve===K.length)return l(Y,ye),Ge&&ts(Y,Ve),Te;if(ye===null){for(;Ve<K.length;Ve++)ye=oe(Y,K[Ve],se),ye!==null&&($=_(ye,$,Ve),Ye===null?Te=ye:Ye.sibling=ye,Ye=ye);return Ge&&ts(Y,Ve),Te}for(ye=c(ye);Ve<K.length;Ve++)Be=ee(ye,Y,Ve,K[Ve],se),Be!==null&&(s&&Be.alternate!==null&&ye.delete(Be.key===null?Ve:Be.key),$=_(Be,$,Ve),Ye===null?Te=Be:Ye.sibling=Be,Ye=Be);return s&&ye.forEach(function(fr){return o(Y,fr)}),Ge&&ts(Y,Ve),Te}function Se(Y,$,K,se){if(K==null)throw Error(i(151));for(var Te=null,Ye=null,ye=$,Ve=$=0,Be=null,Je=K.next();ye!==null&&!Je.done;Ve++,Je=K.next()){ye.index>Ve?(Be=ye,ye=null):Be=ye.sibling;var fr=W(Y,ye,Je.value,se);if(fr===null){ye===null&&(ye=Be);break}s&&ye&&fr.alternate===null&&o(Y,ye),$=_(fr,$,Ve),Ye===null?Te=fr:Ye.sibling=fr,Ye=fr,ye=Be}if(Je.done)return l(Y,ye),Ge&&ts(Y,Ve),Te;if(ye===null){for(;!Je.done;Ve++,Je=K.next())Je=oe(Y,Je.value,se),Je!==null&&($=_(Je,$,Ve),Ye===null?Te=Je:Ye.sibling=Je,Ye=Je);return Ge&&ts(Y,Ve),Te}for(ye=c(ye);!Je.done;Ve++,Je=K.next())Je=ee(ye,Y,Ve,Je.value,se),Je!==null&&(s&&Je.alternate!==null&&ye.delete(Je.key===null?Ve:Je.key),$=_(Je,$,Ve),Ye===null?Te=Je:Ye.sibling=Je,Ye=Je);return s&&ye.forEach(function(Ab){return o(Y,Ab)}),Ge&&ts(Y,Ve),Te}function st(Y,$,K,se){if(typeof K=="object"&&K!==null&&K.type===L&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var Te=K.key;$!==null;){if($.key===Te){if(Te=K.type,Te===L){if($.tag===7){l(Y,$.sibling),se=g($,K.props.children),se.return=Y,Y=se;break e}}else if($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&co(Te)===$.type){l(Y,$.sibling),se=g($,K.props),Ol(se,K),se.return=Y,Y=se;break e}l(Y,$);break}else o(Y,$);$=$.sibling}K.type===L?(se=ro(K.props.children,Y.mode,se,K.key),se.return=Y,Y=se):(se=kc(K.type,K.key,K.props,null,Y.mode,se),Ol(se,K),se.return=Y,Y=se)}return A(Y);case D:e:{for(Te=K.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(Y,$.sibling),se=g($,K.children||[]),se.return=Y,Y=se;break e}else{l(Y,$);break}else o(Y,$);$=$.sibling}se=Ch(K,Y.mode,se),se.return=Y,Y=se}return A(Y);case I:return K=co(K),st(Y,$,K,se)}if(Ue(K))return me(Y,$,K,se);if(O(K)){if(Te=O(K),typeof Te!="function")throw Error(i(150));return K=Te.call(K),Se(Y,$,K,se)}if(typeof K.then=="function")return st(Y,$,Gc(K),se);if(K.$$typeof===z)return st(Y,$,Bc(Y,K),se);Hc(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(l(Y,$.sibling),se=g($,K),se.return=Y,Y=se):(l(Y,$),se=Ah(K,Y.mode,se),se.return=Y,Y=se),A(Y)):l(Y,$)}return function(Y,$,K,se){try{Ul=0;var Te=st(Y,$,K,se);return aa=null,Te}catch(ye){if(ye===oa||ye===zc)throw ye;var Ye=Rn(29,ye,null,Y.mode);return Ye.lanes=se,Ye.return=Y,Ye}finally{}}}var ho=cv(!0),fv=cv(!1),Ks=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ws(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var g=c.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),c.pending=o,o=Lc(s),Ky(s,null,l),o}return Vc(s,c,o,l),Lc(s)}function Bl(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,dl(s,l)}}function Oh(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=A:_=_.next=A,l=l.next}while(l!==null);_===null?g=_=o:_=_.next=o}else g=_=o;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var Bh=!1;function ql(){if(Bh){var s=ra;if(s!==null)throw s}}function zl(s,o,l,c){Bh=!1;var g=s.updateQueue;Ks=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var B=R,Q=B.next;B.next=null,A===null?_=Q:A.next=Q,A=B;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==A&&(R===null?ne.firstBaseUpdate=Q:R.next=Q,ne.lastBaseUpdate=B))}if(_!==null){var oe=g.baseState;A=0,ne=Q=B=null,R=_;do{var W=R.lane&-536870913,ee=W!==R.lane;if(ee?(Oe&W)===W:(c&W)===W){W!==0&&W===sa&&(Bh=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var me=s,Se=R;W=o;var st=l;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){oe=me.call(st,oe,W);break e}oe=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,W=typeof me=="function"?me.call(st,oe,W):me,W==null)break e;oe=T({},oe,W);break e;case 2:Ks=!0}}W=R.callback,W!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=g.callbacks,ee===null?g.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(Q=ne=ee,B=oe):ne=ne.next=ee,A|=W;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);ne===null&&(B=oe),g.baseState=B,g.firstBaseUpdate=Q,g.lastBaseUpdate=ne,_===null&&(g.shared.lanes=0),tr|=A,s.lanes=A,s.memoizedState=oe}}function dv(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function hv(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)dv(l[s],o)}var la=H(null),$c=H(0);function pv(s,o){s=ds,de($c,s),de(la,o),ds=s|o.baseLanes}function qh(){de($c,ds),de(la,la.current)}function zh(){ds=$c.current,re(la),re($c)}var bn=H(null),Yn=null;function Xs(s){var o=s.alternate;de(Tt,Tt.current&1),de(bn,s),Yn===null&&(o===null||la.current!==null||o.memoizedState!==null)&&(Yn=s)}function Fh(s){de(Tt,Tt.current),de(bn,s),Yn===null&&(Yn=s)}function mv(s){s.tag===22?(de(Tt,Tt.current),de(bn,s),Yn===null&&(Yn=s)):Zs()}function Zs(){de(Tt,Tt.current),de(bn,bn.current)}function xn(s){re(bn),Yn===s&&(Yn=null),re(Tt)}var Tt=H(0);function Yc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Kp(l)||Qp(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ss=0,De=null,nt=null,xt=null,Jc=!1,ua=!1,po=!1,Kc=0,Fl=0,ca=null,hR=0;function gt(){throw Error(i(321))}function Gh(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!In(s[l],o[l]))return!1;return!0}function Hh(s,o,l,c,g,_){return ss=_,De=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,te.H=s===null||s.memoizedState===null?Zv:rp,po=!1,_=l(c,g),po=!1,ua&&(_=yv(o,l,c,g)),gv(s),_}function gv(s){te.H=$l;var o=nt!==null&&nt.next!==null;if(ss=0,xt=nt=De=null,Jc=!1,Fl=0,ca=null,o)throw Error(i(300));s===null||Mt||(s=s.dependencies,s!==null&&Oc(s)&&(Mt=!0))}function yv(s,o,l,c){De=s;var g=0;do{if(ua&&(ca=null),Fl=0,ua=!1,25<=g)throw Error(i(301));if(g+=1,xt=nt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}te.H=jv,_=o(l,c)}while(ua);return _}function pR(){var s=te.H,o=s.useState()[0];return o=typeof o.then=="function"?Gl(o):o,s=s.useState()[0],(nt!==null?nt.memoizedState:null)!==s&&(De.flags|=1024),o}function $h(){var s=Kc!==0;return Kc=0,s}function Yh(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function Jh(s){if(Jc){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Jc=!1}ss=0,xt=nt=De=null,ua=!1,Fl=Kc=0,ca=null}function hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=s:xt=xt.next=s,xt}function Et(){if(nt===null){var s=De.alternate;s=s!==null?s.memoizedState:null}else s=nt.next;var o=xt===null?De.memoizedState:xt.next;if(o!==null)xt=o,nt=s;else{if(s===null)throw De.alternate===null?Error(i(467)):Error(i(310));nt=s,s={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},xt===null?De.memoizedState=xt=s:xt=xt.next=s}return xt}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(s){var o=Fl;return Fl+=1,ca===null&&(ca=[]),s=av(ca,s,o),o=De,(xt===null?o.memoizedState:xt.next)===null&&(o=o.alternate,te.H=o===null||o.memoizedState===null?Zv:rp),s}function Wc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gl(s);if(s.$$typeof===z)return Wt(s)}throw Error(i(438,String(s)))}function Kh(s){var o=null,l=De.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Qc(),De.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=V;return o.index++,l}function rs(s,o){return typeof o=="function"?o(s):o}function Xc(s){var o=Et();return Qh(o,nt,s)}function Qh(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=s.baseQueue,_=c.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}o.baseQueue=g=_,c.pending=null}if(_=s.baseState,g===null)s.memoizedState=_;else{o=g.next;var R=A=null,B=null,Q=o,ne=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Oe&oe)===oe:(ss&oe)===oe){var W=Q.revertLane;if(W===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===sa&&(ne=!0);else if((ss&W)===W){Q=Q.next,W===sa&&(ne=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(R=B=oe,A=_):B=B.next=oe,De.lanes|=W,tr|=W;oe=Q.action,po&&l(_,oe),_=Q.hasEagerState?Q.eagerState:l(_,oe)}else W={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(R=B=W,A=_):B=B.next=W,De.lanes|=oe,tr|=oe;Q=Q.next}while(Q!==null&&Q!==o);if(B===null?A=_:B.next=R,!In(_,s.memoizedState)&&(Mt=!0,ne&&(l=ra,l!==null)))throw l;s.memoizedState=_,s.baseState=A,s.baseQueue=B,c.lastRenderedState=_}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Wh(s){var o=Et(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,_=o.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do _=s(_,A.action),A=A.next;while(A!==g);In(_,o.memoizedState)||(Mt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,c]}function vv(s,o,l){var c=De,g=Et(),_=Ge;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=o();var A=!In((nt||g).memoizedState,l);if(A&&(g.memoizedState=l,Mt=!0),g=g.queue,jh(Ev.bind(null,c,g,s),[s]),g.getSnapshot!==o||A||xt!==null&&xt.memoizedState.tag&1){if(c.flags|=2048,fa(9,{destroy:void 0},Tv.bind(null,c,g,l,o),null),rt===null)throw Error(i(349));_||(ss&127)!==0||_v(c,o,l)}return l}function _v(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=De.updateQueue,o===null?(o=Qc(),De.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Tv(s,o,l,c){o.value=l,o.getSnapshot=c,Sv(o)&&Av(s)}function Ev(s,o,l){return l(function(){Sv(o)&&Av(s)})}function Sv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!In(s,l)}catch{return!0}}function Av(s){var o=so(s,2);o!==null&&En(o,s,2)}function Xh(s){var o=hn();if(typeof s=="function"){var l=s;if(s=l(),po){kn(!0);try{l()}finally{kn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},o}function Cv(s,o,l,c){return s.baseState=l,Qh(s,nt,typeof c=="function"?c:rs)}function mR(s,o,l,c,g){if(ef(s))throw Error(i(485));if(s=o.action,s!==null){var _={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};te.T!==null?l(!0):_.isTransition=!1,c(_),l=o.pending,l===null?(_.next=o.pending=_,wv(o,_)):(_.next=l.next,o.pending=l.next=_)}}function wv(s,o){var l=o.action,c=o.payload,g=s.state;if(o.isTransition){var _=te.T,A={};te.T=A;try{var R=l(g,c),B=te.S;B!==null&&B(A,R),Iv(s,o,R)}catch(Q){Zh(s,o,Q)}finally{_!==null&&A.types!==null&&(_.types=A.types),te.T=_}}else try{_=l(g,c),Iv(s,o,_)}catch(Q){Zh(s,o,Q)}}function Iv(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Rv(s,o,c)},function(c){return Zh(s,o,c)}):Rv(s,o,l)}function Rv(s,o,l){o.status="fulfilled",o.value=l,bv(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,wv(s,l)))}function Zh(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,bv(o),o=o.next;while(o!==c)}s.action=null}function bv(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function xv(s,o){return o}function Mv(s,o){if(Ge){var l=rt.formState;if(l!==null){e:{var c=De;if(Ge){if(ot){t:{for(var g=ot,_=$n;g.nodeType!==8;){if(!_){g=null;break t}if(g=Jn(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){ot=Jn(g.nextSibling),c=g.data==="F!";break e}}Ys(c)}c=!1}c&&(o=l[0])}}return l=hn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:o},l.queue=c,l=Qv.bind(null,De,c),c.dispatch=l,c=Xh(!1),_=sp.bind(null,De,!1,c.queue),c=hn(),g={state:o,dispatch:null,action:s,pending:null},c.queue=g,l=mR.bind(null,De,g,_,l),g.dispatch=l,c.memoizedState=s,[o,l,!1]}function Nv(s){var o=Et();return Dv(o,nt,s)}function Dv(s,o,l){if(o=Qh(s,o,xv)[0],s=Xc(rs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Gl(o)}catch(A){throw A===oa?zc:A}else c=o;o=Et();var g=o.queue,_=g.dispatch;return l!==o.memoizedState&&(De.flags|=2048,fa(9,{destroy:void 0},gR.bind(null,g,l),null)),[c,_,s]}function gR(s,o){s.action=o}function Pv(s){var o=Et(),l=nt;if(l!==null)return Dv(o,l,s);Et(),o=o.memoizedState,l=Et();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function fa(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=De.updateQueue,o===null&&(o=Qc(),De.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function Vv(){return Et().memoizedState}function Zc(s,o,l,c){var g=hn();De.flags|=s,g.memoizedState=fa(1|o,{destroy:void 0},l,c===void 0?null:c)}function jc(s,o,l,c){var g=Et();c=c===void 0?null:c;var _=g.memoizedState.inst;nt!==null&&c!==null&&Gh(c,nt.memoizedState.deps)?g.memoizedState=fa(o,_,l,c):(De.flags|=s,g.memoizedState=fa(1|o,_,l,c))}function Lv(s,o){Zc(8390656,8,s,o)}function jh(s,o){jc(2048,8,s,o)}function yR(s){De.flags|=4;var o=De.updateQueue;if(o===null)o=Qc(),De.updateQueue=o,o.events=[s];else{var l=o.events;l===null?o.events=[s]:l.push(s)}}function kv(s){var o=Et().memoizedState;return yR({ref:o,nextImpl:s}),function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Uv(s,o){return jc(4,2,s,o)}function Ov(s,o){return jc(4,4,s,o)}function Bv(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function qv(s,o,l){l=l!=null?l.concat([s]):null,jc(4,4,Bv.bind(null,o,s),l)}function ep(){}function zv(s,o){var l=Et();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&Gh(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function Fv(s,o){var l=Et();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&Gh(o,c[1]))return c[0];if(c=s(),po){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[c,o],c}function tp(s,o,l){return l===void 0||(ss&1073741824)!==0&&(Oe&261930)===0?s.memoizedState=o:(s.memoizedState=l,s=G_(),De.lanes|=s,tr|=s,l)}function Gv(s,o,l,c){return In(l,o)?l:la.current!==null?(s=tp(s,l,c),In(s,o)||(Mt=!0),s):(ss&42)===0||(ss&1073741824)!==0&&(Oe&261930)===0?(Mt=!0,s.memoizedState=l):(s=G_(),De.lanes|=s,tr|=s,o)}function Hv(s,o,l,c,g){var _=ce.p;ce.p=_!==0&&8>_?_:8;var A=te.T,R={};te.T=R,sp(s,!1,o,l);try{var B=g(),Q=te.S;if(Q!==null&&Q(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=dR(B,c);Hl(s,o,ne,Dn(s))}else Hl(s,o,c,Dn(s))}catch(oe){Hl(s,o,{then:function(){},status:"rejected",reason:oe},Dn())}finally{ce.p=_,A!==null&&R.types!==null&&(A.types=R.types),te.T=A}}function vR(){}function np(s,o,l,c){if(s.tag!==5)throw Error(i(476));var g=$v(s).queue;Hv(s,g,o,le,l===null?vR:function(){return Yv(s),l(c)})}function $v(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:le},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Yv(s){var o=$v(s);o.next===null&&(o=s.alternate.memoizedState),Hl(s,o.next.queue,{},Dn())}function ip(){return Wt(au)}function Jv(){return Et().memoizedState}function Kv(){return Et().memoizedState}function _R(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Dn();s=Qs(l);var c=Ws(o,s,l);c!==null&&(En(c,o,l),Bl(c,o,l)),o={cache:Dh()},s.payload=o;return}o=o.return}}function TR(s,o,l){var c=Dn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ef(s)?Wv(o,l):(l=Eh(s,o,l,c),l!==null&&(En(l,s,c),Xv(l,o,c)))}function Qv(s,o,l){var c=Dn();Hl(s,o,l,c)}function Hl(s,o,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ef(s))Wv(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,R=_(A,l);if(g.hasEagerState=!0,g.eagerState=R,In(R,A))return Vc(s,o,g,0),rt===null&&Pc(),!1}catch{}finally{}if(l=Eh(s,o,g,c),l!==null)return En(l,s,c),Xv(l,o,c),!0}return!1}function sp(s,o,l,c){if(c={lane:2,revertLane:kp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ef(s)){if(o)throw Error(i(479))}else o=Eh(s,l,c,2),o!==null&&En(o,s,2)}function ef(s){var o=s.alternate;return s===De||o!==null&&o===De}function Wv(s,o){ua=Jc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Xv(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,dl(s,l)}}var $l={readContext:Wt,use:Wc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};$l.useEffectEvent=gt;var Zv={readContext:Wt,use:Wc,useCallback:function(s,o){return hn().memoizedState=[s,o===void 0?null:o],s},useContext:Wt,useEffect:Lv,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,Zc(4194308,4,Bv.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Zc(4194308,4,s,o)},useInsertionEffect:function(s,o){Zc(4,2,s,o)},useMemo:function(s,o){var l=hn();o=o===void 0?null:o;var c=s();if(po){kn(!0);try{s()}finally{kn(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=hn();if(l!==void 0){var g=l(o);if(po){kn(!0);try{l(o)}finally{kn(!1)}}}else g=o;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=TR.bind(null,De,s),[c.memoizedState,s]},useRef:function(s){var o=hn();return s={current:s},o.memoizedState=s},useState:function(s){s=Xh(s);var o=s.queue,l=Qv.bind(null,De,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:ep,useDeferredValue:function(s,o){var l=hn();return tp(l,s,o)},useTransition:function(){var s=Xh(!1);return s=Hv.bind(null,De,s.queue,!0,!1),hn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=De,g=hn();if(Ge){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),rt===null)throw Error(i(349));(Oe&127)!==0||_v(c,o,l)}g.memoizedState=l;var _={value:l,getSnapshot:o};return g.queue=_,Lv(Ev.bind(null,c,_,s),[s]),c.flags|=2048,fa(9,{destroy:void 0},Tv.bind(null,c,_,l,o),null),l},useId:function(){var s=hn(),o=rt.identifierPrefix;if(Ge){var l=Oi,c=Ui;l=(c&~(1<<32-vt(c)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Kc++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=hR++,o="_"+o+"r_"+l.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:ip,useFormState:Mv,useActionState:Mv,useOptimistic:function(s){var o=hn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=sp.bind(null,De,!0,l),l.dispatch=o,[s,o]},useMemoCache:Kh,useCacheRefresh:function(){return hn().memoizedState=_R.bind(null,De)},useEffectEvent:function(s){var o=hn(),l={impl:s};return o.memoizedState=l,function(){if((We&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},rp={readContext:Wt,use:Wc,useCallback:zv,useContext:Wt,useEffect:jh,useImperativeHandle:qv,useInsertionEffect:Uv,useLayoutEffect:Ov,useMemo:Fv,useReducer:Xc,useRef:Vv,useState:function(){return Xc(rs)},useDebugValue:ep,useDeferredValue:function(s,o){var l=Et();return Gv(l,nt.memoizedState,s,o)},useTransition:function(){var s=Xc(rs)[0],o=Et().memoizedState;return[typeof s=="boolean"?s:Gl(s),o]},useSyncExternalStore:vv,useId:Jv,useHostTransitionStatus:ip,useFormState:Nv,useActionState:Nv,useOptimistic:function(s,o){var l=Et();return Cv(l,nt,s,o)},useMemoCache:Kh,useCacheRefresh:Kv};rp.useEffectEvent=kv;var jv={readContext:Wt,use:Wc,useCallback:zv,useContext:Wt,useEffect:jh,useImperativeHandle:qv,useInsertionEffect:Uv,useLayoutEffect:Ov,useMemo:Fv,useReducer:Wh,useRef:Vv,useState:function(){return Wh(rs)},useDebugValue:ep,useDeferredValue:function(s,o){var l=Et();return nt===null?tp(l,s,o):Gv(l,nt.memoizedState,s,o)},useTransition:function(){var s=Wh(rs)[0],o=Et().memoizedState;return[typeof s=="boolean"?s:Gl(s),o]},useSyncExternalStore:vv,useId:Jv,useHostTransitionStatus:ip,useFormState:Pv,useActionState:Pv,useOptimistic:function(s,o){var l=Et();return nt!==null?Cv(l,nt,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:Kv};jv.useEffectEvent=kv;function op(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:T({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ap={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=Dn(),g=Qs(c);g.payload=o,l!=null&&(g.callback=l),o=Ws(s,g,c),o!==null&&(En(o,s,c),Bl(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=Dn(),g=Qs(c);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Ws(s,g,c),o!==null&&(En(o,s,c),Bl(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Dn(),c=Qs(l);c.tag=2,o!=null&&(c.callback=o),o=Ws(s,c,l),o!==null&&(En(o,s,l),Bl(o,s,l))}};function e_(s,o,l,c,g,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,_,A):o.prototype&&o.prototype.isPureReactComponent?!Nl(l,c)||!Nl(g,_):!0}function t_(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&ap.enqueueReplaceState(o,o.state,null)}function mo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=T({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function n_(s){Dc(s)}function i_(s){console.error(s)}function s_(s){Dc(s)}function tf(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function r_(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function lp(s,o,l){return l=Qs(l),l.tag=3,l.payload={element:null},l.callback=function(){tf(s,o)},l}function o_(s){return s=Qs(s),s.tag=3,s}function a_(s,o,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=c.value;s.payload=function(){return g(_)},s.callback=function(){r_(o,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){r_(o,l,c),typeof g!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function ER(s,o,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&ia(o,l,g,!0),l=bn.current,l!==null){switch(l.tag){case 31:case 13:return Yn===null?pf():l.alternate===null&&yt===0&&(yt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===Fc?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),Pp(s,c,g)),!1;case 22:return l.flags|=65536,c===Fc?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),Pp(s,c,g)),!1}throw Error(i(435,l.tag))}return Pp(s,c,g),pf(),!1}if(Ge)return o=bn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,c!==Rh&&(s=Error(i(422),{cause:c}),Vl(Fn(s,l)))):(c!==Rh&&(o=Error(i(423),{cause:c}),Vl(Fn(o,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Fn(c,l),g=lp(s.stateNode,c,g),Oh(s,g),yt!==4&&(yt=2)),!1;var _=Error(i(520),{cause:c});if(_=Fn(_,l),jl===null?jl=[_]:jl.push(_),yt!==4&&(yt=2),o===null)return!0;c=Fn(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=lp(l.stateNode,c,s),Oh(l,s),!1;case 1:if(o=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nr===null||!nr.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=o_(g),a_(g,s,l,c),Oh(l,g),!1}l=l.return}while(l!==null);return!1}var up=Error(i(461)),Mt=!1;function Xt(s,o,l,c){o.child=s===null?fv(o,null,l,c):ho(o,s.child,l,c)}function l_(s,o,l,c,g){l=l.render;var _=o.ref;if("ref"in c){var A={};for(var R in c)R!=="ref"&&(A[R]=c[R])}else A=c;return lo(o),c=Hh(s,o,l,A,_,g),R=$h(),s!==null&&!Mt?(Yh(s,o,g),os(s,o,g)):(Ge&&R&&wh(o),o.flags|=1,Xt(s,o,c,g),o.child)}function u_(s,o,l,c,g){if(s===null){var _=l.type;return typeof _=="function"&&!Sh(_)&&_.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=_,c_(s,o,_,c,g)):(s=kc(l.type,null,c,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!yp(s,g)){var A=_.memoizedProps;if(l=l.compare,l=l!==null?l:Nl,l(A,c)&&s.ref===o.ref)return os(s,o,g)}return o.flags|=1,s=es(_,c),s.ref=o.ref,s.return=o,o.child=s}function c_(s,o,l,c,g){if(s!==null){var _=s.memoizedProps;if(Nl(_,c)&&s.ref===o.ref)if(Mt=!1,o.pendingProps=c=_,yp(s,g))(s.flags&131072)!==0&&(Mt=!0);else return o.lanes=s.lanes,os(s,o,g)}return cp(s,o,l,c,g)}function f_(s,o,l,c){var g=c.children,_=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,s!==null){for(c=o.child=s.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~_}else c=0,o.child=null;return d_(s,o,_,l,c)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&qc(o,_!==null?_.cachePool:null),_!==null?pv(o,_):qh(),mv(o);else return c=o.lanes=536870912,d_(s,o,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(qc(o,_.cachePool),pv(o,_),Zs(),o.memoizedState=null):(s!==null&&qc(o,null),qh(),Zs());return Xt(s,o,g,l),o.child}function Yl(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function d_(s,o,l,c,g){var _=Vh();return _=_===null?null:{parent:bt._currentValue,pool:_},o.memoizedState={baseLanes:l,cachePool:_},s!==null&&qc(o,null),qh(),mv(o),s!==null&&ia(s,o,c,!0),o.childLanes=g,null}function nf(s,o){return o=rf({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function h_(s,o,l){return ho(o,s.child,null,l),s=nf(o,o.pendingProps),s.flags|=2,xn(o),o.memoizedState=null,s}function SR(s,o,l){var c=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Ge){if(c.mode==="hidden")return s=nf(o,c),o.lanes=536870912,Yl(null,s);if(Fh(o),(s=ot)?(s=wT(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Hs!==null?{id:Ui,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},l=Wy(s),l.return=o,o.child=l,Qt=o,ot=null)):s=null,s===null)throw Ys(o);return o.lanes=536870912,null}return nf(o,c)}var _=s.memoizedState;if(_!==null){var A=_.dehydrated;if(Fh(o),g)if(o.flags&256)o.flags&=-257,o=h_(s,o,l);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(Mt||ia(s,o,l,!1),g=(l&s.childLanes)!==0,Mt||g){if(c=rt,c!==null&&(A=hl(c,l),A!==0&&A!==_.retryLane))throw _.retryLane=A,so(s,A),En(c,s,A),up;pf(),o=h_(s,o,l)}else s=_.treeContext,ot=Jn(A.nextSibling),Qt=o,Ge=!0,$s=null,$n=!1,s!==null&&jy(o,s),o=nf(o,c),o.flags|=4096;return o}return s=es(s.child,{mode:c.mode,children:c.children}),s.ref=o.ref,o.child=s,s.return=o,s}function sf(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function cp(s,o,l,c,g){return lo(o),l=Hh(s,o,l,c,void 0,g),c=$h(),s!==null&&!Mt?(Yh(s,o,g),os(s,o,g)):(Ge&&c&&wh(o),o.flags|=1,Xt(s,o,l,g),o.child)}function p_(s,o,l,c,g,_){return lo(o),o.updateQueue=null,l=yv(o,c,l,g),gv(s),c=$h(),s!==null&&!Mt?(Yh(s,o,_),os(s,o,_)):(Ge&&c&&wh(o),o.flags|=1,Xt(s,o,l,_),o.child)}function m_(s,o,l,c,g){if(lo(o),o.stateNode===null){var _=jo,A=l.contextType;typeof A=="object"&&A!==null&&(_=Wt(A)),_=new l(c,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ap,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=c,_.state=o.memoizedState,_.refs={},kh(o),A=l.contextType,_.context=typeof A=="object"&&A!==null?Wt(A):jo,_.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(op(o,l,A,c),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&ap.enqueueReplaceState(_,_.state,null),zl(o,c,_,g),ql(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){_=o.stateNode;var R=o.memoizedProps,B=mo(l,R);_.props=B;var Q=_.context,ne=l.contextType;A=jo,typeof ne=="object"&&ne!==null&&(A=Wt(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ne||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||Q!==A)&&t_(o,_,c,A),Ks=!1;var W=o.memoizedState;_.state=W,zl(o,c,_,g),ql(),Q=o.memoizedState,R||W!==Q||Ks?(typeof oe=="function"&&(op(o,l,oe,c),Q=o.memoizedState),(B=Ks||e_(o,l,B,c,W,Q,A))?(ne||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Q),_.props=c,_.state=Q,_.context=A,c=B):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{_=o.stateNode,Uh(s,o),A=o.memoizedProps,ne=mo(l,A),_.props=ne,oe=o.pendingProps,W=_.context,Q=l.contextType,B=jo,typeof Q=="object"&&Q!==null&&(B=Wt(Q)),R=l.getDerivedStateFromProps,(Q=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==oe||W!==B)&&t_(o,_,c,B),Ks=!1,W=o.memoizedState,_.state=W,zl(o,c,_,g),ql();var ee=o.memoizedState;A!==oe||W!==ee||Ks||s!==null&&s.dependencies!==null&&Oc(s.dependencies)?(typeof R=="function"&&(op(o,l,R,c),ee=o.memoizedState),(ne=Ks||e_(o,l,ne,c,W,ee,B)||s!==null&&s.dependencies!==null&&Oc(s.dependencies))?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ee,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ee,B)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=ee),_.props=c,_.state=ee,_.context=B,c=ne):(typeof _.componentDidUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&W===s.memoizedState||(o.flags|=1024),c=!1)}return _=c,sf(s,o),c=(o.flags&128)!==0,_||c?(_=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&c?(o.child=ho(o,s.child,null,g),o.child=ho(o,null,l,g)):Xt(s,o,l,g),o.memoizedState=_.state,s=o.child):s=os(s,o,g),s}function g_(s,o,l,c){return oo(),o.flags|=256,Xt(s,o,l,c),o.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(s){return{baseLanes:s,cachePool:rv()}}function hp(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=Nn),s}function y_(s,o,l){var c=o.pendingProps,g=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=s!==null&&s.memoizedState===null?!1:(Tt.current&2)!==0),A&&(g=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ge){if(g?Xs(o):Zs(),(s=ot)?(s=wT(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Hs!==null?{id:Ui,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},l=Wy(s),l.return=o,o.child=l,Qt=o,ot=null)):s=null,s===null)throw Ys(o);return Qp(s)?o.lanes=32:o.lanes=536870912,null}var R=c.children;return c=c.fallback,g?(Zs(),g=o.mode,R=rf({mode:"hidden",children:R},g),c=ro(c,g,l,null),R.return=o,c.return=o,R.sibling=c,o.child=R,c=o.child,c.memoizedState=dp(l),c.childLanes=hp(s,A,l),o.memoizedState=fp,Yl(null,c)):(Xs(o),pp(o,R))}var B=s.memoizedState;if(B!==null&&(R=B.dehydrated,R!==null)){if(_)o.flags&256?(Xs(o),o.flags&=-257,o=mp(s,o,l)):o.memoizedState!==null?(Zs(),o.child=s.child,o.flags|=128,o=null):(Zs(),R=c.fallback,g=o.mode,c=rf({mode:"visible",children:c.children},g),R=ro(R,g,l,null),R.flags|=2,c.return=o,R.return=o,c.sibling=R,o.child=c,ho(o,s.child,null,l),c=o.child,c.memoizedState=dp(l),c.childLanes=hp(s,A,l),o.memoizedState=fp,o=Yl(null,c));else if(Xs(o),Qp(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var Q=A.dgst;A=Q,c=Error(i(419)),c.stack="",c.digest=A,Vl({value:c,source:null,stack:null}),o=mp(s,o,l)}else if(Mt||ia(s,o,l,!1),A=(l&s.childLanes)!==0,Mt||A){if(A=rt,A!==null&&(c=hl(A,l),c!==0&&c!==B.retryLane))throw B.retryLane=c,so(s,c),En(A,s,c),up;Kp(R)||pf(),o=mp(s,o,l)}else Kp(R)?(o.flags|=192,o.child=s.child,o=null):(s=B.treeContext,ot=Jn(R.nextSibling),Qt=o,Ge=!0,$s=null,$n=!1,s!==null&&jy(o,s),o=pp(o,c.children),o.flags|=4096);return o}return g?(Zs(),R=c.fallback,g=o.mode,B=s.child,Q=B.sibling,c=es(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,Q!==null?R=es(Q,R):(R=ro(R,g,l,null),R.flags|=2),R.return=o,c.return=o,c.sibling=R,o.child=c,Yl(null,c),c=o.child,R=s.child.memoizedState,R===null?R=dp(l):(g=R.cachePool,g!==null?(B=bt._currentValue,g=g.parent!==B?{parent:B,pool:B}:g):g=rv(),R={baseLanes:R.baseLanes|l,cachePool:g}),c.memoizedState=R,c.childLanes=hp(s,A,l),o.memoizedState=fp,Yl(s.child,c)):(Xs(o),l=s.child,s=l.sibling,l=es(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(A=o.deletions,A===null?(o.deletions=[s],o.flags|=16):A.push(s)),o.child=l,o.memoizedState=null,l)}function pp(s,o){return o=rf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function rf(s,o){return s=Rn(22,s,null,o),s.lanes=0,s}function mp(s,o,l){return ho(o,s.child,null,l),s=pp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function v_(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),Mh(s.return,o,l)}function gp(s,o,l,c,g,_){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=c,A.tail=l,A.tailMode=g,A.treeForkCount=_)}function __(s,o,l){var c=o.pendingProps,g=c.revealOrder,_=c.tail;c=c.children;var A=Tt.current,R=(A&2)!==0;if(R?(A=A&1|2,o.flags|=128):A&=1,de(Tt,A),Xt(s,o,c,l),c=Ge?Pl:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&v_(s,l,o);else if(s.tag===19)v_(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=o.child,g=null;l!==null;)s=l.alternate,s!==null&&Yc(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),gp(o,!1,g,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Yc(s)===null){o.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}gp(o,!0,l,null,_,c);break;case"together":gp(o,!1,null,null,void 0,c);break;default:o.memoizedState=null}return o.child}function os(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),tr|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(ia(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=es(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=es(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function yp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Oc(s)))}function AR(s,o,l){switch(o.tag){case 3:kt(o,o.stateNode.containerInfo),Js(o,bt,s.memoizedState.cache),oo();break;case 27:case 5:qr(o);break;case 4:kt(o,o.stateNode.containerInfo);break;case 10:Js(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fh(o),null;break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Xs(o),o.flags|=128,null):(l&o.child.childLanes)!==0?y_(s,o,l):(Xs(o),s=os(s,o,l),s!==null?s.sibling:null);Xs(o);break;case 19:var g=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(ia(s,o,l,!1),c=(l&o.childLanes)!==0),g){if(c)return __(s,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),de(Tt,Tt.current),c)break;return null;case 22:return o.lanes=0,f_(s,o,l,o.pendingProps);case 24:Js(o,bt,s.memoizedState.cache)}return os(s,o,l)}function T_(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)Mt=!0;else{if(!yp(s,l)&&(o.flags&128)===0)return Mt=!1,AR(s,o,l);Mt=(s.flags&131072)!==0}else Mt=!1,Ge&&(o.flags&1048576)!==0&&Zy(o,Pl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var c=o.pendingProps;if(s=co(o.elementType),o.type=s,typeof s=="function")Sh(s)?(c=mo(s,c),o.tag=1,o=m_(null,o,s,c,l)):(o.tag=0,o=cp(null,o,s,c,l));else{if(s!=null){var g=s.$$typeof;if(g===X){o.tag=11,o=l_(null,o,s,c,l);break e}else if(g===M){o.tag=14,o=u_(null,o,s,c,l);break e}}throw o=Re(s)||s,Error(i(306,o,""))}}return o;case 0:return cp(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,g=mo(c,o.pendingProps),m_(s,o,c,g,l);case 3:e:{if(kt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var _=o.memoizedState;g=_.element,Uh(s,o),zl(o,c,null,l);var A=o.memoizedState;if(c=A.cache,Js(o,bt,c),c!==_.cache&&Nh(o,[bt],l,!0),ql(),c=A.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=g_(s,o,c,l);break e}else if(c!==g){g=Fn(Error(i(424)),o),Vl(g),o=g_(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ot=Jn(s.firstChild),Qt=o,Ge=!0,$s=null,$n=!0,l=fv(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oo(),c===g){o=os(s,o,l);break e}Xt(s,o,c,l)}o=o.child}return o;case 26:return sf(s,o),s===null?(l=NT(o.type,null,o.pendingProps,null))?o.memoizedState=l:Ge||(l=o.type,s=o.pendingProps,c=Ef(Pe.current).createElement(l),c[wt]=o,c[Gt]=s,Zt(c,l,s),It(c),o.stateNode=c):o.memoizedState=NT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return qr(o),s===null&&Ge&&(c=o.stateNode=bT(o.type,o.pendingProps,Pe.current),Qt=o,$n=!0,g=ot,or(o.type)?(Wp=g,ot=Jn(c.firstChild)):ot=g),Xt(s,o,o.pendingProps.children,l),sf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ge&&((g=c=ot)&&(c=jR(c,o.type,o.pendingProps,$n),c!==null?(o.stateNode=c,Qt=o,ot=Jn(c.firstChild),$n=!1,g=!0):g=!1),g||Ys(o)),qr(o),g=o.type,_=o.pendingProps,A=s!==null?s.memoizedProps:null,c=_.children,$p(g,_)?c=null:A!==null&&$p(g,A)&&(o.flags|=32),o.memoizedState!==null&&(g=Hh(s,o,pR,null,null,l),au._currentValue=g),sf(s,o),Xt(s,o,c,l),o.child;case 6:return s===null&&Ge&&((s=l=ot)&&(l=eb(l,o.pendingProps,$n),l!==null?(o.stateNode=l,Qt=o,ot=null,s=!0):s=!1),s||Ys(o)),null;case 13:return y_(s,o,l);case 4:return kt(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=ho(o,null,c,l):Xt(s,o,c,l),o.child;case 11:return l_(s,o,o.type,o.pendingProps,l);case 7:return Xt(s,o,o.pendingProps,l),o.child;case 8:return Xt(s,o,o.pendingProps.children,l),o.child;case 12:return Xt(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,Js(o,o.type,c.value),Xt(s,o,c.children,l),o.child;case 9:return g=o.type._context,c=o.pendingProps.children,lo(o),g=Wt(g),c=c(g),o.flags|=1,Xt(s,o,c,l),o.child;case 14:return u_(s,o,o.type,o.pendingProps,l);case 15:return c_(s,o,o.type,o.pendingProps,l);case 19:return __(s,o,l);case 31:return SR(s,o,l);case 22:return f_(s,o,l,o.pendingProps);case 24:return lo(o),c=Wt(bt),s===null?(g=Vh(),g===null&&(g=rt,_=Dh(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),o.memoizedState={parent:c,cache:g},kh(o),Js(o,bt,g)):((s.lanes&l)!==0&&(Uh(s,o),zl(o,null,null,l),ql()),g=s.memoizedState,_=o.memoizedState,g.parent!==c?(g={parent:c,cache:c},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Js(o,bt,c)):(c=_.cache,Js(o,bt,c),c!==g.cache&&Nh(o,[bt],l,!0))),Xt(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function as(s){s.flags|=4}function vp(s,o,l,c,g){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(J_())s.flags|=8192;else throw fo=Fc,Lh}else s.flags&=-16777217}function E_(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!kT(o))if(J_())s.flags|=8192;else throw fo=Fc,Lh}function of(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?fc():536870912,s.lanes|=o,ma|=o)}function Jl(s,o){if(!Ge)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function at(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function CR(s,o,l){var c=o.pendingProps;switch(Ih(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(o),null;case 1:return at(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),is(bt),ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(na(o)?as(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,bh())),at(o),null;case 26:var g=o.type,_=o.memoizedState;return s===null?(as(o),_!==null?(at(o),E_(o,_)):(at(o),vp(o,g,null,c,l))):_?_!==s.memoizedState?(as(o),at(o),E_(o,_)):(at(o),o.flags&=-16777217):(s=s.memoizedProps,s!==c&&as(o),at(o),vp(o,g,s,c,l)),null;case 27:if(Vo(o),l=Pe.current,g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&as(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return at(o),null}s=pe.current,na(o)?ev(o):(s=bT(g,c,l),o.stateNode=s,as(o))}return at(o),null;case 5:if(Vo(o),g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&as(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return at(o),null}if(_=pe.current,na(o))ev(o);else{var A=Ef(Pe.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?A.createElement("select",{is:c.is}):A.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?A.createElement(g,{is:c.is}):A.createElement(g)}}_[wt]=o,_[Gt]=c;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(Zt(_,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&as(o)}}return at(o),vp(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,l),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&as(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=Pe.current,na(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,g=Qt,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[wt]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||yT(s.nodeValue,l)),s||Ys(o,!0)}else s=Ef(s).createTextNode(c),s[wt]=o,o.stateNode=s}return at(o),null;case 31:if(l=o.memoizedState,s===null||s.memoizedState!==null){if(c=na(o),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[wt]=o}else oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;at(o),s=!1}else l=bh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return o.flags&256?(xn(o),o):(xn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return at(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=na(o),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[wt]=o}else oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;at(o),g=!1}else g=bh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(xn(o),o):(xn(o),null)}return xn(o),(o.flags&128)!==0?(o.lanes=l,o):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=o.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==g&&(c.flags|=2048)),l!==s&&l&&(o.child.flags|=8192),of(o,o.updateQueue),at(o),null);case 4:return ct(),s===null&&qp(o.stateNode.containerInfo),at(o),null;case 10:return is(o.type),at(o),null;case 19:if(re(Tt),c=o.memoizedState,c===null)return at(o),null;if(g=(o.flags&128)!==0,_=c.rendering,_===null)if(g)Jl(c,!1);else{if(yt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Yc(s),_!==null){for(o.flags|=128,Jl(c,!1),s=_.updateQueue,o.updateQueue=s,of(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Qy(l,s),l=l.sibling;return de(Tt,Tt.current&1|2),Ge&&ts(o,c.treeForkCount),o.child}s=s.sibling}c.tail!==null&&fn()>ff&&(o.flags|=128,g=!0,Jl(c,!1),o.lanes=4194304)}else{if(!g)if(s=Yc(_),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,of(o,s),Jl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!Ge)return at(o),null}else 2*fn()-c.renderingStartTime>ff&&l!==536870912&&(o.flags|=128,g=!0,Jl(c,!1),o.lanes=4194304);c.isBackwards?(_.sibling=o.child,o.child=_):(s=c.last,s!==null?s.sibling=_:o.child=_,c.last=_)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=fn(),s.sibling=null,l=Tt.current,de(Tt,g?l&1|2:l&1),Ge&&ts(o,c.treeForkCount),s):(at(o),null);case 22:case 23:return xn(o),zh(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(at(o),o.subtreeFlags&6&&(o.flags|=8192)):at(o),l=o.updateQueue,l!==null&&of(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&re(uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),is(bt),at(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function wR(s,o){switch(Ih(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return is(bt),ct(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Vo(o),null;case 31:if(o.memoizedState!==null){if(xn(o),o.alternate===null)throw Error(i(340));oo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(xn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));oo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return re(Tt),null;case 4:return ct(),null;case 10:return is(o.type),null;case 22:case 23:return xn(o),zh(),s!==null&&re(uo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return is(bt),null;case 25:return null;default:return null}}function S_(s,o){switch(Ih(o),o.tag){case 3:is(bt),ct();break;case 26:case 27:case 5:Vo(o);break;case 4:ct();break;case 31:o.memoizedState!==null&&xn(o);break;case 13:xn(o);break;case 19:re(Tt);break;case 10:is(o.type);break;case 22:case 23:xn(o),zh(),s!==null&&re(uo);break;case 24:is(bt)}}function Kl(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var _=l.create,A=l.inst;c=_(),A.destroy=c}l=l.next}while(l!==g)}}catch(R){et(o,o.return,R)}}function js(s,o,l){try{var c=o.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var _=g.next;c=_;do{if((c.tag&s)===s){var A=c.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,g=o;var B=l,Q=R;try{Q()}catch(ne){et(g,B,ne)}}}c=c.next}while(c!==_)}}catch(ne){et(o,o.return,ne)}}function A_(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{hv(o,l)}catch(c){et(s,s.return,c)}}}function C_(s,o,l){l.props=mo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){et(s,o,c)}}function Ql(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){et(s,o,g)}}function Bi(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){et(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){et(s,o,g)}else l.current=null}function w_(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){et(s,s.return,g)}}function _p(s,o,l){try{var c=s.stateNode;JR(c,s.type,l,o),c[Gt]=o}catch(g){et(s,s.return,g)}}function I_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&or(s.type)||s.tag===4}function Tp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||I_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&or(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ep(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ii));else if(c!==4&&(c===27&&or(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Ep(s,o,l),s=s.sibling;s!==null;)Ep(s,o,l),s=s.sibling}function af(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&or(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(af(s,o,l),s=s.sibling;s!==null;)af(s,o,l),s=s.sibling}function R_(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Zt(o,c,l),o[wt]=s,o[Gt]=l}catch(_){et(s,s.return,_)}}var ls=!1,Nt=!1,Sp=!1,b_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function IR(s,o){if(s=s.containerInfo,Gp=bf,s=qy(s),mh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var A=0,R=-1,B=-1,Q=0,ne=0,oe=s,W=null;t:for(;;){for(var ee;oe!==l||g!==0&&oe.nodeType!==3||(R=A+g),oe!==_||c!==0&&oe.nodeType!==3||(B=A+c),oe.nodeType===3&&(A+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)W=oe,oe=ee;for(;;){if(oe===s)break t;if(W===l&&++Q===g&&(R=A),W===_&&++ne===c&&(B=A),(ee=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=ee}l=R===-1||B===-1?null:{start:R,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hp={focusedElem:s,selectionRange:l},bf=!1,$t=o;$t!==null;)if(o=$t,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,$t=s;else for(;$t!==null;){switch(o=$t,_=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=o,g=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var me=mo(l.type,g);s=c.getSnapshotBeforeUpdate(me,_),c.__reactInternalSnapshotBeforeUpdate=s}catch(Se){et(l,l.return,Se)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)Jp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,$t=s;break}$t=o.return}}function x_(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:cs(s,l),c&4&&Kl(5,l);break;case 1:if(cs(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(A){et(l,l.return,A)}else{var g=mo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(A){et(l,l.return,A)}}c&64&&A_(l),c&512&&Ql(l,l.return);break;case 3:if(cs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{hv(s,o)}catch(A){et(l,l.return,A)}}break;case 27:o===null&&c&4&&R_(l);case 26:case 5:cs(s,l),o===null&&c&4&&w_(l),c&512&&Ql(l,l.return);break;case 12:cs(s,l);break;case 31:cs(s,l),c&4&&D_(s,l);break;case 13:cs(s,l),c&4&&P_(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=LR.bind(null,l),tb(s,l))));break;case 22:if(c=l.memoizedState!==null||ls,!c){o=o!==null&&o.memoizedState!==null||Nt,g=ls;var _=Nt;ls=c,(Nt=o)&&!_?fs(s,l,(l.subtreeFlags&8772)!==0):cs(s,l),ls=g,Nt=_}break;case 30:break;default:cs(s,l)}}function M_(s){var o=s.alternate;o!==null&&(s.alternate=null,M_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Bo(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dt=null,yn=!1;function us(s,o,l){for(l=l.child;l!==null;)N_(s,o,l),l=l.sibling}function N_(s,o,l){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(jn,l)}catch{}switch(l.tag){case 26:Nt||Bi(l,o),us(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Nt||Bi(l,o);var c=dt,g=yn;or(l.type)&&(dt=l.stateNode,yn=!1),us(s,o,l),su(l.stateNode),dt=c,yn=g;break;case 5:Nt||Bi(l,o);case 6:if(c=dt,g=yn,dt=null,us(s,o,l),dt=c,yn=g,dt!==null)if(yn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(l.stateNode)}catch(_){et(l,o,_)}else try{dt.removeChild(l.stateNode)}catch(_){et(l,o,_)}break;case 18:dt!==null&&(yn?(s=dt,AT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Aa(s)):AT(dt,l.stateNode));break;case 4:c=dt,g=yn,dt=l.stateNode.containerInfo,yn=!0,us(s,o,l),dt=c,yn=g;break;case 0:case 11:case 14:case 15:js(2,l,o),Nt||js(4,l,o),us(s,o,l);break;case 1:Nt||(Bi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&C_(l,o,c)),us(s,o,l);break;case 21:us(s,o,l);break;case 22:Nt=(c=Nt)||l.memoizedState!==null,us(s,o,l),Nt=c;break;default:us(s,o,l)}}function D_(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Aa(s)}catch(l){et(o,o.return,l)}}}function P_(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Aa(s)}catch(l){et(o,o.return,l)}}function RR(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new b_),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new b_),o;default:throw Error(i(435,s.tag))}}function lf(s,o){var l=RR(s);o.forEach(function(c){if(!l.has(c)){l.add(c);var g=kR.bind(null,s,c);c.then(g,g)}})}function vn(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],_=s,A=o,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(or(R.type)){dt=R.stateNode,yn=!1;break e}break;case 5:dt=R.stateNode,yn=!1;break e;case 3:case 4:dt=R.stateNode.containerInfo,yn=!0;break e}R=R.return}if(dt===null)throw Error(i(160));N_(_,A,g),dt=null,yn=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)V_(o,s),o=o.sibling}var ui=null;function V_(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(o,s),_n(s),c&4&&(js(3,s,s.return),Kl(3,s),js(5,s,s.return));break;case 1:vn(o,s),_n(s),c&512&&(Nt||l===null||Bi(l,l.return)),c&64&&ls&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=ui;if(vn(o,s),_n(s),c&512&&(Nt||l===null||Bi(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":_=g.getElementsByTagName("title")[0],(!_||_[wi]||_[wt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(c),g.head.insertBefore(_,g.querySelector("head > title"))),Zt(_,c,l),_[wt]=s,It(_),c=_;break e;case"link":var A=VT("link","href",g).get(c+(l.href||""));if(A){for(var R=0;R<A.length;R++)if(_=A[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(R,1);break t}}_=g.createElement(c),Zt(_,c,l),g.head.appendChild(_);break;case"meta":if(A=VT("meta","content",g).get(c+(l.content||""))){for(R=0;R<A.length;R++)if(_=A[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(R,1);break t}}_=g.createElement(c),Zt(_,c,l),g.head.appendChild(_);break;default:throw Error(i(468,c))}_[wt]=s,It(_),c=_}s.stateNode=c}else LT(g,s.type,s.stateNode);else s.stateNode=PT(g,c,s.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?LT(g,s.type,s.stateNode):PT(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&_p(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(o,s),_n(s),c&512&&(Nt||l===null||Bi(l,l.return)),l!==null&&c&4&&_p(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(o,s),_n(s),c&512&&(Nt||l===null||Bi(l,l.return)),s.flags&32){g=s.stateNode;try{gn(g,"")}catch(me){et(s,s.return,me)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,_p(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Sp=!0);break;case 6:if(vn(o,s),_n(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(me){et(s,s.return,me)}}break;case 3:if(Cf=null,g=ui,ui=Sf(o.containerInfo),vn(o,s),ui=g,_n(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Aa(o.containerInfo)}catch(me){et(s,s.return,me)}Sp&&(Sp=!1,L_(s));break;case 4:c=ui,ui=Sf(s.stateNode.containerInfo),vn(o,s),_n(s),ui=c;break;case 12:vn(o,s),_n(s);break;case 31:vn(o,s),_n(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,lf(s,c)));break;case 13:vn(o,s),_n(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cf=fn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,lf(s,c)));break;case 22:g=s.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,Q=ls,ne=Nt;if(ls=Q||g,Nt=ne||B,vn(o,s),Nt=ne,ls=Q,_n(s),c&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||B||ls||Nt||go(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){B=l=o;try{if(_=B.stateNode,g)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=B.stateNode;var oe=B.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){et(B,B.return,me)}}}else if(o.tag===6){if(l===null){B=o;try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(me){et(B,B.return,me)}}}else if(o.tag===18){if(l===null){B=o;try{var ee=B.stateNode;g?CT(ee,!0):CT(B.stateNode,!1)}catch(me){et(B,B.return,me)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,lf(s,l))));break;case 19:vn(o,s),_n(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,lf(s,c)));break;case 30:break;case 21:break;default:vn(o,s),_n(s)}}function _n(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(I_(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,_=Tp(s);af(s,_,g);break;case 5:var A=l.stateNode;l.flags&32&&(gn(A,""),l.flags&=-33);var R=Tp(s);af(s,R,A);break;case 3:case 4:var B=l.stateNode.containerInfo,Q=Tp(s);Ep(s,Q,B);break;default:throw Error(i(161))}}catch(ne){et(s,s.return,ne)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function L_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;L_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function cs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)x_(s,o.alternate,o),o=o.sibling}function go(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:js(4,o,o.return),go(o);break;case 1:Bi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&C_(o,o.return,l),go(o);break;case 27:su(o.stateNode);case 26:case 5:Bi(o,o.return),go(o);break;case 22:o.memoizedState===null&&go(o);break;case 30:go(o);break;default:go(o)}s=s.sibling}}function fs(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,g=s,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:fs(g,_,l),Kl(4,_);break;case 1:if(fs(g,_,l),c=_,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){et(c,c.return,Q)}if(c=_,g=c.updateQueue,g!==null){var R=c.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)dv(B[g],R)}catch(Q){et(c,c.return,Q)}}l&&A&64&&A_(_),Ql(_,_.return);break;case 27:R_(_);case 26:case 5:fs(g,_,l),l&&c===null&&A&4&&w_(_),Ql(_,_.return);break;case 12:fs(g,_,l);break;case 31:fs(g,_,l),l&&A&4&&D_(g,_);break;case 13:fs(g,_,l),l&&A&4&&P_(g,_);break;case 22:_.memoizedState===null&&fs(g,_,l),Ql(_,_.return);break;case 30:break;default:fs(g,_,l)}o=o.sibling}}function Ap(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ll(l))}function Cp(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Ll(s))}function ci(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)k_(s,o,l,c),o=o.sibling}function k_(s,o,l,c){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ci(s,o,l,c),g&2048&&Kl(9,o);break;case 1:ci(s,o,l,c);break;case 3:ci(s,o,l,c),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Ll(s)));break;case 12:if(g&2048){ci(s,o,l,c),s=o.stateNode;try{var _=o.memoizedProps,A=_.id,R=_.onPostCommit;typeof R=="function"&&R(A,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){et(o,o.return,B)}}else ci(s,o,l,c);break;case 31:ci(s,o,l,c);break;case 13:ci(s,o,l,c);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?ci(s,o,l,c):Wl(s,o):_._visibility&2?ci(s,o,l,c):(_._visibility|=2,da(s,o,l,c,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Ap(A,o);break;case 24:ci(s,o,l,c),g&2048&&Cp(o.alternate,o);break;default:ci(s,o,l,c)}}function da(s,o,l,c,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=s,A=o,R=l,B=c,Q=A.flags;switch(A.tag){case 0:case 11:case 15:da(_,A,R,B,g),Kl(8,A);break;case 23:break;case 22:var ne=A.stateNode;A.memoizedState!==null?ne._visibility&2?da(_,A,R,B,g):Wl(_,A):(ne._visibility|=2,da(_,A,R,B,g)),g&&Q&2048&&Ap(A.alternate,A);break;case 24:da(_,A,R,B,g),g&&Q&2048&&Cp(A.alternate,A);break;default:da(_,A,R,B,g)}o=o.sibling}}function Wl(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,g=c.flags;switch(c.tag){case 22:Wl(l,c),g&2048&&Ap(c.alternate,c);break;case 24:Wl(l,c),g&2048&&Cp(c.alternate,c);break;default:Wl(l,c)}o=o.sibling}}var Xl=8192;function ha(s,o,l){if(s.subtreeFlags&Xl)for(s=s.child;s!==null;)U_(s,o,l),s=s.sibling}function U_(s,o,l){switch(s.tag){case 26:ha(s,o,l),s.flags&Xl&&s.memoizedState!==null&&hb(l,ui,s.memoizedState,s.memoizedProps);break;case 5:ha(s,o,l);break;case 3:case 4:var c=ui;ui=Sf(s.stateNode.containerInfo),ha(s,o,l),ui=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Xl,Xl=16777216,ha(s,o,l),Xl=c):ha(s,o,l));break;default:ha(s,o,l)}}function O_(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Zl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];$t=c,q_(c,s)}O_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)B_(s),s=s.sibling}function B_(s){switch(s.tag){case 0:case 11:case 15:Zl(s),s.flags&2048&&js(9,s,s.return);break;case 3:Zl(s);break;case 12:Zl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,uf(s)):Zl(s);break;default:Zl(s)}}function uf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];$t=c,q_(c,s)}O_(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:js(8,o,o.return),uf(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,uf(o));break;default:uf(o)}s=s.sibling}}function q_(s,o){for(;$t!==null;){var l=$t;switch(l.tag){case 0:case 11:case 15:js(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ll(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,$t=c;else e:for(l=s;$t!==null;){c=$t;var g=c.sibling,_=c.return;if(M_(c),c===l){$t=null;break e}if(g!==null){g.return=_,$t=g;break e}$t=_}}}var bR={getCacheForType:function(s){var o=Wt(bt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l},cacheSignal:function(){return Wt(bt).controller.signal}},xR=typeof WeakMap=="function"?WeakMap:Map,We=0,rt=null,Le=null,Oe=0,je=0,Mn=null,er=!1,pa=!1,wp=!1,ds=0,yt=0,tr=0,yo=0,Ip=0,Nn=0,ma=0,jl=null,Tn=null,Rp=!1,cf=0,z_=0,ff=1/0,df=null,nr=null,Ot=0,ir=null,ga=null,hs=0,bp=0,xp=null,F_=null,eu=0,Mp=null;function Dn(){return(We&2)!==0&&Oe!==0?Oe&-Oe:te.T!==null?kp():dc()}function G_(){if(Nn===0)if((Oe&536870912)===0||Ge){var s=Gr;Gr<<=1,(Gr&3932160)===0&&(Gr=262144),Nn=s}else Nn=536870912;return s=bn.current,s!==null&&(s.flags|=32),Nn}function En(s,o,l){(s===rt&&(je===2||je===9)||s.cancelPendingCommit!==null)&&(ya(s,0),sr(s,Oe,Nn,!1)),Hr(s,l),((We&2)===0||s!==rt)&&(s===rt&&((We&2)===0&&(yo|=l),yt===4&&sr(s,Oe,Nn,!1)),qi(s))}function H_(s,o,l){if((We&6)!==0)throw Error(i(327));var c=!l&&(o&127)===0&&(o&s.expiredLanes)===0||ei(s,o),g=c?DR(s,o):Dp(s,o,!0),_=c;do{if(g===0){pa&&!c&&sr(s,o,0,!1);break}else{if(l=s.current.alternate,_&&!MR(l)){g=Dp(s,o,!1),_=!1;continue}if(g===2){if(_=o,s.errorRecoveryDisabledLanes&_)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var R=s;g=jl;var B=R.current.memoizedState.isDehydrated;if(B&&(ya(R,A).flags|=256),A=Dp(R,A,!1),A!==2){if(wp&&!B){R.errorRecoveryDisabledLanes|=_,yo|=_,g=4;break e}_=Tn,Tn=g,_!==null&&(Tn===null?Tn=_:Tn.push.apply(Tn,_))}g=A}if(_=!1,g!==2)continue}}if(g===1){ya(s,0),sr(s,o,0,!0);break}e:{switch(c=s,_=g,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:sr(c,o,Nn,!er);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=cf+300-fn(),10<g)){if(sr(c,o,Nn,!er),Si(c,0,!0)!==0)break e;hs=o,c.timeoutHandle=ET($_.bind(null,c,l,Tn,df,Rp,o,Nn,yo,ma,er,_,"Throttled",-0,0),g);break e}$_(c,l,Tn,df,Rp,o,Nn,yo,ma,er,_,null,-0,0)}}break}while(!0);qi(s)}function $_(s,o,l,c,g,_,A,R,B,Q,ne,oe,W,ee){if(s.timeoutHandle=-1,oe=o.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},U_(o,_,oe);var me=(_&62914560)===_?cf-fn():(_&4194048)===_?z_-fn():0;if(me=pb(oe,me),me!==null){hs=_,s.cancelPendingCommit=me(j_.bind(null,s,o,_,l,c,g,A,R,B,ne,oe,null,W,ee)),sr(s,_,A,!Q);return}}j_(s,o,_,l,c,g,A,R,B)}function MR(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],_=g.getSnapshot;g=g.value;try{if(!In(_(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function sr(s,o,l,c){o&=~Ip,o&=~yo,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var g=o;0<g;){var _=31-vt(g),A=1<<_;c[_]=-1,g&=~A}l!==0&&$r(s,l,o)}function hf(){return(We&6)===0?(tu(0),!1):!0}function Np(){if(Le!==null){if(je===0)var s=Le.return;else s=Le,ns=ao=null,Jh(s),aa=null,Ul=0,s=Le;for(;s!==null;)S_(s.alternate,s),s=s.return;Le=null}}function ya(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,WR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),hs=0,Np(),rt=s,Le=l=es(s.current,null),Oe=o,je=0,Mn=null,er=!1,pa=ei(s,o),wp=!1,ma=Nn=Ip=yo=tr=yt=0,Tn=jl=null,Rp=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var g=31-vt(c),_=1<<g;o|=s[g],c&=~_}return ds=o,Pc(),l}function Y_(s,o){De=null,te.H=$l,o===oa||o===zc?(o=lv(),je=3):o===Lh?(o=lv(),je=4):je=o===up?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mn=o,Le===null&&(yt=1,tf(s,Fn(o,s.current)))}function J_(){var s=bn.current;return s===null?!0:(Oe&4194048)===Oe?Yn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?s===Yn:!1}function K_(){var s=te.H;return te.H=$l,s===null?$l:s}function Q_(){var s=te.A;return te.A=bR,s}function pf(){yt=4,er||(Oe&4194048)!==Oe&&bn.current!==null||(pa=!0),(tr&134217727)===0&&(yo&134217727)===0||rt===null||sr(rt,Oe,Nn,!1)}function Dp(s,o,l){var c=We;We|=2;var g=K_(),_=Q_();(rt!==s||Oe!==o)&&(df=null,ya(s,o)),o=!1;var A=yt;e:do try{if(je!==0&&Le!==null){var R=Le,B=Mn;switch(je){case 8:Np(),A=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(o=!0);var Q=je;if(je=0,Mn=null,va(s,R,B,Q),l&&pa){A=0;break e}break;default:Q=je,je=0,Mn=null,va(s,R,B,Q)}}NR(),A=yt;break}catch(ne){Y_(s,ne)}while(!0);return o&&s.shellSuspendCounter++,ns=ao=null,We=c,te.H=g,te.A=_,Le===null&&(rt=null,Oe=0,Pc()),A}function NR(){for(;Le!==null;)W_(Le)}function DR(s,o){var l=We;We|=2;var c=K_(),g=Q_();rt!==s||Oe!==o?(df=null,ff=fn()+500,ya(s,o)):pa=ei(s,o);e:do try{if(je!==0&&Le!==null){o=Le;var _=Mn;t:switch(je){case 1:je=0,Mn=null,va(s,o,_,1);break;case 2:case 9:if(ov(_)){je=0,Mn=null,X_(o);break}o=function(){je!==2&&je!==9||rt!==s||(je=7),qi(s)},_.then(o,o);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:ov(_)?(je=0,Mn=null,X_(o)):(je=0,Mn=null,va(s,o,_,7));break;case 5:var A=null;switch(Le.tag){case 26:A=Le.memoizedState;case 5:case 27:var R=Le;if(A?kT(A):R.stateNode.complete){je=0,Mn=null;var B=R.sibling;if(B!==null)Le=B;else{var Q=R.return;Q!==null?(Le=Q,mf(Q)):Le=null}break t}}je=0,Mn=null,va(s,o,_,5);break;case 6:je=0,Mn=null,va(s,o,_,6);break;case 8:Np(),yt=6;break e;default:throw Error(i(462))}}PR();break}catch(ne){Y_(s,ne)}while(!0);return ns=ao=null,te.H=c,te.A=g,We=l,Le!==null?0:(rt=null,Oe=0,Pc(),yt)}function PR(){for(;Le!==null&&!lh();)W_(Le)}function W_(s){var o=T_(s.alternate,s,ds);s.memoizedProps=s.pendingProps,o===null?mf(s):Le=o}function X_(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=p_(l,o,o.pendingProps,o.type,void 0,Oe);break;case 11:o=p_(l,o,o.pendingProps,o.type.render,o.ref,Oe);break;case 5:Jh(o);default:S_(l,o),o=Le=Qy(o,ds),o=T_(l,o,ds)}s.memoizedProps=s.pendingProps,o===null?mf(s):Le=o}function va(s,o,l,c){ns=ao=null,Jh(o),aa=null,Ul=0;var g=o.return;try{if(ER(s,g,o,l,Oe)){yt=1,tf(s,Fn(l,s.current)),Le=null;return}}catch(_){if(g!==null)throw Le=g,_;yt=1,tf(s,Fn(l,s.current)),Le=null;return}o.flags&32768?(Ge||c===1?s=!0:pa||(Oe&536870912)!==0?s=!1:(er=s=!0,(c===2||c===9||c===3||c===6)&&(c=bn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Z_(o,s)):mf(o)}function mf(s){var o=s;do{if((o.flags&32768)!==0){Z_(o,er);return}s=o.return;var l=CR(o.alternate,o,ds);if(l!==null){Le=l;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=s}while(o!==null);yt===0&&(yt=5)}function Z_(s,o){do{var l=wR(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);yt=6,Le=null}function j_(s,o,l,c,g,_,A,R,B){s.cancelPendingCommit=null;do gf();while(Ot!==0);if((We&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=Th,fh(s,l,_,A,R,B),s===rt&&(Le=rt=null,Oe=0),ga=o,ir=s,hs=l,bp=_,xp=g,F_=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,UR(Vs,function(){return sT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=te.T,te.T=null,g=ce.p,ce.p=2,A=We,We|=4;try{IR(s,o,l)}finally{We=A,ce.p=g,te.T=c}}Ot=1,eT(),tT(),nT()}}function eT(){if(Ot===1){Ot=0;var s=ir,o=ga,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var c=ce.p;ce.p=2;var g=We;We|=4;try{V_(o,s);var _=Hp,A=qy(s.containerInfo),R=_.focusedElem,B=_.selectionRange;if(A!==R&&R&&R.ownerDocument&&By(R.ownerDocument.documentElement,R)){if(B!==null&&mh(R)){var Q=B.start,ne=B.end;if(ne===void 0&&(ne=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(ne,R.value.length);else{var oe=R.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var ee=W.getSelection(),me=R.textContent.length,Se=Math.min(B.start,me),st=B.end===void 0?Se:Math.min(B.end,me);!ee.extend&&Se>st&&(A=st,st=Se,Se=A);var Y=Oy(R,Se),$=Oy(R,st);if(Y&&$&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var K=oe.createRange();K.setStart(Y.node,Y.offset),ee.removeAllRanges(),Se>st?(ee.addRange(K),ee.extend($.node,$.offset)):(K.setEnd($.node,$.offset),ee.addRange(K))}}}}for(oe=[],ee=R;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<oe.length;R++){var se=oe[R];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}bf=!!Gp,Hp=Gp=null}finally{We=g,ce.p=c,te.T=l}}s.current=o,Ot=2}}function tT(){if(Ot===2){Ot=0;var s=ir,o=ga,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var c=ce.p;ce.p=2;var g=We;We|=4;try{x_(s,o.alternate,o)}finally{We=g,ce.p=c,te.T=l}}Ot=3}}function nT(){if(Ot===4||Ot===3){Ot=0,rc();var s=ir,o=ga,l=hs,c=F_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ot=5:(Ot=0,ga=ir=null,iT(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(nr=null),Wi(l),o=o.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(jn,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=te.T,g=ce.p,ce.p=2,te.T=null;try{for(var _=s.onRecoverableError,A=0;A<c.length;A++){var R=c[A];_(R.value,{componentStack:R.stack})}}finally{te.T=o,ce.p=g}}(hs&3)!==0&&gf(),qi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Mp?eu++:(eu=0,Mp=s):eu=0,tu(0)}}function iT(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Ll(o)))}function gf(){return eT(),tT(),nT(),sT()}function sT(){if(Ot!==5)return!1;var s=ir,o=bp;bp=0;var l=Wi(hs),c=te.T,g=ce.p;try{ce.p=32>l?32:l,te.T=null,l=xp,xp=null;var _=ir,A=hs;if(Ot=0,ga=ir=null,hs=0,(We&6)!==0)throw Error(i(331));var R=We;if(We|=4,B_(_.current),k_(_,_.current,A,l),We=R,tu(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(jn,_)}catch{}return!0}finally{ce.p=g,te.T=c,iT(s,o)}}function rT(s,o,l){o=Fn(l,o),o=lp(s.stateNode,o,2),s=Ws(s,o,2),s!==null&&(Hr(s,2),qi(s))}function et(s,o,l){if(s.tag===3)rT(s,s,l);else for(;o!==null;){if(o.tag===3){rT(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(nr===null||!nr.has(c))){s=Fn(l,s),l=o_(2),c=Ws(o,l,2),c!==null&&(a_(l,c,o,s),Hr(c,2),qi(c));break}}o=o.return}}function Pp(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new xR;var g=new Set;c.set(o,g)}else g=c.get(o),g===void 0&&(g=new Set,c.set(o,g));g.has(l)||(wp=!0,g.add(l),s=VR.bind(null,s,o,l),o.then(s,s))}function VR(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,rt===s&&(Oe&l)===l&&(yt===4||yt===3&&(Oe&62914560)===Oe&&300>fn()-cf?(We&2)===0&&ya(s,0):Ip|=l,ma===Oe&&(ma=0)),qi(s)}function oT(s,o){o===0&&(o=fc()),s=so(s,o),s!==null&&(Hr(s,o),qi(s))}function LR(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),oT(s,l)}function kR(s,o){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),oT(s,l)}function UR(s,o){return Ut(s,o)}var yf=null,_a=null,Vp=!1,vf=!1,Lp=!1,rr=0;function qi(s){s!==_a&&s.next===null&&(_a===null?yf=_a=s:_a=_a.next=s),vf=!0,Vp||(Vp=!0,BR())}function tu(s,o){if(!Lp&&vf){Lp=!0;do for(var l=!1,c=yf;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var _=0;else{var A=c.suspendedLanes,R=c.pingedLanes;_=(1<<31-vt(42|s)+1)-1,_&=g&~(A&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,cT(c,_))}else _=Oe,_=Si(c,c===rt?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||ei(c,_)||(l=!0,cT(c,_));c=c.next}while(l);Lp=!1}}function OR(){aT()}function aT(){vf=Vp=!1;var s=0;rr!==0&&QR()&&(s=rr);for(var o=fn(),l=null,c=yf;c!==null;){var g=c.next,_=lT(c,o);_===0?(c.next=null,l===null?yf=g:l.next=g,g===null&&(_a=l)):(l=c,(s!==0||(_&3)!==0)&&(vf=!0)),c=g}Ot!==0&&Ot!==5||tu(s),rr!==0&&(rr=0)}function lT(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var A=31-vt(_),R=1<<A,B=g[A];B===-1?((R&l)===0||(R&c)!==0)&&(g[A]=ch(R,o)):B<=o&&(s.expiredLanes|=R),_&=~R}if(o=rt,l=Oe,l=Si(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(je===2||je===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ps(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ei(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&Ps(c),Wi(l)){case 2:case 8:l=fl;break;case 32:l=Vs;break;case 268435456:l=oc;break;default:l=Vs}return c=uT.bind(null,s),l=Ut(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&Ps(c),s.callbackPriority=2,s.callbackNode=null,2}function uT(s,o){if(Ot!==0&&Ot!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(gf()&&s.callbackNode!==l)return null;var c=Oe;return c=Si(s,s===rt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(H_(s,c,o),lT(s,fn()),s.callbackNode!=null&&s.callbackNode===l?uT.bind(null,s):null)}function cT(s,o){if(gf())return null;H_(s,o,!0)}function BR(){XR(function(){(We&6)!==0?Ut(cl,OR):aT()})}function kp(){if(rr===0){var s=sa;s===0&&(s=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),rr=s}return rr}function fT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Go(""+s)}function dT(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function qR(s,o,l,c,g){if(o==="submit"&&l&&l.stateNode===g){var _=fT((g[Gt]||null).action),A=c.submitter;A&&(o=(o=A[Gt]||null)?fT(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var R=new Pi("action","action",null,c,g);s.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(rr!==0){var B=A?dT(g,A):new FormData(g);np(l,{pending:!0,data:B,method:g.method,action:_},null,B)}}else typeof _=="function"&&(R.preventDefault(),B=A?dT(g,A):new FormData(g),np(l,{pending:!0,data:B,method:g.method,action:_},_,B))},currentTarget:g}]})}}for(var Up=0;Up<_h.length;Up++){var Op=_h[Up],zR=Op.toLowerCase(),FR=Op[0].toUpperCase()+Op.slice(1);li(zR,"on"+FR)}li(Gy,"onAnimationEnd"),li(Hy,"onAnimationIteration"),li($y,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(sR,"onTransitionRun"),li(rR,"onTransitionStart"),li(oR,"onTransitionCancel"),li(Yy,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function hT(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;e:{var _=void 0;if(o)for(var A=c.length-1;0<=A;A--){var R=c[A],B=R.instance,Q=R.currentTarget;if(R=R.listener,B!==_&&g.isPropagationStopped())break e;_=R,g.currentTarget=Q;try{_(g)}catch(ne){Dc(ne)}g.currentTarget=null,_=B}else for(A=0;A<c.length;A++){if(R=c[A],B=R.instance,Q=R.currentTarget,R=R.listener,B!==_&&g.isPropagationStopped())break e;_=R,g.currentTarget=Q;try{_(g)}catch(ne){Dc(ne)}g.currentTarget=null,_=B}}}}function ke(s,o){var l=o[Oo];l===void 0&&(l=o[Oo]=new Set);var c=s+"__bubble";l.has(c)||(pT(o,s,2,!1),l.add(c))}function Bp(s,o,l){var c=0;o&&(c|=4),pT(l,s,c,o)}var _f="_reactListening"+Math.random().toString(36).slice(2);function qp(s){if(!s[_f]){s[_f]=!0,pl.forEach(function(l){l!=="selectionchange"&&(GR.has(l)||Bp(l,!1,s),Bp(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[_f]||(o[_f]=!0,Bp("selectionchange",!1,o))}}function pT(s,o,l,c){switch(GT(o)){case 2:var g=yb;break;case 8:g=vb;break;default:g=tm}l=g.bind(null,o,l,s),g=void 0,!Wr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(o,l,{capture:!0,passive:g}):s.addEventListener(o,l,!0):g!==void 0?s.addEventListener(o,l,{passive:g}):s.addEventListener(o,l,!1)}function zp(s,o,l,c,g){var _=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var R=c.stateNode.containerInfo;if(R===g)break;if(A===4)for(A=c.return;A!==null;){var B=A.tag;if((B===3||B===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;R!==null;){if(A=Ii(R),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){c=_=A;continue e}R=R.parentNode}}c=c.return}qs(function(){var Q=_,ne=On(l),oe=[];e:{var W=Jy.get(s);if(W!==void 0){var ee=Pi,me=s;switch(s){case"keypress":if(Zr(l)===0)break e;case"keydown":case"keyup":ee=xc;break;case"focusin":me="focus",ee=eo;break;case"focusout":me="blur",ee=eo;break;case"beforeblur":case"afterblur":ee=eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=S;break;case Gy:case Hy:case $y:ee=Sc;break;case Yy:ee=b;break;case"scroll":case"scrollend":ee=Il;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ji;break;case"toggle":case"beforetoggle":ee=Ne}var Se=(o&4)!==0,st=!Se&&(s==="scroll"||s==="scrollend"),Y=Se?W!==null?W+"Capture":null:W;Se=[];for(var $=Q,K;$!==null;){var se=$;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||Y===null||(se=si($,Y),se!=null&&Se.push(iu($,se,K))),st)break;$=$.return}0<Se.length&&(W=new ee(W,me,null,l,ne),oe.push({event:W,listeners:Se}))}}if((o&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",W&&l!==Al&&(me=l.relatedTarget||l.fromElement)&&(Ii(me)||me[Ci]))break e;if((ee||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(me=l.relatedTarget||l.toElement,ee=Q,me=me?Ii(me):null,me!==null&&(st=a(me),Se=me.tag,me!==st||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(ee=null,me=Q),ee!==me)){if(Se=Rl,se="onMouseLeave",Y="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Se=ji,se="onPointerLeave",Y="onPointerEnter",$="pointer"),st=ee==null?W:Cn(ee),K=me==null?W:Cn(me),W=new Se(se,$+"leave",ee,l,ne),W.target=st,W.relatedTarget=K,se=null,Ii(ne)===Q&&(Se=new Se(Y,$+"enter",me,l,ne),Se.target=K,Se.relatedTarget=st,se=Se),st=se,ee&&me)t:{for(Se=HR,Y=ee,$=me,K=0,se=Y;se;se=Se(se))K++;se=0;for(var Te=$;Te;Te=Se(Te))se++;for(;0<K-se;)Y=Se(Y),K--;for(;0<se-K;)$=Se($),se--;for(;K--;){if(Y===$||$!==null&&Y===$.alternate){Se=Y;break t}Y=Se(Y),$=Se($)}Se=null}else Se=null;ee!==null&&mT(oe,W,ee,Se,!1),me!==null&&st!==null&&mT(oe,st,me,Se,!0)}}e:{if(W=Q?Cn(Q):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var Ye=Dy;else if(My(W))if(Py)Ye=tR;else{Ye=jI;var ye=ZI}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Fo(Q.elementType)&&(Ye=Dy):Ye=eR;if(Ye&&(Ye=Ye(s,Q))){Ny(oe,Ye,l,ne);break e}ye&&ye(s,W,Q),s==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Tl(W,"number",W.value)}switch(ye=Q?Cn(Q):window,s){case"focusin":(My(ye)||ye.contentEditable==="true")&&(Wo=ye,gh=Q,Dl=null);break;case"focusout":Dl=gh=Wo=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,zy(oe,l,ne);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":zy(oe,l,ne)}var Ve;if(Qe)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Qo?to(s,l)&&(Be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(ki&&l.locale!=="ko"&&(Qo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Qo&&(Ve=wl()):(Di=ne,Cl="value"in Di?Di.value:Di.textContent,Qo=!0)),ye=Tf(Q,Be),0<ye.length&&(Be=new Li(Be,s,null,l,ne),oe.push({event:Be,listeners:ye}),Ve?Be.data=Ve:(Ve=Ko(l),Ve!==null&&(Be.data=Ve)))),(Ve=qn?KI(s,l):QI(s,l))&&(Be=Tf(Q,"onBeforeInput"),0<Be.length&&(ye=new Li("onBeforeInput","beforeinput",null,l,ne),oe.push({event:ye,listeners:Be}),ye.data=Ve)),qR(oe,s,Q,l,ne)}hT(oe,o)})}function iu(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Tf(s,o){for(var l=o+"Capture",c=[];s!==null;){var g=s,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=si(s,l),g!=null&&c.unshift(iu(s,g,_)),g=si(s,o),g!=null&&c.push(iu(s,g,_))),s.tag===3)return c;s=s.return}return[]}function HR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function mT(s,o,l,c,g){for(var _=o._reactName,A=[];l!==null&&l!==c;){var R=l,B=R.alternate,Q=R.stateNode;if(R=R.tag,B!==null&&B===c)break;R!==5&&R!==26&&R!==27||Q===null||(B=Q,g?(Q=si(l,_),Q!=null&&A.unshift(iu(l,Q,B))):g||(Q=si(l,_),Q!=null&&A.push(iu(l,Q,B)))),l=l.return}A.length!==0&&s.push({event:o,listeners:A})}var $R=/\r\n?/g,YR=/\u0000|\uFFFD/g;function gT(s){return(typeof s=="string"?s:""+s).replace($R,`
`).replace(YR,"")}function yT(s,o){return o=gT(o),gT(s)===o}function it(s,o,l,c,g,_){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||gn(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&gn(s,""+c);break;case"className":wn(s,"class",c);break;case"tabIndex":wn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(s,l,c);break;case"style":Sl(s,c,_);break;case"data":if(o!=="object"){wn(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Go(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(o!=="input"&&it(s,o,"name",g.name,g,null),it(s,o,"formEncType",g.formEncType,g,null),it(s,o,"formMethod",g.formMethod,g,null),it(s,o,"formTarget",g.formTarget,g,null)):(it(s,o,"encType",g.encType,g,null),it(s,o,"method",g.method,g,null),it(s,o,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Go(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=ii);break;case"onScroll":c!=null&&ke("scroll",s);break;case"onScrollEnd":c!=null&&ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Go(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":ke("beforetoggle",s),ke("toggle",s),qo(s,"popover",c);break;case"xlinkActuate":Rt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qo(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_c.get(l)||l,qo(s,l,c))}}function Fp(s,o,l,c,g,_){switch(l){case"style":Sl(s,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?gn(s,c):(typeof c=="number"||typeof c=="bigint")&&gn(s,""+c);break;case"onScroll":c!=null&&ke("scroll",s);break;case"onScrollEnd":c!=null&&ke("scrollend",s);break;case"onClick":c!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),_=s[Gt]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(o,_,g),typeof c=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,g);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):qo(s,l,c)}}}function Zt(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",s),ke("load",s);var c=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var A=l[_];if(A!=null)switch(_){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:it(s,o,_,A,l,null)}}g&&it(s,o,"srcSet",l.srcSet,l,null),c&&it(s,o,"src",l.src,l,null);return;case"input":ke("invalid",s);var R=_=A=g=null,B=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var ne=l[c];if(ne!=null)switch(c){case"name":g=ne;break;case"type":A=ne;break;case"checked":B=ne;break;case"defaultChecked":Q=ne;break;case"value":_=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,o));break;default:it(s,o,c,ne,l,null)}}gc(s,_,R,B,Q,A,g,!1);return;case"select":ke("invalid",s),c=A=_=null;for(g in l)if(l.hasOwnProperty(g)&&(R=l[g],R!=null))switch(g){case"value":_=R;break;case"defaultValue":A=R;break;case"multiple":c=R;default:it(s,o,g,R,l,null)}o=_,l=A,s.multiple=!!c,o!=null?ks(s,!!c,o,!1):l!=null&&ks(s,!!c,l,!0);return;case"textarea":ke("invalid",s),_=g=c=null;for(A in l)if(l.hasOwnProperty(A)&&(R=l[A],R!=null))switch(A){case"value":c=R;break;case"defaultValue":g=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:it(s,o,A,R,l,null)}Us(s,c,g,_);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:it(s,o,B,c,l,null)}return;case"dialog":ke("beforetoggle",s),ke("toggle",s),ke("cancel",s),ke("close",s);break;case"iframe":case"object":ke("load",s);break;case"video":case"audio":for(c=0;c<nu.length;c++)ke(nu[c],s);break;case"image":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"embed":case"source":case"link":ke("error",s),ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:it(s,o,Q,c,l,null)}return;default:if(Fo(o)){for(ne in l)l.hasOwnProperty(ne)&&(c=l[ne],c!==void 0&&Fp(s,o,ne,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&it(s,o,R,c,l,null))}function JR(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,A=null,R=null,B=null,Q=null,ne=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":B=oe;default:c.hasOwnProperty(ee)||it(s,o,ee,null,c,oe)}}for(var W in c){var ee=c[W];if(oe=l[W],c.hasOwnProperty(W)&&(ee!=null||oe!=null))switch(W){case"type":_=ee;break;case"name":g=ee;break;case"checked":Q=ee;break;case"defaultChecked":ne=ee;break;case"value":A=ee;break;case"defaultValue":R=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:ee!==oe&&it(s,o,W,ee,c,oe)}}zo(s,A,R,B,Q,ne,_,g);return;case"select":ee=A=R=W=null;for(_ in l)if(B=l[_],l.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":ee=B;default:c.hasOwnProperty(_)||it(s,o,_,null,c,B)}for(g in c)if(_=c[g],B=l[g],c.hasOwnProperty(g)&&(_!=null||B!=null))switch(g){case"value":W=_;break;case"defaultValue":R=_;break;case"multiple":A=_;default:_!==B&&it(s,o,g,_,c,B)}o=R,l=A,c=ee,W!=null?ks(s,!!l,W,!1):!!c!=!!l&&(o!=null?ks(s,!!l,o,!0):ks(s,!!l,l?[]:"",!1));return;case"textarea":ee=W=null;for(R in l)if(g=l[R],l.hasOwnProperty(R)&&g!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:it(s,o,R,null,c,g)}for(A in c)if(g=c[A],_=l[A],c.hasOwnProperty(A)&&(g!=null||_!=null))switch(A){case"value":W=g;break;case"defaultValue":ee=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==_&&it(s,o,A,g,c,_)}yc(s,W,ee);return;case"option":for(var me in l)if(W=l[me],l.hasOwnProperty(me)&&W!=null&&!c.hasOwnProperty(me))switch(me){case"selected":s.selected=!1;break;default:it(s,o,me,null,c,W)}for(B in c)if(W=c[B],ee=l[B],c.hasOwnProperty(B)&&W!==ee&&(W!=null||ee!=null))switch(B){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:it(s,o,B,W,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)W=l[Se],l.hasOwnProperty(Se)&&W!=null&&!c.hasOwnProperty(Se)&&it(s,o,Se,null,c,W);for(Q in c)if(W=c[Q],ee=l[Q],c.hasOwnProperty(Q)&&W!==ee&&(W!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:it(s,o,Q,W,c,ee)}return;default:if(Fo(o)){for(var st in l)W=l[st],l.hasOwnProperty(st)&&W!==void 0&&!c.hasOwnProperty(st)&&Fp(s,o,st,void 0,c,W);for(ne in c)W=c[ne],ee=l[ne],!c.hasOwnProperty(ne)||W===ee||W===void 0&&ee===void 0||Fp(s,o,ne,W,c,ee);return}}for(var Y in l)W=l[Y],l.hasOwnProperty(Y)&&W!=null&&!c.hasOwnProperty(Y)&&it(s,o,Y,null,c,W);for(oe in c)W=c[oe],ee=l[oe],!c.hasOwnProperty(oe)||W===ee||W==null&&ee==null||it(s,o,oe,W,c,ee)}function vT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],_=g.transferSize,A=g.initiatorType,R=g.duration;if(_&&R&&vT(A)){for(A=0,R=g.responseEnd,c+=1;c<l.length;c++){var B=l[c],Q=B.startTime;if(Q>R)break;var ne=B.transferSize,oe=B.initiatorType;ne&&vT(oe)&&(B=B.responseEnd,A+=ne*(B<R?1:(R-Q)/(B-Q)))}if(--c,o+=8*(_+A)/(g.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Gp=null,Hp=null;function Ef(s){return s.nodeType===9?s:s.ownerDocument}function _T(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function $p(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yp=null;function QR(){var s=window.event;return s&&s.type==="popstate"?s===Yp?!1:(Yp=s,!0):(Yp=null,!1)}var ET=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,XR=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(s){return ST.resolve(null).then(s).catch(ZR)}:ET;function ZR(s){setTimeout(function(){throw s})}function or(s){return s==="head"}function AT(s,o){var l=o,c=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(g),Aa(o);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")su(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,su(l);for(var _=l.firstChild;_;){var A=_.nextSibling,R=_.nodeName;_[wi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=A}}else l==="body"&&su(s.ownerDocument.body);l=g}while(l);Aa(o)}function CT(s,o){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Jp(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jp(l),Bo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function jR(s,o,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[wi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function eb(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Jn(s.nextSibling),s===null))return null;return s}function wT(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Jn(s.nextSibling),s===null))return null;return s}function Kp(s){return s.data==="$?"||s.data==="$~"}function Qp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function tb(s,o){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||l.readyState!=="loading")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Jn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Wp=null;function IT(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(o===0)return Jn(s.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}s=s.nextSibling}return null}function RT(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return s;o--}else l!=="/$"&&l!=="/&"||o++}s=s.previousSibling}return null}function bT(s,o,l){switch(o=Ef(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function su(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Bo(s)}var Kn=new Map,xT=new Set;function Sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ps=ce.d;ce.d={f:nb,r:ib,D:sb,C:rb,L:ob,m:ab,X:ub,S:lb,M:cb};function nb(){var s=ps.f(),o=hf();return s||o}function ib(s){var o=Un(s);o!==null&&o.tag===5&&o.type==="form"?Yv(o):ps.r(s)}var Ta=typeof document>"u"?null:document;function MT(s,o,l){var c=Ta;if(c&&typeof o=="string"&&o){var g=mn(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),xT.has(g)||(xT.add(g),s={rel:s,crossOrigin:l,href:o},c.querySelector(g)===null&&(o=c.createElement("link"),Zt(o,"link",s),It(o),c.head.appendChild(o)))}}function sb(s){ps.D(s),MT("dns-prefetch",s,null)}function rb(s,o){ps.C(s,o),MT("preconnect",s,o)}function ob(s,o,l){ps.L(s,o,l);var c=Ta;if(c&&s&&o){var g='link[rel="preload"][as="'+mn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+mn(l.imageSizes)+'"]')):g+='[href="'+mn(s)+'"]';var _=g;switch(o){case"style":_=Ea(s);break;case"script":_=Sa(s)}Kn.has(_)||(s=T({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),Kn.set(_,s),c.querySelector(g)!==null||o==="style"&&c.querySelector(ru(_))||o==="script"&&c.querySelector(ou(_))||(o=c.createElement("link"),Zt(o,"link",s),It(o),c.head.appendChild(o)))}}function ab(s,o){ps.m(s,o);var l=Ta;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(s)+'"]',_=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Sa(s)}if(!Kn.has(_)&&(s=T({rel:"modulepreload",href:s},o),Kn.set(_,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ou(_)))return}c=l.createElement("link"),Zt(c,"link",s),It(c),l.head.appendChild(c)}}}function lb(s,o,l){ps.S(s,o,l);var c=Ta;if(c&&s){var g=Ri(c).hoistableStyles,_=Ea(s);o=o||"default";var A=g.get(_);if(!A){var R={loading:0,preload:null};if(A=c.querySelector(ru(_)))R.loading=5;else{s=T({rel:"stylesheet",href:s,"data-precedence":o},l),(l=Kn.get(_))&&Xp(s,l);var B=A=c.createElement("link");It(B),Zt(B,"link",s),B._p=new Promise(function(Q,ne){B.onload=Q,B.onerror=ne}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Af(A,o,c)}A={type:"stylesheet",instance:A,count:1,state:R},g.set(_,A)}}}function ub(s,o){ps.X(s,o);var l=Ta;if(l&&s){var c=Ri(l).hoistableScripts,g=Sa(s),_=c.get(g);_||(_=l.querySelector(ou(g)),_||(s=T({src:s,async:!0},o),(o=Kn.get(g))&&Zp(s,o),_=l.createElement("script"),It(_),Zt(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function cb(s,o){ps.M(s,o);var l=Ta;if(l&&s){var c=Ri(l).hoistableScripts,g=Sa(s),_=c.get(g);_||(_=l.querySelector(ou(g)),_||(s=T({src:s,async:!0,type:"module"},o),(o=Kn.get(g))&&Zp(s,o),_=l.createElement("script"),It(_),Zt(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function NT(s,o,l,c){var g=(g=Pe.current)?Sf(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Ea(l.href),l=Ri(g).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ea(l.href);var _=Ri(g).hoistableStyles,A=_.get(s);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,A),(_=g.querySelector(ru(s)))&&!_._p&&(A.instance=_,A.state.loading=5),Kn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kn.set(s,l),_||fb(g,s,l,A.state))),o&&c===null)throw Error(i(528,""));return A}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sa(l),l=Ri(g).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ea(s){return'href="'+mn(s)+'"'}function ru(s){return'link[rel="stylesheet"]['+s+"]"}function DT(s){return T({},s,{"data-precedence":s.precedence,precedence:null})}function fb(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Zt(o,"link",l),It(o),s.head.appendChild(o))}function Sa(s){return'[src="'+mn(s)+'"]'}function ou(s){return"script[async]"+s}function PT(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+mn(l.href)+'"]');if(c)return o.instance=c,It(c),c;var g=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),It(c),Zt(c,"style",g),Af(c,l.precedence,s),o.instance=c;case"stylesheet":g=Ea(l.href);var _=s.querySelector(ru(g));if(_)return o.state.loading|=4,o.instance=_,It(_),_;c=DT(l),(g=Kn.get(g))&&Xp(c,g),_=(s.ownerDocument||s).createElement("link"),It(_);var A=_;return A._p=new Promise(function(R,B){A.onload=R,A.onerror=B}),Zt(_,"link",c),o.state.loading|=4,Af(_,l.precedence,s),o.instance=_;case"script":return _=Sa(l.src),(g=s.querySelector(ou(_)))?(o.instance=g,It(g),g):(c=l,(g=Kn.get(_))&&(c=T({},l),Zp(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),It(g),Zt(g,"link",c),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Af(c,l.precedence,s));return o.instance}function Af(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,_=g,A=0;A<c.length;A++){var R=c[A];if(R.dataset.precedence===o)_=R;else if(_!==g)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Xp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Zp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Cf=null;function VT(s,o,l){if(Cf===null){var c=new Map,g=Cf=new Map;g.set(l,c)}else g=Cf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var _=l[g];if(!(_[wi]||_[wt]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=s+A;var R=c.get(A);R?R.push(_):c.set(A,[_])}}return c}function LT(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function db(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function hb(s,o,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ea(c.href),_=o.querySelector(ru(g));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=wf.bind(s),o.then(s,s)),l.state.loading|=4,l.instance=_,It(_);return}_=o.ownerDocument||o,c=DT(c),(g=Kn.get(g))&&Xp(c,g),_=_.createElement("link"),It(_);var A=_;A._p=new Promise(function(R,B){A.onload=R,A.onerror=B}),Zt(_,"link",c),l.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=wf.bind(s),o.addEventListener("load",l),o.addEventListener("error",l))}}var jp=0;function pb(s,o){return s.stylesheets&&s.count===0&&Rf(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Rf(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+o);0<s.imgBytes&&jp===0&&(jp=62500*KR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Rf(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>jp?50:800)+o);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var If=null;function Rf(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,If=new Map,o.forEach(mb,s),If=null,wf.call(s))}function mb(s,o){if(!(o.state.loading&4)){var l=If.get(s);if(l)var c=l.get(null);else{l=new Map,If.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var A=g[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}g=o.instance,A=g.getAttribute("data-precedence"),_=l.get(A)||c,_===c&&l.set(null,g),l.set(A,g),this.count++,c=wf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),_?_.parentNode.insertBefore(g,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var au={$$typeof:z,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function gb(s,o,l,c,g,_,A,R,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function UT(s,o,l,c,g,_,A,R,B,Q,ne,oe){return s=new gb(s,o,l,A,B,Q,ne,oe,R),o=1,_===!0&&(o|=24),_=Rn(3,null,null,o),s.current=_,_.stateNode=s,o=Dh(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:o},kh(_),s}function OT(s){return s?(s=jo,s):jo}function BT(s,o,l,c,g,_){g=OT(g),c.context===null?c.context=g:c.pendingContext=g,c=Qs(o),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=Ws(s,c,o),l!==null&&(En(l,s,o),Bl(l,s,o))}function qT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function em(s,o){qT(s,o),(s=s.alternate)&&qT(s,o)}function zT(s){if(s.tag===13||s.tag===31){var o=so(s,67108864);o!==null&&En(o,s,67108864),em(s,67108864)}}function FT(s){if(s.tag===13||s.tag===31){var o=Dn();o=Yr(o);var l=so(s,o);l!==null&&En(l,s,o),em(s,o)}}var bf=!0;function yb(s,o,l,c){var g=te.T;te.T=null;var _=ce.p;try{ce.p=2,tm(s,o,l,c)}finally{ce.p=_,te.T=g}}function vb(s,o,l,c){var g=te.T;te.T=null;var _=ce.p;try{ce.p=8,tm(s,o,l,c)}finally{ce.p=_,te.T=g}}function tm(s,o,l,c){if(bf){var g=nm(c);if(g===null)zp(s,o,c,xf,l),HT(s,c);else if(Tb(g,s,o,l,c))c.stopPropagation();else if(HT(s,c),o&4&&-1<_b.indexOf(s)){for(;g!==null;){var _=Un(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=Ei(_.pendingLanes);if(A!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var B=1<<31-vt(A);R.entanglements[1]|=B,A&=~B}qi(_),(We&6)===0&&(ff=fn()+500,tu(0))}}break;case 31:case 13:R=so(_,2),R!==null&&En(R,_,2),hf(),em(_,2)}if(_=nm(c),_===null&&zp(s,o,c,xf,l),_===g)break;g=_}g!==null&&c.stopPropagation()}else zp(s,o,c,null,l)}}function nm(s){return s=On(s),im(s)}var xf=null;function im(s){if(xf=null,s=Ii(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===31){if(s=d(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return xf=s,null}function GT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fr()){case cl:return 2;case fl:return 8;case Vs:case uh:return 32;case oc:return 268435456;default:return 32}default:return 32}}var sm=!1,ar=null,lr=null,ur=null,lu=new Map,uu=new Map,cr=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HT(s,o){switch(s){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":lu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(o.pointerId)}}function cu(s,o,l,c,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Un(o),o!==null&&zT(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Tb(s,o,l,c,g){switch(o){case"focusin":return ar=cu(ar,s,o,l,c,g),!0;case"dragenter":return lr=cu(lr,s,o,l,c,g),!0;case"mouseover":return ur=cu(ur,s,o,l,c,g),!0;case"pointerover":var _=g.pointerId;return lu.set(_,cu(lu.get(_)||null,s,o,l,c,g)),!0;case"gotpointercapture":return _=g.pointerId,uu.set(_,cu(uu.get(_)||null,s,o,l,c,g)),!0}return!1}function $T(s){var o=Ii(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,ti(s.priority,function(){FT(l)});return}}else if(o===31){if(o=d(l),o!==null){s.blockedOn=o,ti(s.priority,function(){FT(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=nm(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Al=c,l.target.dispatchEvent(c),Al=null}else return o=Un(l),o!==null&&zT(o),s.blockedOn=l,!1;o.shift()}return!0}function YT(s,o,l){Mf(s)&&l.delete(o)}function Eb(){sm=!1,ar!==null&&Mf(ar)&&(ar=null),lr!==null&&Mf(lr)&&(lr=null),ur!==null&&Mf(ur)&&(ur=null),lu.forEach(YT),uu.forEach(YT)}function Nf(s,o){s.blockedOn===o&&(s.blockedOn=null,sm||(sm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Eb)))}var Df=null;function JT(s){Df!==s&&(Df=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Df===s&&(Df=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],g=s[o+2];if(typeof c!="function"){if(im(c||l)===null)continue;break}var _=Un(l);_!==null&&(s.splice(o,3),o-=3,np(_,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Aa(s){function o(B){return Nf(B,s)}ar!==null&&Nf(ar,s),lr!==null&&Nf(lr,s),ur!==null&&Nf(ur,s),lu.forEach(o),uu.forEach(o);for(var l=0;l<cr.length;l++){var c=cr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)$T(l),l.blockedOn===null&&cr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],_=l[c+1],A=g[Gt]||null;if(typeof _=="function")A||JT(l);else if(A){var R=null;if(_&&_.hasAttribute("formAction")){if(g=_,A=_[Gt]||null)R=A.formAction;else if(im(g)!==null)continue}else R=A.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),JT(l)}}}function KT(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function rm(s){this._internalRoot=s}Pf.prototype.render=rm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=Dn();BT(l,c,s,o,null,null)},Pf.prototype.unmount=rm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;BT(s.current,2,null,s,null,null),hf(),o[Ci]=null}};function Pf(s){this._internalRoot=s}Pf.prototype.unstable_scheduleHydration=function(s){if(s){var o=dc();s={blockedOn:null,target:s,priority:o};for(var l=0;l<cr.length&&o!==0&&o<cr[l].priority;l++);cr.splice(l,0,s),l===0&&$T(s)}};var QT=e.version;if(QT!=="19.2.0")throw Error(i(527,QT,"19.2.0"));ce.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var Sb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{jn=Vf.inject(Sb),Jt=Vf}catch{}}return du.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",g=n_,_=i_,A=s_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=UT(s,1,!1,null,null,l,c,null,g,_,A,KT),s[Ci]=o.current,qp(s),new rm(o)},du.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,g="",_=n_,A=i_,R=s_,B=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),o=UT(s,1,!0,o,l??null,c,g,B,_,A,R,KT),o.context=OT(null),l=o.current,c=Dn(),c=Yr(c),g=Qs(c),g.callback=null,Ws(l,g,c),l=c,o.current.lanes=l,Hr(o,l),qi(o),s[Ci]=o.current,qp(s),new Pf(o)},du.version="19.2.0",du}var rE;function Pb(){if(rE)return lm.exports;rE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lm.exports=Db(),lm.exports}var Vb=Pb();/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),oE=t=>{const e=kb(t);return e.charAt(0).toUpperCase()+e.slice(1)},dA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Ub=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...d},f)=>F.createElement("svg",{ref:f,...Ob,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:dA("lucide",r),...!a&&!Ub(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,y])=>F.createElement(h,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=(t,e)=>{const n=F.forwardRef(({className:i,...r},a)=>F.createElement(Bb,{ref:a,iconNode:e,className:dA(`lucide-${Lb(oE(t))}`,`lucide-${t}`,i),...r}));return n.displayName=oE(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],zb=Ms("building-2",qb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gb=Ms("calendar",Fb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$b=Ms("circle-check-big",Hb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],aE=Ms("film",Yb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kb=Ms("globe",Jb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wb=Ms("map-pin",Qb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zb=Ms("search",Xb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hA=Ms("star",jb);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],tx=Ms("type",ex);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lE="popstate";function nx(t={}){function e(i,r){let{pathname:a,search:u,hash:d}=i.location;return Vm("",{pathname:a,search:u,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Nu(r)}return sx(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ix(){return Math.random().toString(36).substring(2,10)}function uE(t,e){return{usr:t.state,key:t.key,idx:e}}function Vm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ja(e):e,state:n,key:e&&e.key||i||ix()}}function Nu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function sx(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,d="POP",f=null,h=y();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function y(){return(u.state||{idx:null}).idx}function T(){d="POP";let k=y(),G=k==null?null:k-h;h=k,f&&f({action:d,location:L.location,delta:G})}function E(k,G){d="PUSH";let q=Vm(L.location,k,G);h=y()+1;let z=uE(q,h),X=L.createHref(q);try{u.pushState(z,"",X)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(X)}a&&f&&f({action:d,location:L.location,delta:1})}function w(k,G){d="REPLACE";let q=Vm(L.location,k,G);h=y();let z=uE(q,h),X=L.createHref(q);u.replaceState(z,"",X),a&&f&&f({action:d,location:L.location,delta:0})}function D(k){return rx(k)}let L={get action(){return d},get location(){return t(r,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(lE,T),f=k,()=>{r.removeEventListener(lE,T),f=null}},createHref(k){return e(r,k)},createURL:D,encodeLocation(k){let G=D(k);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:w,go(k){return u.go(k)}};return L}function rx(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Nu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function pA(t,e,n="/"){return ox(t,e,n,!1)}function ox(t,e,n,i){let r=typeof e=="string"?Ja(e):e,a=Cs(r.pathname||"/",n);if(a==null)return null;let u=mA(t);ax(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=vx(a);d=gx(u[f],h,i)}return d}function mA(t,e=[],n=[],i="",r=!1){let a=(u,d,f=r,h)=>{let y={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;ht(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let T=Ss([i,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),mA(u.children,e,E,T,f)),!(u.path==null&&!u.index)&&e.push({path:T,score:px(T,u.index),routesMeta:E})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let f of gA(u.path))a(u,d,!0,f)}),e}function gA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=gA(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),r&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function ax(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var lx=/^:[\w-]+$/,ux=3,cx=2,fx=1,dx=10,hx=-2,cE=t=>t==="*";function px(t,e){let n=t.split("/"),i=n.length;return n.some(cE)&&(i+=hx),e&&(i+=cx),n.filter(r=>!cE(r)).reduce((r,a)=>r+(lx.test(a)?ux:a===""?fx:dx),i)}function mx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function gx(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],h=d===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",T=ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},y),E=f.route;if(!T&&h&&n&&!i[i.length-1].route.index&&(T=ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!T)return null;Object.assign(r,T.params),u.push({params:r,pathname:Ss([a,T.pathname]),pathnameBase:Sx(Ss([a,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(a=Ss([a,T.pathnameBase]))}return u}function ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=yx(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((h,{paramName:y,isOptional:T},E)=>{if(y==="*"){let D=d[E]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const w=d[E];return T&&!w?h[y]=void 0:h[y]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:t}}function yx(t,e=!1,n=!0){mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function vx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function _x(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ja(t):t;return{pathname:n?n.startsWith("/")?n:Tx(n,e):e,search:Ax(i),hash:Cx(r)}}function Tx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function dm(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ex(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cg(t){let e=Ex(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function wg(t,e,n,i=!1){let r;typeof t=="string"?r=Ja(t):(r={...t},ht(!r.pathname||!r.pathname.includes("?"),dm("?","pathname","search",r)),ht(!r.pathname||!r.pathname.includes("#"),dm("#","pathname","hash",r)),ht(!r.search||!r.search.includes("#"),dm("#","search","hash",r)));let a=t===""||r.pathname==="",u=a?"/":r.pathname,d;if(u==null)d=n;else{let T=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),T-=1;r.pathname=E.join("/")}d=T>=0?e[T]:"/"}let f=_x(r,d),h=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||y)&&(f.pathname+="/"),f}var Ss=t=>t.join("/").replace(/\/\/+/g,"/"),Sx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var yA=["POST","PUT","PATCH","DELETE"];new Set(yA);var Ix=["GET",...yA];new Set(Ix);var Ka=F.createContext(null);Ka.displayName="DataRouter";var Vd=F.createContext(null);Vd.displayName="DataRouterState";F.createContext(!1);var vA=F.createContext({isTransitioning:!1});vA.displayName="ViewTransition";var Rx=F.createContext(new Map);Rx.displayName="Fetchers";var bx=F.createContext(null);bx.displayName="Await";var gi=F.createContext(null);gi.displayName="Navigation";var zu=F.createContext(null);zu.displayName="Location";var yi=F.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Ig=F.createContext(null);Ig.displayName="RouteError";function xx(t,{relative:e}={}){ht(Qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(gi),{hash:r,pathname:a,search:u}=Gu(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Ss([n,a])),i.createHref({pathname:d,search:u,hash:r})}function Qa(){return F.useContext(zu)!=null}function Dr(){return ht(Qa(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(zu).location}var _A="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TA(t){F.useContext(gi).static||F.useLayoutEffect(t)}function Fu(){let{isDataRoute:t}=F.useContext(yi);return t?Fx():Mx()}function Mx(){ht(Qa(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Ka),{basename:e,navigator:n}=F.useContext(gi),{matches:i}=F.useContext(yi),{pathname:r}=Dr(),a=JSON.stringify(Cg(i)),u=F.useRef(!1);return TA(()=>{u.current=!0}),F.useCallback((f,h={})=>{if(mi(u.current,_A),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=wg(f,JSON.parse(a),r,h.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ss([e,y.pathname])),(h.replace?n.replace:n.push)(y,h.state,h)},[e,n,a,r,t])}F.createContext(null);function EA(){let{matches:t}=F.useContext(yi),e=t[t.length-1];return e?e.params:{}}function Gu(t,{relative:e}={}){let{matches:n}=F.useContext(yi),{pathname:i}=Dr(),r=JSON.stringify(Cg(n));return F.useMemo(()=>wg(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Nx(t,e){return SA(t,e)}function SA(t,e,n,i,r){ht(Qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(gi),{matches:u}=F.useContext(yi),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",y=d?d.pathnameBase:"/",T=d&&d.route;{let q=T&&T.path||"";AA(h,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Dr(),w;if(e){let q=typeof e=="string"?Ja(e):e;ht(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=E;let D=w.pathname||"/",L=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=pA(t,{pathname:L});mi(T||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),mi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=kx(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Ss([y,a.encodeLocation?a.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:Ss([y,a.encodeLocation?a.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,i,r);return e&&G?F.createElement(zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},G):G}function Dx(){let t=zx(),e=wx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:r},n):null,u)}var Px=F.createElement(Dx,null),Vx=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?F.createElement(yi.Provider,{value:this.props.routeContext},F.createElement(Ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lx({routeContext:t,match:e,children:n}){let i=F.useContext(Ka);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(yi.Provider,{value:t},n)}function kx(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n?.errors;if(u!=null){let h=a.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let y=a[h];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=h),y.route.id){let{loaderData:T,errors:E}=n,w=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,y,T)=>{let E,w=!1,D=null,L=null;n&&(E=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||Px,d&&(f<0&&T===0?(AA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):f===T&&(w=!0,L=y.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,T+1)),G=()=>{let q;return E?q=D:w?q=L:y.route.Component?q=F.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=h,F.createElement(Lx,{match:y,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?F.createElement(Vx,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:G(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):G()},null)}function Rg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ux(t){let e=F.useContext(Ka);return ht(e,Rg(t)),e}function Ox(t){let e=F.useContext(Vd);return ht(e,Rg(t)),e}function Bx(t){let e=F.useContext(yi);return ht(e,Rg(t)),e}function bg(t){let e=Bx(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qx(){return bg("useRouteId")}function zx(){let t=F.useContext(Ig),e=Ox("useRouteError"),n=bg("useRouteError");return t!==void 0?t:e.errors?.[n]}function Fx(){let{router:t}=Ux("useNavigate"),e=bg("useNavigate"),n=F.useRef(!1);return TA(()=>{n.current=!0}),F.useCallback(async(r,a={})=>{mi(n.current,_A),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var fE={};function AA(t,e,n){!e&&!fE[t]&&(fE[t]=!0,mi(!1,n))}F.memo(Gx);function Gx({routes:t,future:e,state:n,unstable_onError:i}){return SA(t,void 0,n,i,e)}function Hx({to:t,replace:e,state:n,relative:i}){ht(Qa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=F.useContext(gi);mi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(yi),{pathname:u}=Dr(),d=Fu(),f=wg(t,Cg(a),u,i==="path"),h=JSON.stringify(f);return F.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:i})},[d,h,i,e,n]),null}function fi(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $x({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){ht(!Qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:u,navigator:r,static:a,future:{}}),[u,r,a]);typeof n=="string"&&(n=Ja(n));let{pathname:f="/",search:h="",hash:y="",state:T=null,key:E="default"}=n,w=F.useMemo(()=>{let D=Cs(f,u);return D==null?null:{location:{pathname:D,search:h,hash:y,state:T,key:E},navigationType:i}},[u,f,h,y,T,E,i]);return mi(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:F.createElement(gi.Provider,{value:d},F.createElement(zu.Provider,{children:e,value:w}))}function Yx({children:t,location:e}){return Nx(Lm(t),e)}function Lm(t,e=[]){let n=[];return F.Children.forEach(t,(i,r)=>{if(!F.isValidElement(i))return;let a=[...e,r];if(i.type===F.Fragment){n.push.apply(n,Lm(i.props.children,a));return}ht(i.type===fi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Lm(i.props.children,a)),n.push(u)}),n}var Yf="get",Jf="application/x-www-form-urlencoded";function Ld(t){return t!=null&&typeof t.tagName=="string"}function Jx(t){return Ld(t)&&t.tagName.toLowerCase()==="button"}function Kx(t){return Ld(t)&&t.tagName.toLowerCase()==="form"}function Qx(t){return Ld(t)&&t.tagName.toLowerCase()==="input"}function Wx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xx(t,e){return t.button===0&&(!e||e==="_self")&&!Wx(t)}var Lf=null;function Zx(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var jx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(t){return t!=null&&!jx.has(t)?(mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):t}function e1(t,e){let n,i,r,a,u;if(Kx(t)){let d=t.getAttribute("action");i=d?Cs(d,e):null,n=t.getAttribute("method")||Yf,r=hm(t.getAttribute("enctype"))||Jf,a=new FormData(t)}else if(Jx(t)||Qx(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Cs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Yf,r=hm(t.getAttribute("formenctype"))||hm(d.getAttribute("enctype"))||Jf,a=new FormData(d,t),!Zx()){let{name:h,type:y,value:T}=t;if(y==="image"){let E=h?`${h}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else h&&a.append(h,T)}}else{if(Ld(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yf,i=null,r=Jf,u=t}return a&&r==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t1(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Cs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function n1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s1(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let u=await n1(a,n);return u.links?u.links():[]}return[]}));return l1(i.flat(1).filter(i1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function dE(t,e,n,i,r,a){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):a==="data"?e.filter((f,h)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function r1(t,e,{includeHydrateFallback:n}={}){return o1(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function o1(t){return[...new Set(t)]}function a1(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function l1(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(a1(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function CA(){let t=F.useContext(Ka);return xg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u1(){let t=F.useContext(Vd);return xg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mg=F.createContext(void 0);Mg.displayName="FrameworkContext";function wA(){let t=F.useContext(Mg);return xg(t,"You must render this element inside a <HydratedRouter> element"),t}function c1(t,e){let n=F.useContext(Mg),[i,r]=F.useState(!1),[a,u]=F.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:y,onTouchStart:T}=e,E=F.useRef(null);F.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=G=>{G.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(L,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),F.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let w=()=>{r(!0)},D=()=>{r(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:hu(d,w),onBlur:hu(f,D),onMouseEnter:hu(h,w),onMouseLeave:hu(y,D),onTouchStart:hu(T,w)}]:[!1,E,{}]}function hu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function f1({page:t,...e}){let{router:n}=CA(),i=F.useMemo(()=>pA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?F.createElement(h1,{page:t,matches:i,...e}):null}function d1(t){let{manifest:e,routeModules:n}=wA(),[i,r]=F.useState([]);return F.useEffect(()=>{let a=!1;return s1(t,e,n).then(u=>{a||r(u)}),()=>{a=!0}},[t,e,n]),i}function h1({page:t,matches:e,...n}){let i=Dr(),{manifest:r,routeModules:a}=wA(),{basename:u}=CA(),{loaderData:d,matches:f}=u1(),h=F.useMemo(()=>dE(t,e,f,r,i,"data"),[t,e,f,r,i]),y=F.useMemo(()=>dE(t,e,f,r,i,"assets"),[t,e,f,r,i]),T=F.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,L=!1;if(e.forEach(G=>{let q=r.routes[G.route.id];!q||!q.hasLoader||(!h.some(z=>z.route.id===G.route.id)&&G.route.id in d&&a[G.route.id]?.shouldRevalidate||q.hasClientLoader?L=!0:D.add(G.route.id))}),D.size===0)return[];let k=t1(t,u,"data");return L&&D.size>0&&k.searchParams.set("_routes",e.filter(G=>D.has(G.route.id)).map(G=>G.route.id).join(",")),[k.pathname+k.search]},[u,d,i,r,h,e,t,a]),E=F.useMemo(()=>r1(y,r),[y,r]),w=d1(y);return F.createElement(F.Fragment,null,T.map(D=>F.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>F.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),w.map(({key:D,link:L})=>F.createElement("link",{key:D,nonce:n.nonce,...L})))}function p1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IA&&(window.__reactRouterVersion="7.9.4")}catch{}function m1({basename:t,children:e,window:n}){let i=F.useRef();i.current==null&&(i.current=nx({window:n,v5Compat:!0}));let r=i.current,[a,u]=F.useState({action:r.action,location:r.location}),d=F.useCallback(f=>{F.startTransition(()=>u(f))},[u]);return F.useLayoutEffect(()=>r.listen(d),[r,d]),F.createElement($x,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r})}var RA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=F.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:u,state:d,target:f,to:h,preventScrollReset:y,viewTransition:T,...E},w){let{basename:D}=F.useContext(gi),L=typeof h=="string"&&RA.test(h),k,G=!1;if(typeof h=="string"&&L&&(k=h,IA))try{let x=new URL(window.location.href),V=h.startsWith("//")?new URL(x.protocol+h):new URL(h),P=Cs(V.pathname,D);V.origin===x.origin&&P!=null?h=P+V.search+V.hash:G=!0}catch{mi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=xx(h,{relative:r}),[z,X,j]=c1(i,E),ie=_1(h,{replace:u,state:d,target:f,preventScrollReset:y,relative:r,viewTransition:T});function M(x){e&&e(x),x.defaultPrevented||ie(x)}let I=F.createElement("a",{...E,...j,href:k||q,onClick:G||a?e:M,ref:p1(w,X),target:f,"data-discover":!L&&n==="render"?"true":void 0});return z&&!L?F.createElement(F.Fragment,null,I,F.createElement(f1,{page:q})):I});Vt.displayName="Link";var g1=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:u,viewTransition:d,children:f,...h},y){let T=Gu(u,{relative:h.relative}),E=Dr(),w=F.useContext(Vd),{navigator:D,basename:L}=F.useContext(gi),k=w!=null&&C1(T)&&d===!0,G=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,q=E.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(q=q.toLowerCase(),z=z?z.toLowerCase():null,G=G.toLowerCase()),z&&L&&(z=Cs(z,L)||z);const X=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let j=q===G||!r&&q.startsWith(G)&&q.charAt(X)==="/",ie=z!=null&&(z===G||!r&&z.startsWith(G)&&z.charAt(G.length)==="/"),M={isActive:j,isPending:ie,isTransitioning:k},I=j?e:void 0,x;typeof i=="function"?x=i(M):x=[i,j?"active":null,ie?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(M):a;return F.createElement(Vt,{...h,"aria-current":I,className:x,ref:y,style:V,to:u,viewTransition:d},typeof f=="function"?f(M):f)});g1.displayName="NavLink";var y1=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:u=Yf,action:d,onSubmit:f,relative:h,preventScrollReset:y,viewTransition:T,...E},w)=>{let D=S1(),L=A1(d,{relative:h}),k=u.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&RA.test(d),q=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let X=z.nativeEvent.submitter,j=X?.getAttribute("formmethod")||u;D(X||z.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:r,state:a,relative:h,preventScrollReset:y,viewTransition:T})};return F.createElement("form",{ref:w,method:k,action:L,onSubmit:i?f:q,...E,"data-discover":!G&&t==="render"?"true":void 0})});y1.displayName="Form";function v1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(t){let e=F.useContext(Ka);return ht(e,v1(t)),e}function _1(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:u}={}){let d=Fu(),f=Dr(),h=Gu(t,{relative:a});return F.useCallback(y=>{if(Xx(y,e)){y.preventDefault();let T=n!==void 0?n:Nu(f)===Nu(h);d(t,{replace:T,state:i,preventScrollReset:r,relative:a,viewTransition:u})}},[f,d,h,n,i,e,t,r,a,u])}var T1=0,E1=()=>`__${String(++T1)}__`;function S1(){let{router:t}=bA("useSubmit"),{basename:e}=F.useContext(gi),n=qx();return F.useCallback(async(i,r={})=>{let{action:a,method:u,encType:d,formData:f,body:h}=e1(i,e);if(r.navigate===!1){let y=r.fetcherKey||E1();await t.fetch(y,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:h,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:h,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function A1(t,{relative:e}={}){let{basename:n}=F.useContext(gi),i=F.useContext(yi);ht(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Gu(t||".",{relative:e})},u=Dr();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ss([n,a.pathname])),Nu(a)}function C1(t,{relative:e}={}){let n=F.useContext(vA);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bA("useViewTransitionState"),r=Gu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Cs(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Cs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ad(r.pathname,u)!=null||ad(r.pathname,a)!=null}const w1=()=>{};var hE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},I1=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],u=t[n++],d=t[n++],f=((r&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},MA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],u=r+1<t.length,d=u?t[r+1]:0,f=r+2<t.length,h=f?t[r+2]:0,y=a>>2,T=(a&3)<<4|d>>4;let E=(d&15)<<2|h>>6,w=h&63;f||(w=64,u||(E=64)),i.push(n[y],n[T],n[E],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],d=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const T=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||d==null||h==null||T==null)throw new R1;const E=a<<2|d>>4;if(i.push(E),h!==64){const w=d<<4&240|h>>2;if(i.push(w),T!==64){const D=h<<6&192|T;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b1=function(t){const e=xA(t);return MA.encodeByteArray(e,!0)},ld=function(t){return b1(t).replace(/\./g,"")},NA=function(t){try{return MA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=()=>x1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof hE>"u")return;const t=hE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NA(t[1]);return e&&JSON.parse(e)},kd=()=>{try{return w1()||M1()||N1()||D1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DA=t=>kd()?.emulatorHosts?.[t],P1=t=>{const e=DA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},PA=()=>kd()?.config,VA=t=>kd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ld(JSON.stringify(n)),ld(JSON.stringify(u)),""].join(".")}const Su={};function k1(){const t={prod:[],emulator:[]};for(const e of Object.keys(Su))Su[e]?t.emulator.push(e):t.prod.push(e);return t}function U1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pE=!1;function kA(t,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Su[t]===e||Su[t]||pE)return;Su[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=k1().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function h(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{pE=!0,u()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=U1(i),w=n("text"),D=document.getElementById(w)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),G=n("preprendIcon"),q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;d(z),y(k,L);const X=h();f(q,G),z.append(q,D,k,X),document.body.appendChild(z)}a?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function B1(){const t=kd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G1(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function Y1(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="FirebaseError";class Ns extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=J1,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?K1(a,i):"Error",d=`${this.serviceName}: ${u} (${r}).`;return new Ns(r,d,i)}}function K1(t,e){return t.replace(Q1,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Q1=/\{\$([^}]+)}/g;function W1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],u=e[r];if(mE(a)&&mE(u)){if(!wr(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X1(t,e){const n=new Z1(t,e);return n.subscribe.bind(n)}class Z1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");j1(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=pm),r.error===void 0&&(r.error=pm),r.complete===void 0&&(r.complete=pm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class So{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new V1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nM(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tM(t){return t===vo?void 0:t}function nM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const sM={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},rM=qe.INFO,oM={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},aM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=oM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ng{constructor(e){this.name=e,this._logLevel=rM,this._logHandler=aM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const lM=(t,e)=>e.some(n=>t instanceof n);let gE,yE;function uM(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cM(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,km=new WeakMap,OA=new WeakMap,mm=new WeakMap,Dg=new WeakMap;function fM(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Tr(t.result)),r()},u=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&UA.set(n,t)}).catch(()=>{}),Dg.set(e,t),e}function dM(t){if(km.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});km.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hM(t){Um=t(Um)}function pM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gm(this),e,...n);return OA.set(i,e.sort?e.sort():[e]),Tr(i)}:cM().includes(t)?function(...e){return t.apply(gm(this),e),Tr(UA.get(this))}:function(...e){return Tr(t.apply(gm(this),e))}}function mM(t){return typeof t=="function"?pM(t):(t instanceof IDBTransaction&&dM(t),lM(t,uM())?new Proxy(t,Um):t)}function Tr(t){if(t instanceof IDBRequest)return fM(t);if(mm.has(t))return mm.get(t);const e=mM(t);return e!==t&&(mm.set(t,e),Dg.set(e,t)),e}const gm=t=>Dg.get(t);function gM(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),d=Tr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Tr(u.result),f.oldVersion,f.newVersion,Tr(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const yM=["get","getKey","getAll","getAllKeys","count"],vM=["put","add","delete","clear"],ym=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=vM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yM.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,r?"readwrite":"readonly");let h=f.store;return i&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),r&&f.done]))[0]};return ym.set(e,a),a}hM(t=>({...t,get:(e,n,i)=>vE(e,n)||t.get(e,n,i),has:(e,n)=>!!vE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TM(t){return t.getComponent()?.type==="VERSION"}const Om="@firebase/app",_E="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Ng("@firebase/app"),EM="@firebase/app-compat",SM="@firebase/analytics-compat",AM="@firebase/analytics",CM="@firebase/app-check-compat",wM="@firebase/app-check",IM="@firebase/auth",RM="@firebase/auth-compat",bM="@firebase/database",xM="@firebase/data-connect",MM="@firebase/database-compat",NM="@firebase/functions",DM="@firebase/functions-compat",PM="@firebase/installations",VM="@firebase/installations-compat",LM="@firebase/messaging",kM="@firebase/messaging-compat",UM="@firebase/performance",OM="@firebase/performance-compat",BM="@firebase/remote-config",qM="@firebase/remote-config-compat",zM="@firebase/storage",FM="@firebase/storage-compat",GM="@firebase/firestore",HM="@firebase/ai",$M="@firebase/firestore-compat",YM="firebase",JM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",KM={[Om]:"fire-core",[EM]:"fire-core-compat",[AM]:"fire-analytics",[SM]:"fire-analytics-compat",[wM]:"fire-app-check",[CM]:"fire-app-check-compat",[IM]:"fire-auth",[RM]:"fire-auth-compat",[bM]:"fire-rtdb",[xM]:"fire-data-connect",[MM]:"fire-rtdb-compat",[NM]:"fire-fn",[DM]:"fire-fn-compat",[PM]:"fire-iid",[VM]:"fire-iid-compat",[LM]:"fire-fcm",[kM]:"fire-fcm-compat",[UM]:"fire-perf",[OM]:"fire-perf-compat",[BM]:"fire-rc",[qM]:"fire-rc-compat",[zM]:"fire-gcs",[FM]:"fire-gcs-compat",[GM]:"fire-fst",[$M]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[YM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,QM=new Map,qm=new Map;function TE(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ba(t){const e=t.name;if(qm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const n of ud.values())TE(n,t);for(const n of QM.values())TE(n,t);return!0}function Pg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Hu("app","Firebase",WM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=JM;function BA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Bm,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Er.create("bad-app-name",{appName:String(r)});if(n||(n=PA()),!n)throw Er.create("no-options");const a=ud.get(r);if(a){if(wr(n,a.options)&&wr(i,a.config))return a;throw Er.create("duplicate-app",{appName:r})}const u=new iM(r);for(const f of qm.values())u.addComponent(f);const d=new XM(n,i,u);return ud.set(r,d),d}function qA(t=Bm){const e=ud.get(t);if(!e&&t===Bm&&PA())return BA();if(!e)throw Er.create("no-app",{appName:t});return e}function Sr(t,e,n){let i=KM[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(u.join(" "));return}Ba(new So(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="firebase-heartbeat-database",jM=1,Du="firebase-heartbeat-store";let vm=null;function zA(){return vm||(vm=gM(ZM,jM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),vm}async function eN(t){try{const n=(await zA()).transaction(Du),i=await n.objectStore(Du).get(FA(t));return await n.done,i}catch(e){if(e instanceof Ns)ws.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});ws.warn(n.message)}}}async function EE(t,e){try{const i=(await zA()).transaction(Du,"readwrite");await i.objectStore(Du).put(e,FA(t)),await i.done}catch(n){if(n instanceof Ns)ws.warn(n.message);else{const i=Er.create("idb-set",{originalErrorMessage:n?.message});ws.warn(i.message)}}}function FA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=1024,nN=30;class iN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=SE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>nN){const r=oN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=SE(),{heartbeatsToSend:n,unsentEntries:i}=sN(this._heartbeatsCache.heartbeats),r=ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ws.warn(e),""}}}function SE(){return new Date().toISOString().substring(0,10)}function sN(t,e=tN){const n=[];let i=t.slice();for(const r of t){const a=n.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),AE(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),AE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class rN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?Y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AE(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}function oN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){Ba(new So("platform-logger",e=>new _M(e),"PRIVATE")),Ba(new So("heartbeat",e=>new iN(e),"PRIVATE")),Sr(Om,_E,t),Sr(Om,_E,"esm2020"),Sr("fire-js","")}aN("");function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lN=GA,HA=new Hu("auth","Firebase",GA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Ng("@firebase/auth");function uN(t,...e){cd.logLevel<=qe.WARN&&cd.warn(`Auth (${Xa}): ${t}`,...e)}function Kf(t,...e){cd.logLevel<=qe.ERROR&&cd.error(`Auth (${Xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw Lg(t,...e)}function pi(t,...e){return Lg(t,...e)}function Vg(t,e,n){const i={...lN(),[e]:n};return new Hu("auth","Firebase",i).create(e,{appName:t.name})}function As(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zn(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return HA.create(t,...e)}function Ae(t,e,...n){if(!t)throw Lg(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function Is(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){return typeof self<"u"&&self.location?.href||""}function fN(){return CE()==="http:"||CE()==="https:"}function CE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fN()||z1()||"connection"in navigator)?navigator.onLine:!0}function hN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=O1()||F1()}get(){return dN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gN=new Yu(3e4,6e4);function Pr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vr(t,e,n,i,r={}){return YA(t,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=$u({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...a};return q1()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(h.credentials="include"),$A.fetch()(await JA(t,t.config.apiHost,n,d),h)})}async function YA(t,e,n){t._canInitEmulator=!1;const i={...pN,...e};try{const r=new vN(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw kf(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw kf(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw kf(t,"user-disabled",u);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Vg(t,y,h);Zn(t,y)}}catch(r){if(r instanceof Ns)throw r;Zn(t,"network-request-failed",{message:String(r)})}}async function Ju(t,e,n,i,r={}){const a=await Vr(t,e,n,i,r);return"mfaPendingCredential"in a&&Zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function JA(t,e,n,i){const r=`${e}${n}?${i}`,a=t,u=a.config.emulator?kg(t.config,r):`${t.config.apiScheme}://${r}`;return mN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function yN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(pi(this.auth,"network-request-failed")),gN.get())})}}function kf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=pi(t,e,i);return r.customData._tokenResponse=n,r}function wE(t){return t!==void 0&&t.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TN(t,e){return Vr(t,"GET","/v2/recaptchaConfig",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function fd(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SN(t,e=!1){const n=cn(t),i=await n.getIdToken(e),r=Ug(i);Ae(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a?.sign_in_provider;return{claims:r,token:i,authTime:Au(_m(r.auth_time)),issuedAtTime:Au(_m(r.iat)),expirationTime:Au(_m(r.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function _m(t){return Number(t)*1e3}function Ug(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const r=NA(n);return r?JSON.parse(r):(Kf("Failed to decode base64 JWT payload"),null)}catch(r){return Kf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function IE(t){const e=Ug(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ns&&AN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function AN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){const e=t.auth,n=await t.getIdToken(),i=await Pu(t,fd(e,{idToken:n}));Ae(i?.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const a=r.providerUserInfo?.length?KA(r.providerUserInfo):[],u=IN(t.providerData,a),d=t.isAnonymous,f=!(t.email&&r.passwordHash)&&!u?.length,h=d?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new Fm(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,y)}async function wN(t){const e=cn(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function KA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){const n=await YA(t,{},async()=>{const i=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,u=await JA(t,r,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(f.credentials="include"),$A.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bN(t,e){return Vr(t,"POST","/v2/accounts:revokeToken",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=IE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await RN(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,u=new Ma;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new CN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Fm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Pu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SN(this,e)}reload(){return wN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Pu(this,EN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:w,providerData:D,stsTokenManager:L}=n;Ae(T&&L,e,"internal-error");const k=Ma.fromJSON(this.name,L);Ae(typeof T=="string",e,"internal-error"),dr(i,e.name),dr(r,e.name),Ae(typeof E=="boolean",e,"internal-error"),Ae(typeof w=="boolean",e,"internal-error"),dr(a,e.name),dr(u,e.name),dr(d,e.name),dr(f,e.name),dr(h,e.name),dr(y,e.name);const G=new hi({uid:T,auth:e,email:r,emailVerified:E,displayName:i,isAnonymous:w,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:k,createdAt:h,lastLoginAt:y});return D&&Array.isArray(D)&&(G.providerData=D.map(q=>({...q}))),f&&(G._redirectEventId=f),G}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ma;r.updateFromServerResponse(n);const a=new hi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await dd(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ae(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?KA(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!a?.length,d=new Ma;d.updateFromIdToken(i);const f=new hi({uid:r.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Fm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function Ts(t){Is(t instanceof Function,"Expected a class definition");let e=RE.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QA.type="NONE";const bE=QA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Qf(this.userKey,r.apiKey,a),this.fullPersistenceKey=Qf("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fd(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Na(Ts(bE),e,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||Ts(bE);const u=Qf(i,e.config.apiKey,e.name);let d=null;for(const h of n)try{const y=await h._get(u);if(y){let T;if(typeof y=="string"){const E=await fd(e,{idToken:y}).catch(()=>{});if(!E)break;T=await hi._fromGetAccountInfoResponse(e,E,y)}else T=hi._fromJSON(e,y);h!==a&&(d=T),a=h;break}}catch{}const f=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Na(a,e,i):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(u)}catch{}})),new Na(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tC(e))return"Blackberry";if(nC(e))return"Webos";if(XA(e))return"Safari";if((e.includes("chrome/")||ZA(e))&&!e.includes("edge/"))return"Chrome";if(eC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function WA(t=un()){return/firefox\//i.test(t)}function XA(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZA(t=un()){return/crios\//i.test(t)}function jA(t=un()){return/iemobile/i.test(t)}function eC(t=un()){return/android/i.test(t)}function tC(t=un()){return/blackberry/i.test(t)}function nC(t=un()){return/webos/i.test(t)}function Og(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xN(t=un()){return Og(t)&&!!window.navigator?.standalone}function MN(){return G1()&&document.documentMode===10}function iC(t=un()){return Og(t)||eC(t)||nC(t)||tC(t)||/windows phone/i.test(t)||jA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e=[]){let n;switch(t){case"Browser":n=xE(un());break;case"Worker":n=`${xE(un())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",Pr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class VN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new NN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fd(this,{idToken:e}),i=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(i=d.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(As(this));const n=e?cn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DN(this),n=new VN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await bN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,r);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lr(t){return cn(t)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=X1(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kN(t){Ud=t}function rC(t){return Ud.loadJS(t)}function UN(){return Ud.recaptchaEnterpriseScript}function ON(){return Ud.gapiScript}function BN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qN{constructor(){this.enterprise=new zN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FN="recaptcha-enterprise",oC="NO_RECAPTCHA";class GN{constructor(e){this.type=FN,this.auth=Lr(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{TN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new _N(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function r(a,u,d){const f=window.grecaptcha;wE(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(oC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qN().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!n&&wE(window.grecaptcha))r(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=UN();f.length!==0&&(f+=d),rC(f).then(()=>{r(d,a,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function NE(t,e,n,i=!1,r=!1){const a=new GN(t);let u;if(r)u=oC;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Gm(t,e,n,i,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await NE(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await NE(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){const n=Pg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(wr(a,e??{}))return r;Zn(r,"already-initialized")}return n.initialize({options:e})}function $N(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ts);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function YN(t,e,n){const i=Lr(t);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=aC(e),{host:u,port:d}=JN(e),f=d===null?"":`:${d}`,h={url:`${a}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(wr(h,i.config.emulator)&&wr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Wa(u)?(LA(`${a}//${u}${f}`),kA("Auth",!0)):KN()}function aC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JN(t){const e=aC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:DE(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:DE(u)}}}function DE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function QN(t,e){return Vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){return Ju(t,"POST","/v1/accounts:signInWithPassword",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){return Ju(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))}async function ZN(t,e){return Ju(t,"POST","/v1/accounts:signInWithEmailLink",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Bg{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",WN);case"emailLink":return XN(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,i,"signUpPassword",QN);case"emailLink":return ZN(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Ju(t,"POST","/v1/accounts:signInWithIdp",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="http://localhost";class Ao extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=n;if(!i||!r)return null;const u=new Ao(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Da(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:jN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tD(t){const e=gu(yu(t)).link,n=e?gu(yu(e)).deep_link_id:null,i=gu(yu(t)).deep_link_id;return(i?gu(yu(i)).link:null)||i||n||e||t}class qg{constructor(e){const n=gu(yu(e)),i=n.apiKey??null,r=n.oobCode??null,a=eD(n.mode??null);Ae(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tD(e);try{return new qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=qg.parseLink(n);return Ae(i,"argument-error"),Vu._fromEmailAndCode(e,i.code,i.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Ku{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ao._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return vs.credential(n,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Ku{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Ku{constructor(){super("twitter.com")}static credential(e,n){return Ao._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return mr.credential(n,i)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return Ju(t,"POST","/v1/accounts:signUp",Pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await hi._fromIdTokenResponse(e,i,r),u=PE(i);return new Co({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=PE(i);return new Co({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Ns{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new hd(e,n,i,r)}}function lC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,a,e,i):a})}async function iD(t,e,n=!1){const i=await Pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e,n=!1){const{auth:i}=t;if(Vn(i.app))return Promise.reject(As(i));const r="reauthenticate";try{const a=await Pu(t,lC(i,r,e,t),n);Ae(a.idToken,i,"internal-error");const u=Ug(a.idToken);Ae(u,i,"internal-error");const{sub:d}=u;return Ae(t.uid===d,i,"user-mismatch"),Co._forOperation(t,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&Zn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){if(Vn(t.app))return Promise.reject(As(t));const i="signIn",r=await lC(t,i,e),a=await Co._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(a.user),a}async function rD(t,e){return uC(Lr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t){const e=Lr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oD(t,e,n){if(Vn(t.app))return Promise.reject(As(t));const i=Lr(t),u=await Gm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&cC(t),f}),d=await Co._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function aD(t,e,n){return Vn(t.app)?Promise.reject(As(t)):rD(cn(t),Za.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cC(t),i})}function lD(t,e,n,i){return cn(t).onIdTokenChanged(e,n,i)}function uD(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function cD(t,e,n,i){return cn(t).onAuthStateChanged(e,n,i)}function fD(t){return cn(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1e3,hD=10;class dC extends fC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);MN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,hD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dC.type="LOCAL";const pD=dC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends fC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hC.type="SESSION";const pC=hC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Od(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:a}=n.data,u=this.handlersMap[r];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const d=Array.from(u).map(async h=>h(n.origin,a)),f=await mD(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const h=Fg("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(T){const E=T;if(E.data.eventId===h)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function yD(t){Fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function vD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _D(){return navigator?.serviceWorker?.controller||null}function TD(){return mC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebaseLocalStorageDb",ED=1,md="firebaseLocalStorage",yC="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bd(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function SD(){const t=indexedDB.deleteDatabase(gC);return new Qu(t).toPromise()}function Hm(){const t=indexedDB.open(gC,ED);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(md,{keyPath:yC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(md)?e(i):(i.close(),await SD(),e(await Hm()))})})}async function VE(t,e,n){const i=Bd(t,!0).put({[yC]:e,value:n});return new Qu(i).toPromise()}async function AD(t,e){const n=Bd(t,!1).get(e),i=await new Qu(n).toPromise();return i===void 0?null:i.value}function LE(t,e){const n=Bd(t,!0).delete(e);return new Qu(n).toPromise()}const CD=800,wD=3;class vC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>wD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vD(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await VE(e,pd,"1"),await LE(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>VE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=Bd(r,!1).getAll();return new Qu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vC.type="LOCAL";const ID=vC;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e){return e?Ts(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RD(t){return uC(t.auth,new Gg(t),t.bypassAuthState)}function bD(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),sD(n,new Gg(t),t.bypassAuthState)}async function xD(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),iD(n,new Gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return xD;case"reauthViaPopup":case"reauthViaRedirect":return bD;default:Zn(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Yu(2e3,1e4);async function ND(t,e,n){if(Vn(t.app))return Promise.reject(pi(t,"operation-not-supported-in-this-environment"));const i=Lr(t);cN(t,e,zg);const r=_C(i,n);return new _o(i,"signInViaPopup",e,r).executeNotNull()}class _o extends TC{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MD.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="pendingRedirect",Wf=new Map;class PD extends TC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const i=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(t,e){const n=UD(e),i=kD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function LD(t,e){Wf.set(t._key(),e)}function kD(t){return Ts(t._redirectPersistence)}function UD(t){return Qf(DD,t.config.apiKey,t.name)}async function OD(t,e,n=!1){if(Vn(t.app))return Promise.reject(As(t));const i=Lr(t),r=_C(i,e),u=await new PD(i,r,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=600*1e3;class qD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!EC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function $D(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FD(t);for(const n of e)try{if(YD(n))return}catch{}Zn(t,"unauthorized-domain")}function YD(t){const e=zm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!HD.test(n))return!1;if(GD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Yu(3e4,6e4);function UE(){const t=Fi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KD(t){return new Promise((e,n)=>{function i(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(pi(t,"network-request-failed"))},timeout:JD.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)i();else{const r=BN("iframefcb");return Fi()[r]=()=>{gapi.load?i():n(pi(t,"network-request-failed"))},rC(`${ON()}?onload=${r}`).catch(a=>n(a))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function QD(t){return Xf=Xf||KD(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Yu(5e3,15e3),XD="__/auth/iframe",ZD="emulator/auth/iframe",jD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,ZD):`https://${t.config.authDomain}/${XD}`,i={apiKey:e.apiKey,appName:t.name,v:Xa},r=eP.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${$u(i).slice(1)}`}async function nP(t){const e=await QD(t),n=Fi().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:tP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jD,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=pi(t,"network-request-failed"),d=Fi().setTimeout(()=>{a(u)},WD.get());function f(){Fi().clearTimeout(d),r(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,rP=600,oP="_blank",aP="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(t,e,n,i=sP,r=rP){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...iP,width:i.toString(),height:r.toString(),top:a,left:u},h=un().toLowerCase();n&&(d=ZA(h)?oP:n),WA(h)&&(e=e||aP,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[w,D])=>`${E}${w}=${D},`,"");if(xN(h)&&d!=="_self")return uP(e||"",d),new OE(null);const T=window.open(e||"",d,y);Ae(T,t,"popup-blocked");try{T.focus()}catch{}return new OE(T)}function uP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="__/auth/handler",fP="emulator/auth/handler",dP=encodeURIComponent("fac");async function BE(t,e,n,i,r,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Xa,eventId:r};if(e instanceof zg){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",W1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))u[y]=T}if(e instanceof Ku){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),h=f?`#${dP}=${encodeURIComponent(f)}`:"";return`${hP(t)}?${$u(d).slice(1)}${h}`}function hP({config:t}){return t.emulator?kg(t,fP):`https://${t.authDomain}/${cP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pC,this._completeRedirectFn=OD,this._overrideRedirectResult=LD}async _openPopup(e,n,i,r){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await BE(e,n,i,zm(),r);return lP(e,a,Fg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const a=await BE(e,n,i,zm(),r);return yD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Is(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await nP(e),i=new qD(e);return n.register("authEvent",r=>(Ae(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},r=>{const a=r?.[0]?.[Tm];a!==void 0&&n(!!a),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iC()||XA()||Og()}}const mP=pP;var qE="@firebase/auth",zE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vP(t){Ba(new So("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sC(t)},h=new LN(i,r,a,f);return $N(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ba(new So("auth-internal",e=>{const n=Lr(e.getProvider("auth").getImmediate());return(i=>new gP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(qE,zE,yP(t)),Sr(qE,zE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=300,TP=VA("authIdTokenMaxAge")||_P;let FE=null;const EP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>TP)return;const r=n?.token;FE!==r&&(FE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function SP(t=qA()){const e=Pg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HN(t,{popupRedirectResolver:mP,persistence:[ID,pD,pC]}),i=VA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=EP(a.toString());uD(n,u,()=>u(n.currentUser)),lD(n,d=>u(d))}}const r=DA("auth");return r&&YN(n,`http://${r}`),n}function AP(){return document.getElementsByTagName("head")?.[0]??document}kN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const a=pi("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",AP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vP("Browser");var CP="firebase",wP="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(CP,wP,"app");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,SC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function x(){}x.prototype=I.prototype,M.F=I.prototype,M.prototype=new x,M.prototype.constructor=M,M.D=function(V,P,O){for(var U=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)U[Re-2]=arguments[Re];return I.prototype[P].apply(V,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,I,x){x||(x=0);const V=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)V[P]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(P=0;P<16;++P)V[P]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=M.g[0],x=M.g[1],P=M.g[2];let O=M.g[3],U;U=I+(O^x&(P^O))+V[0]+3614090360&4294967295,I=x+(U<<7&4294967295|U>>>25),U=O+(P^I&(x^P))+V[1]+3905402710&4294967295,O=I+(U<<12&4294967295|U>>>20),U=P+(x^O&(I^x))+V[2]+606105819&4294967295,P=O+(U<<17&4294967295|U>>>15),U=x+(I^P&(O^I))+V[3]+3250441966&4294967295,x=P+(U<<22&4294967295|U>>>10),U=I+(O^x&(P^O))+V[4]+4118548399&4294967295,I=x+(U<<7&4294967295|U>>>25),U=O+(P^I&(x^P))+V[5]+1200080426&4294967295,O=I+(U<<12&4294967295|U>>>20),U=P+(x^O&(I^x))+V[6]+2821735955&4294967295,P=O+(U<<17&4294967295|U>>>15),U=x+(I^P&(O^I))+V[7]+4249261313&4294967295,x=P+(U<<22&4294967295|U>>>10),U=I+(O^x&(P^O))+V[8]+1770035416&4294967295,I=x+(U<<7&4294967295|U>>>25),U=O+(P^I&(x^P))+V[9]+2336552879&4294967295,O=I+(U<<12&4294967295|U>>>20),U=P+(x^O&(I^x))+V[10]+4294925233&4294967295,P=O+(U<<17&4294967295|U>>>15),U=x+(I^P&(O^I))+V[11]+2304563134&4294967295,x=P+(U<<22&4294967295|U>>>10),U=I+(O^x&(P^O))+V[12]+1804603682&4294967295,I=x+(U<<7&4294967295|U>>>25),U=O+(P^I&(x^P))+V[13]+4254626195&4294967295,O=I+(U<<12&4294967295|U>>>20),U=P+(x^O&(I^x))+V[14]+2792965006&4294967295,P=O+(U<<17&4294967295|U>>>15),U=x+(I^P&(O^I))+V[15]+1236535329&4294967295,x=P+(U<<22&4294967295|U>>>10),U=I+(P^O&(x^P))+V[1]+4129170786&4294967295,I=x+(U<<5&4294967295|U>>>27),U=O+(x^P&(I^x))+V[6]+3225465664&4294967295,O=I+(U<<9&4294967295|U>>>23),U=P+(I^x&(O^I))+V[11]+643717713&4294967295,P=O+(U<<14&4294967295|U>>>18),U=x+(O^I&(P^O))+V[0]+3921069994&4294967295,x=P+(U<<20&4294967295|U>>>12),U=I+(P^O&(x^P))+V[5]+3593408605&4294967295,I=x+(U<<5&4294967295|U>>>27),U=O+(x^P&(I^x))+V[10]+38016083&4294967295,O=I+(U<<9&4294967295|U>>>23),U=P+(I^x&(O^I))+V[15]+3634488961&4294967295,P=O+(U<<14&4294967295|U>>>18),U=x+(O^I&(P^O))+V[4]+3889429448&4294967295,x=P+(U<<20&4294967295|U>>>12),U=I+(P^O&(x^P))+V[9]+568446438&4294967295,I=x+(U<<5&4294967295|U>>>27),U=O+(x^P&(I^x))+V[14]+3275163606&4294967295,O=I+(U<<9&4294967295|U>>>23),U=P+(I^x&(O^I))+V[3]+4107603335&4294967295,P=O+(U<<14&4294967295|U>>>18),U=x+(O^I&(P^O))+V[8]+1163531501&4294967295,x=P+(U<<20&4294967295|U>>>12),U=I+(P^O&(x^P))+V[13]+2850285829&4294967295,I=x+(U<<5&4294967295|U>>>27),U=O+(x^P&(I^x))+V[2]+4243563512&4294967295,O=I+(U<<9&4294967295|U>>>23),U=P+(I^x&(O^I))+V[7]+1735328473&4294967295,P=O+(U<<14&4294967295|U>>>18),U=x+(O^I&(P^O))+V[12]+2368359562&4294967295,x=P+(U<<20&4294967295|U>>>12),U=I+(x^P^O)+V[5]+4294588738&4294967295,I=x+(U<<4&4294967295|U>>>28),U=O+(I^x^P)+V[8]+2272392833&4294967295,O=I+(U<<11&4294967295|U>>>21),U=P+(O^I^x)+V[11]+1839030562&4294967295,P=O+(U<<16&4294967295|U>>>16),U=x+(P^O^I)+V[14]+4259657740&4294967295,x=P+(U<<23&4294967295|U>>>9),U=I+(x^P^O)+V[1]+2763975236&4294967295,I=x+(U<<4&4294967295|U>>>28),U=O+(I^x^P)+V[4]+1272893353&4294967295,O=I+(U<<11&4294967295|U>>>21),U=P+(O^I^x)+V[7]+4139469664&4294967295,P=O+(U<<16&4294967295|U>>>16),U=x+(P^O^I)+V[10]+3200236656&4294967295,x=P+(U<<23&4294967295|U>>>9),U=I+(x^P^O)+V[13]+681279174&4294967295,I=x+(U<<4&4294967295|U>>>28),U=O+(I^x^P)+V[0]+3936430074&4294967295,O=I+(U<<11&4294967295|U>>>21),U=P+(O^I^x)+V[3]+3572445317&4294967295,P=O+(U<<16&4294967295|U>>>16),U=x+(P^O^I)+V[6]+76029189&4294967295,x=P+(U<<23&4294967295|U>>>9),U=I+(x^P^O)+V[9]+3654602809&4294967295,I=x+(U<<4&4294967295|U>>>28),U=O+(I^x^P)+V[12]+3873151461&4294967295,O=I+(U<<11&4294967295|U>>>21),U=P+(O^I^x)+V[15]+530742520&4294967295,P=O+(U<<16&4294967295|U>>>16),U=x+(P^O^I)+V[2]+3299628645&4294967295,x=P+(U<<23&4294967295|U>>>9),U=I+(P^(x|~O))+V[0]+4096336452&4294967295,I=x+(U<<6&4294967295|U>>>26),U=O+(x^(I|~P))+V[7]+1126891415&4294967295,O=I+(U<<10&4294967295|U>>>22),U=P+(I^(O|~x))+V[14]+2878612391&4294967295,P=O+(U<<15&4294967295|U>>>17),U=x+(O^(P|~I))+V[5]+4237533241&4294967295,x=P+(U<<21&4294967295|U>>>11),U=I+(P^(x|~O))+V[12]+1700485571&4294967295,I=x+(U<<6&4294967295|U>>>26),U=O+(x^(I|~P))+V[3]+2399980690&4294967295,O=I+(U<<10&4294967295|U>>>22),U=P+(I^(O|~x))+V[10]+4293915773&4294967295,P=O+(U<<15&4294967295|U>>>17),U=x+(O^(P|~I))+V[1]+2240044497&4294967295,x=P+(U<<21&4294967295|U>>>11),U=I+(P^(x|~O))+V[8]+1873313359&4294967295,I=x+(U<<6&4294967295|U>>>26),U=O+(x^(I|~P))+V[15]+4264355552&4294967295,O=I+(U<<10&4294967295|U>>>22),U=P+(I^(O|~x))+V[6]+2734768916&4294967295,P=O+(U<<15&4294967295|U>>>17),U=x+(O^(P|~I))+V[13]+1309151649&4294967295,x=P+(U<<21&4294967295|U>>>11),U=I+(P^(x|~O))+V[4]+4149444226&4294967295,I=x+(U<<6&4294967295|U>>>26),U=O+(x^(I|~P))+V[11]+3174756917&4294967295,O=I+(U<<10&4294967295|U>>>22),U=P+(I^(O|~x))+V[2]+718787259&4294967295,P=O+(U<<15&4294967295|U>>>17),U=x+(O^(P|~I))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+O&4294967295}i.prototype.v=function(M,I){I===void 0&&(I=M.length);const x=I-this.blockSize,V=this.C;let P=this.h,O=0;for(;O<I;){if(P==0)for(;O<=x;)r(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<I;)if(V[P++]=M.charCodeAt(O++),P==this.blockSize){r(this,V),P=0;break}}else for(;O<I;)if(V[P++]=M[O++],P==this.blockSize){r(this,V),P=0;break}}this.h=P,this.o+=I},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;I=this.o*8;for(var x=M.length-8;x<M.length;++x)M[x]=I&255,I/=256;for(this.v(M),M=Array(16),I=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)M[I++]=this.g[x]>>>V&255;return M};function a(M,I){var x=d;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=I(M)}function u(M,I){this.h=I;const x=[];let V=!0;for(let P=M.length-1;P>=0;P--){const O=M[P]|0;V&&O==I||(x[P]=O,V=!1)}this.g=x}var d={};function f(M){return-128<=M&&M<128?a(M,function(I){return new u([I|0],I<0?-1:0)}):new u([M|0],M<0?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return T;if(M<0)return k(h(-M));const I=[];let x=1;for(let V=0;M>=x;V++)I[V]=M/x|0,x*=4294967296;return new u(I,0)}function y(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return k(y(M.substring(1),I));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=h(Math.pow(I,8));let V=T;for(let O=0;O<M.length;O+=8){var P=Math.min(8,M.length-O);const U=parseInt(M.substring(O,O+P),I);P<8?(P=h(Math.pow(I,P)),V=V.j(P).add(h(U))):(V=V.j(x),V=V.add(h(U)))}return V}var T=f(0),E=f(1),w=f(16777216);t=u.prototype,t.m=function(){if(L(this))return-k(this).m();let M=0,I=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);M+=(V>=0?V:4294967296+V)*I,I*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(L(this))return"-"+k(this).toString(M);const I=h(Math.pow(M,6));var x=this;let V="";for(;;){const P=X(x,I).g;x=G(x,P.j(I));let O=((x.g.length>0?x.g[0]:x.h)>>>0).toString(M);if(x=P,D(x))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(let I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function L(M){return M.h==-1}t.l=function(M){return M=G(this,M),L(M)?-1:D(M)?0:1};function k(M){const I=M.g.length,x=[];for(let V=0;V<I;V++)x[V]=~M.g[V];return new u(x,~M.h).add(E)}t.abs=function(){return L(this)?k(this):this},t.add=function(M){const I=Math.max(this.g.length,M.g.length),x=[];let V=0;for(let P=0;P<=I;P++){let O=V+(this.i(P)&65535)+(M.i(P)&65535),U=(O>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=U>>>16,O&=65535,U&=65535,x[P]=U<<16|O}return new u(x,x[x.length-1]&-2147483648?-1:0)};function G(M,I){return M.add(k(I))}t.j=function(M){if(D(this)||D(M))return T;if(L(this))return L(M)?k(this).j(k(M)):k(k(this).j(M));if(L(M))return k(this.j(k(M)));if(this.l(w)<0&&M.l(w)<0)return h(this.m()*M.m());const I=this.g.length+M.g.length,x=[];for(var V=0;V<2*I;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let P=0;P<M.g.length;P++){const O=this.i(V)>>>16,U=this.i(V)&65535,Re=M.i(P)>>>16,Ue=M.i(P)&65535;x[2*V+2*P]+=U*Ue,q(x,2*V+2*P),x[2*V+2*P+1]+=O*Ue,q(x,2*V+2*P+1),x[2*V+2*P+1]+=U*Re,q(x,2*V+2*P+1),x[2*V+2*P+2]+=O*Re,q(x,2*V+2*P+2)}for(M=0;M<I;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=I;M<2*I;M++)x[M]=0;return new u(x,0)};function q(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function z(M,I){this.g=M,this.h=I}function X(M,I){if(D(I))throw Error("division by zero");if(D(M))return new z(T,T);if(L(M))return I=X(k(M),I),new z(k(I.g),k(I.h));if(L(I))return I=X(M,k(I)),new z(k(I.g),I.h);if(M.g.length>30){if(L(M)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var x=E,V=I;V.l(M)<=0;)x=j(x),V=j(V);var P=ie(x,1),O=ie(V,1);for(V=ie(V,2),x=ie(x,2);!D(V);){var U=O.add(V);U.l(M)<=0&&(P=P.add(x),O=U),V=ie(V,1),x=ie(x,1)}return I=G(M,P.j(I)),new z(P,I)}for(P=T;M.l(I)>=0;){for(x=Math.max(1,Math.floor(M.m()/I.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=h(x),U=O.j(I);L(U)||U.l(M)>0;)x-=V,O=h(x),U=O.j(I);D(O)&&(O=E),P=P.add(O),M=G(M,U)}return new z(P,M)}t.B=function(M){return X(this,M).h},t.and=function(M){const I=Math.max(this.g.length,M.g.length),x=[];for(let V=0;V<I;V++)x[V]=this.i(V)&M.i(V);return new u(x,this.h&M.h)},t.or=function(M){const I=Math.max(this.g.length,M.g.length),x=[];for(let V=0;V<I;V++)x[V]=this.i(V)|M.i(V);return new u(x,this.h|M.h)},t.xor=function(M){const I=Math.max(this.g.length,M.g.length),x=[];for(let V=0;V<I;V++)x[V]=this.i(V)^M.i(V);return new u(x,this.h^M.h)};function j(M){const I=M.g.length+1,x=[];for(let V=0;V<I;V++)x[V]=M.i(V)<<1|M.i(V-1)>>>31;return new u(x,M.h)}function ie(M,I){const x=I>>5;I%=32;const V=M.g.length-x,P=[];for(let O=0;O<V;O++)P[O]=I>0?M.i(O+x)>>>I|M.i(O+x+1)<<32-I:M.i(O+x);return new u(P,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,SC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=y,Ar=u}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AC,vu,CC,Zf,$m,wC,IC,RC;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var S=0;S<m.length;++S){var C=m[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function r(m,S){if(S)e:{var C=i;m=m.split(".");for(var b=0;b<m.length-1;b++){var J=m[b];if(!(J in C))break e;C=C[J]}m=m[m.length-1],b=C[m],S=S(b),S!=b&&S!=null&&e(C,m,{configurable:!0,writable:!0,value:S})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(S){var C=[],b;for(b in S)Object.prototype.hasOwnProperty.call(S,b)&&C.push([b,S[b]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function f(m,S,C){return m.call.apply(m.bind,arguments)}function h(m,S,C){return h=f,h.apply(null,arguments)}function y(m,S){var C=Array.prototype.slice.call(arguments,1);return function(){var b=C.slice();return b.push.apply(b,arguments),m.apply(this,b)}}function T(m,S){function C(){}C.prototype=S.prototype,m.Z=S.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(b,J,Z){for(var fe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)fe[Ne-2]=arguments[Ne];return S.prototype[J].apply(b,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const S=m.length;if(S>0){const C=Array(S);for(let b=0;b<S;b++)C[b]=m[b];return C}return[]}function D(m,S){for(let b=1;b<arguments.length;b++){const J=arguments[b];var C=typeof J;if(C=C!="object"?C:J?Array.isArray(J)?"array":C:"null",C=="array"||C=="object"&&typeof J.length=="number"){C=m.length||0;const Z=J.length||0;m.length=C+Z;for(let fe=0;fe<Z;fe++)m[C+fe]=J[fe]}else m.push(J)}}class L{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(m){u.setTimeout(()=>{throw m},0)}function G(){var m=M;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class q{constructor(){this.h=this.g=null}add(S,C){const b=z.get();b.set(S,C),this.h?this.h.next=b:this.g=b,this.h=b}}var z=new L(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let j,ie=!1,M=new q,I=()=>{const m=Promise.resolve(void 0);j=()=>{m.then(x)}};function x(){for(var m;m=G();){try{m.h.call(m.g)}catch(C){k(C)}var S=z;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}ie=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,S),u.removeEventListener("test",C,S)}catch{}return m})();function U(m){return/^[\s\xa0]*$/.test(m)}function Re(m,S){P.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}T(Re,P),Re.prototype.init=function(m,S){const C=this.type=m.type,b=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(C=="mouseover"?S=m.fromElement:C=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),te=0;function ce(m,S,C,b,J){this.listener=m,this.proxy=null,this.src=S,this.type=C,this.capture=!!b,this.ha=J,this.key=++te,this.da=this.fa=!1}function le(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ve(m,S,C){for(const b in m)S.call(C,m[b],b,m)}function be(m,S){for(const C in m)S.call(void 0,m[C],C,m)}function H(m){const S={};for(const C in m)S[C]=m[C];return S}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(m,S){let C,b;for(let J=1;J<arguments.length;J++){b=arguments[J];for(C in b)m[C]=b[C];for(let Z=0;Z<re.length;Z++)C=re[Z],Object.prototype.hasOwnProperty.call(b,C)&&(m[C]=b[C])}}function pe(m){this.src=m,this.g={},this.h=0}pe.prototype.add=function(m,S,C,b,J){const Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);const fe=Pe(m,S,b,J);return fe>-1?(S=m[fe],C||(S.fa=!1)):(S=new ce(S,this.src,Z,!!b,J),S.fa=C,m.push(S)),S};function we(m,S){const C=S.type;if(C in m.g){var b=m.g[C],J=Array.prototype.indexOf.call(b,S,void 0),Z;(Z=J>=0)&&Array.prototype.splice.call(b,J,1),Z&&(le(S),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Pe(m,S,C,b){for(let J=0;J<m.length;++J){const Z=m[J];if(!Z.da&&Z.listener==S&&Z.capture==!!C&&Z.ha==b)return J}return-1}var He="closure_lm_"+(Math.random()*1e6|0),kt={};function ct(m,S,C,b,J){if(Array.isArray(S)){for(let Z=0;Z<S.length;Z++)ct(m,S[Z],C,b,J);return null}return C=ul(C),m&&m[Ue]?m.J(S,C,d(b)?!!b.capture:!1,J):qr(m,S,C,!1,b,J)}function qr(m,S,C,b,J,Z){if(!S)throw Error("Invalid event type");const fe=d(J)?!!J.capture:!!J;let Ne=zr(m);if(Ne||(m[He]=Ne=new pe(m)),C=Ne.add(S,C,b,fe,Z),C.proxy)return C;if(b=Vo(),C.proxy=b,b.src=m,b.listener=C,m.addEventListener)O||(J=fe),J===void 0&&(J=!1),m.addEventListener(S.toString(),b,J);else if(m.attachEvent)m.attachEvent(_i(S.toString()),b);else if(m.addListener&&m.removeListener)m.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Vo(){function m(C){return S.call(m.src,m.listener,C)}const S=al;return m}function Lo(m,S,C,b,J){if(Array.isArray(S))for(var Z=0;Z<S.length;Z++)Lo(m,S[Z],C,b,J);else b=d(b)?!!b.capture:!!b,C=ul(C),m&&m[Ue]?(m=m.i,Z=String(S).toString(),Z in m.g&&(S=m.g[Z],C=Pe(S,C,b,J),C>-1&&(le(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete m.g[Z],m.h--)))):m&&(m=zr(m))&&(S=m.g[S.toString()],m=-1,S&&(m=Pe(S,C,b,J)),(C=m>-1?S[m]:null)&&ko(C))}function ko(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Ue])we(S.i,m);else{var C=m.type,b=m.proxy;S.removeEventListener?S.removeEventListener(C,b,m.capture):S.detachEvent?S.detachEvent(_i(C),b):S.addListener&&S.removeListener&&S.removeListener(b),(C=zr(S))?(we(C,m),C.h==0&&(C.src=null,S[He]=null)):le(m)}}}function _i(m){return m in kt?kt[m]:kt[m]="on"+m}function al(m,S){if(m.da)m=!0;else{S=new Re(S,this);const C=m.listener,b=m.ha||m.src;m.fa&&ko(m),m=C.call(b,S)}return m}function zr(m){return m=m[He],m instanceof pe?m:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(m){return typeof m=="function"?m:(m[ll]||(m[ll]=function(S){return m.handleEvent(S)}),m[ll])}function At(){V.call(this),this.i=new pe(this),this.M=this,this.G=null}T(At,V),At.prototype[Ue]=!0,At.prototype.removeEventListener=function(m,S,C,b){Lo(this,m,S,C,b)};function Ut(m,S){var C,b=m.G;if(b)for(C=[];b;b=b.G)C.push(b);if(m=m.M,b=S.type||S,typeof S=="string")S=new P(S,m);else if(S instanceof P)S.target=S.target||m;else{var J=S;S=new P(b,m),de(S,J)}J=!0;let Z,fe;if(C)for(fe=C.length-1;fe>=0;fe--)Z=S.g=C[fe],J=Ps(Z,b,!0,S)&&J;if(Z=S.g=m,J=Ps(Z,b,!0,S)&&J,J=Ps(Z,b,!1,S)&&J,C)for(fe=0;fe<C.length;fe++)Z=S.g=C[fe],J=Ps(Z,b,!1,S)&&J}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const C=m.g[S];for(let b=0;b<C.length;b++)le(C[b]);delete m.g[S],m.h--}}this.G=null},At.prototype.J=function(m,S,C,b){return this.i.add(String(m),S,!1,C,b)},At.prototype.K=function(m,S,C,b){return this.i.add(String(m),S,!0,C,b)};function Ps(m,S,C,b){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let J=!0;for(let Z=0;Z<S.length;++Z){const fe=S[Z];if(fe&&!fe.da&&fe.capture==C){const Ne=fe.listener,_t=fe.ha||fe.src;fe.fa&&we(m.i,fe),J=Ne.call(_t,b)!==!1&&J}}return J&&!b.defaultPrevented}function lh(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(m,S||0)}function rc(m){m.g=lh(()=>{m.g=null,m.i&&(m.i=!1,rc(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class fn extends V{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(m){V.call(this),this.h=m,this.g={}}T(Fr,V);var cl=[];function fl(m){ve(m.g,function(S,C){this.g.hasOwnProperty(C)&&ko(S)},m),m.g={}}Fr.prototype.N=function(){Fr.Z.N.call(this),fl(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=u.JSON.stringify,uh=u.JSON.parse,oc=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ac(){}function lc(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){P.call(this,"d")}T(Jt,P);function kn(){P.call(this,"c")}T(kn,P);var vt={},uc=null;function Uo(){return uc=uc||new At}vt.Ia="serverreachability";function cc(m){P.call(this,vt.Ia,m)}T(cc,P);function Ti(m){const S=Uo();Ut(S,new cc(S))}vt.STAT_EVENT="statevent";function Gr(m,S){P.call(this,vt.STAT_EVENT,m),this.stat=S}T(Gr,P);function Ct(m){const S=Uo();Ut(S,new Gr(S,m))}vt.Ja="timingevent";function Ei(m,S){P.call(this,vt.Ja,m),this.size=S}T(Ei,P);function Si(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function ch(m,S,C,b,J,Z){m.info(function(){if(m.g)if(Z){var fe="",Ne=Z.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var _t=Ne[Qe].split("=");if(_t.length>1){const ft=_t[0];_t=_t[1];const qn=ft.split("_");fe=qn.length>=2&&qn[1]=="type"?fe+(ft+"="+_t+"&"):fe+(ft+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+b+") [attempt "+J+"]: "+S+`
`+C+`
`+fe})}function fc(m,S,C,b,J,Z,fe){m.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+J+"]: "+S+`
`+C+`
`+Z+" "+fe})}function Ai(m,S,C,b){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+fh(m,C)+(b?" "+b:"")})}function Hr(m,S){m.info(function(){return"TIMEOUT: "+S})}ei.prototype.info=function(){};function fh(m,S){if(!m.g)return S;if(!S)return null;try{const Z=JSON.parse(S);if(Z){for(m=0;m<Z.length;m++)if(Array.isArray(Z[m])){var C=Z[m];if(!(C.length<2)){var b=C[1];if(Array.isArray(b)&&!(b.length<1)){var J=b[0];if(J!="noop"&&J!="stop"&&J!="close")for(let fe=1;fe<b.length;fe++)b[fe]=""}}}}return Vs(Z)}catch{return S}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function Yr(){}T(Yr,ac),Yr.prototype.g=function(){return new XMLHttpRequest},hl=new Yr;function Wi(m){return encodeURIComponent(String(m))}function dc(m){var S=1;m=m.split(":");const C=[];for(;S>0&&m.length;)C.push(m.shift()),S--;return m.length&&C.push(m.join(":")),C}function ti(m,S,C,b){this.j=m,this.i=S,this.l=C,this.S=b||1,this.V=new Fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var wt={},Gt={};function Ci(m,S,C){m.M=1,m.A=Jr(Rt(S)),m.u=C,m.R=!0,Oo(m,null)}function Oo(m,S){m.F=Date.now(),wi(m),m.B=Rt(m.A);var C=m.B,b=m.S;Array.isArray(b)||(b=[String(b)]),Fo(C.i,"t",b),m.C=0,C=m.j.L,m.h=new ni,m.g=Rc(m.j,C?S:null,!m.u),m.P>0&&(m.O=new fn(h(m.Y,m,m.g),m.P)),S=m.V,C=m.g,b=m.ba;var J="readystatechange";Array.isArray(J)||(J&&(cl[0]=J.toString()),J=cl);for(let Z=0;Z<J.length;Z++){const fe=ct(C,J[Z],b||S.handleEvent,!1,S.h||S);if(!fe)break;S.g[fe.key]=fe}S=m.J?H(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),Ti(),ch(m.i,m.v,m.B,m.l,m.S,m.u)}ti.prototype.ba=function(m){m=m.target;const S=this.O;S&&ri(m)==3?S.j():this.Y(m)},ti.prototype.Y=function(m){try{if(m==this.g)e:{const Ne=ri(this.g),_t=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ne!=4||_t==7||(_t==8||Qe<=0?Ti(3):Ti(2)),Ii(this);var S=this.g.ca();this.X=S;var C=dh(this);if(this.o=S==200,fc(this.i,this.v,this.B,this.l,this.S,Ne,S),this.o){if(this.U&&!this.L){t:{if(this.g){var b,J=this.g;if((b=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(b)){var Z=b;break t}}Z=null}if(m=Z)Ai(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,m);else{this.o=!1,this.m=3,Ct(12),Cn(this),Un(this);break e}}if(this.R){m=!0;let ft;for(;!this.K&&this.C<C.length;)if(ft=pc(this,C),ft==Gt){Ne==4&&(this.m=4,Ct(14),m=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==wt){this.m=4,Ct(15),Ai(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else Ai(this.i,this.l,ft,null),Ri(this,ft);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||C.length!=0||this.h.h||(this.m=1,Ct(16),m=!1),this.o=this.o&&m,!m)Ai(this.i,this.l,C,"[Invalid Chunked Response]"),Cn(this),Un(this);else if(C.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),bl(fe),fe.P=!0,Ct(11))}}else Ai(this.i,this.l,C,null),Ri(this,C);Ne==4&&Cn(this),this.o&&!this.K&&(Ne==4?Ac(this.j,this):(this.o=!1,wi(this)))}else Zi(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Cn(this),Un(this)}}}catch{}finally{}};function dh(m){if(!hc(m))return m.g.la();const S=Kt(m.g);if(S==="")return"";let C="";const b=S.length,J=ri(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Cn(m),Un(m),"";m.h.i=new u.TextDecoder}for(let Z=0;Z<b;Z++)m.h.h=!0,C+=m.h.i.decode(S[Z],{stream:!(J&&Z==b-1)});return S.length=0,m.h.g+=C,m.C=0,m.h.g}function hc(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function pc(m,S){var C=m.C,b=S.indexOf(`
`,C);return b==-1?Gt:(C=Number(S.substring(C,b)),isNaN(C)?wt:(b+=1,b+C>S.length?Gt:(S=S.slice(b,b+C),m.C=b+C,S)))}ti.prototype.cancel=function(){this.K=!0,Cn(this)};function wi(m){m.T=Date.now()+m.H,Bo(m,m.H)}function Bo(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Si(h(m.aa,m),S)}function Ii(m){m.D&&(u.clearTimeout(m.D),m.D=null)}ti.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(Ti(),Ct(17)),Cn(this),this.m=2,Un(this)):Bo(this,this.T-m)};function Un(m){m.j.I==0||m.K||Ac(m.j,m)}function Cn(m){Ii(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,fl(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function Ri(m,S){try{var C=m.j;if(C.I!=0&&(C.g==m||xi(C.h,m))){if(!m.L&&xi(C.h,m)&&C.I==3){try{var b=C.Ba.g.parse(S)}catch{b=null}if(Array.isArray(b)&&b.length==3){var J=b;if(J[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)Jo(C),Fs(C);else break e;eo(C),Ct(18)}}else C.xa=J[1],0<C.xa-C.K&&J[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Si(h(C.Va,C),6e3));bi(C.h)<=1&&C.ta&&(C.ta=void 0)}else Li(C,11)}else if((m.L||C.g==m)&&Jo(C),!U(S))for(J=C.Ba.g.parse(S),S=0;S<J.length;S++){let Qe=J[S];const ft=Qe[0];if(!(ft<=C.K))if(C.K=ft,Qe=Qe[1],C.I==2)if(Qe[0]=="c"){C.M=Qe[1],C.ba=Qe[2];const qn=Qe[3];qn!=null&&(C.ka=qn,C.j.info("VER="+C.ka));const ki=Qe[4];ki!=null&&(C.za=ki,C.j.info("SVER="+C.za));const oi=Qe[5];oi!=null&&typeof oi=="number"&&oi>0&&(b=1.5*oi,C.O=b,C.j.info("backChannelRequestTimeoutMs_="+b)),b=C;const ai=m.g;if(ai){const to=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var Z=b.h;Z.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(gl(Z,Z.h),Z.h=null))}if(b.G){const Ko=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(b.wa=Ko,Ze(b.J,b.G,Ko))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),b=C;var fe=m;if(b.na=Ic(b,b.L?b.ba:null,b.W),fe.L){yl(b.h,fe);var Ne=fe,_t=b.O;_t&&(Ne.H=_t),Ne.D&&(Ii(Ne),wi(Ne)),b.g=fe}else Ec(b);C.i.length>0&&Vi(C)}else Qe[0]!="stop"&&Qe[0]!="close"||Li(C,7);else C.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Li(C,7):Il(C):Qe[0]!="noop"&&C.l&&C.l.qa(Qe),C.A=0)}}Ti(4)}catch{}}var It=class{constructor(m,S){this.g=m,this.map=S}};function pl(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function bi(m){return m.h?1:m.g?m.g.size:0}function xi(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function gl(m,S){m.g?m.g.add(S):m.h=S}function yl(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}pl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function vl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const C of m.g.values())S=S.concat(C.G);return S}return w(m.i)}var mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(m,S){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const b=m[C].indexOf("=");let J,Z=null;b>=0?(J=m[C].substring(0,b),Z=m[C].substring(b+1)):J=m[C],S(J,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function wn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof wn?(this.l=m.l,Ht(this,m.j),this.o=m.o,this.g=m.g,Ls(this,m.u),this.h=m.h,_l(this,_c(m.i)),this.m=m.m):m&&(S=String(m).match(mc))?(this.l=!1,Ht(this,S[1]||"",!0),this.o=Mi(S[2]||""),this.g=Mi(S[3]||"",!0),Ls(this,S[4]),this.h=Mi(S[5]||"",!0),_l(this,S[6]||"",!0),this.m=Mi(S[7]||"")):(this.l=!1,this.i=new Us(null,this.l))}wn.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(Kr(S,zo,!0),":");var C=this.g;return(C||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Kr(S,zo,!0),"@"),m.push(Wi(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Kr(C,C.charAt(0)=="/"?Tl:gc,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Kr(C,yc)),m.join("")},wn.prototype.resolve=function(m){const S=Rt(this);let C=!!m.j;C?Ht(S,m.j):C=!!m.o,C?S.o=m.o:C=!!m.g,C?S.g=m.g:C=m.u!=null;var b=m.h;if(C)Ls(S,m.u);else if(C=!!m.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var J=S.h.lastIndexOf("/");J!=-1&&(b=S.h.slice(0,J+1)+b)}if(J=b,J==".."||J==".")b="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){b=J.lastIndexOf("/",0)==0,J=J.split("/");const Z=[];for(let fe=0;fe<J.length;){const Ne=J[fe++];Ne=="."?b&&fe==J.length&&Z.push(""):Ne==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),b&&fe==J.length&&Z.push("")):(Z.push(Ne),b=!0)}b=Z.join("/")}else b=J}return C?S.h=b:C=m.i.toString()!=="",C?_l(S,_c(m.i)):C=!!m.m,C&&(S.m=m.m),S};function Rt(m){return new wn(m)}function Ht(m,S,C){m.j=C?Mi(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Ls(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function _l(m,S,C){S instanceof Us?(m.i=S,Go(m.i,m.l)):(C||(S=Kr(S,ks)),m.i=new Us(S,m.l))}function Ze(m,S,C){m.i.set(S,C)}function Jr(m){return Ze(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Mi(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Kr(m,S,C){return typeof m=="string"?(m=encodeURI(m).replace(S,mn),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function mn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var zo=/[#\/\?@]/g,gc=/[#\?:]/g,Tl=/[#\?]/g,ks=/[#\?@]/g,yc=/#/g;function Us(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function gn(m){m.g||(m.g=new Map,m.h=0,m.i&&qo(m.i,function(S,C){m.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=Us.prototype,t.add=function(m,S){gn(this),this.i=null,m=Os(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(S),this.h+=1,this};function vc(m,S){gn(m),S=Os(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function El(m,S){return gn(m),S=Os(m,S),m.g.has(S)}t.forEach=function(m,S){gn(this),this.g.forEach(function(C,b){C.forEach(function(J){m.call(S,J,b,this)},this)},this)};function Sl(m,S){gn(m);let C=[];if(typeof S=="string")El(m,S)&&(C=C.concat(m.g.get(Os(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)C=C.concat(m[S]);return C}t.set=function(m,S){return gn(this),this.i=null,m=Os(this,m),El(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=Sl(this,m),m.length>0?String(m[0]):S):S};function Fo(m,S,C){vc(m,S),C.length>0&&(m.i=null,m.g.set(Os(m,S),w(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let b=0;b<S.length;b++){var C=S[b];const J=Wi(C);C=Sl(this,C);for(let Z=0;Z<C.length;Z++){let fe=J;C[Z]!==""&&(fe+="="+Wi(C[Z])),m.push(fe)}}return this.i=m.join("&")};function _c(m){const S=new Us;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function Os(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Go(m,S){S&&!m.j&&(gn(m),m.i=null,m.g.forEach(function(C,b){const J=b.toLowerCase();b!=J&&(vc(this,b),Fo(this,J,C))},m)),m.j=S}function ii(m,S){const C=new ei;if(u.Image){const b=new Image;b.onload=y(On,C,"TestLoadImage: loaded",!0,S,b),b.onerror=y(On,C,"TestLoadImage: error",!1,S,b),b.onabort=y(On,C,"TestLoadImage: abort",!1,S,b),b.ontimeout=y(On,C,"TestLoadImage: timeout",!1,S,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=m}else S(!1)}function Al(m,S){const C=new ei,b=new AbortController,J=setTimeout(()=>{b.abort(),On(C,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:b.signal}).then(Z=>{clearTimeout(J),Z.ok?On(C,"TestPingServer: ok",!0,S):On(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(J),On(C,"TestPingServer: error",!1,S)})}function On(m,S,C,b,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),b(C)}catch{}}function Bs(){this.g=new oc}function Ni(m){this.i=m.Sb||null,this.h=m.ab||!1}T(Ni,ac),Ni.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(m,S){At.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Qr,At),t=Qr.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,si(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ho(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ho(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?qs(this):si(this),this.readyState==3&&Ho(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,qs(this))},t.Na=function(m){this.g&&(this.response=m,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,si(m)}t.setRequestHeader=function(m,S){this.A.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=S.next();return m.join(`\r
`)};function si(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Bn(m){let S="";return ve(m,function(C,b){S+=b,S+=":",S+=C,S+=`\r
`}),S}function Wr(m,S,C){e:{for(b in C){var b=!1;break e}b=!0}b||(C=Bn(C),typeof m=="string"?C!=null&&Wi(C):Ze(m,S,C))}function tt(m){At.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,At);var Di=/^https?$/i,Cl=["POST","PUT"];t=tt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,S,C,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=E(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(Z){Xr(this,Z);return}if(m=C||"",C=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var J in b)C.set(J,b[J]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Z of b.keys())C.set(Z,b.get(Z));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(C.keys()).find(Z=>Z.toLowerCase()=="content-type"),J=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Cl,S,void 0)>=0)||b||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of C)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Z){Xr(this,Z)}};function Xr(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,wl(m),Xi(m)}function wl(m){m.A||(m.A=!0,Ut(m,"complete"),Ut(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Ut(this,"complete"),Ut(this,"abort"),Xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},t.Xa=function(){Zr(this)};function Zr(m){if(m.h&&typeof a<"u"){if(m.v&&ri(m)==4)setTimeout(m.Ca.bind(m),0);else if(Ut(m,"readystatechange"),ri(m)==4){m.h=!1;try{const Z=m.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var b;if(b=Z===0){let fe=String(m.D).match(mc)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),b=!Di.test(fe?fe.toLowerCase():"")}C=b}if(C)Ut(m,"complete"),Ut(m,"success");else{m.o=6;try{var J=ri(m)>2?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.ca()+"]",wl(m)}}finally{Xi(m)}}}}function Xi(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,S||Ut(m,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ri(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),uh(S)}};function Kt(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(m){const S={};m=(m.g&&ri(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<m.length;b++){if(U(m[b]))continue;var C=dc(m[b]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Z=S[J]||[];S[J]=Z,Z.push(C)}be(S,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(m,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||S}function zs(m){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,m),this.Za=Pi("retryDelaySeedMs",1e4,m),this.Ta=Pi("forwardChannelMaxRetries",2,m),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(m&&m.concurrentRequestLimit),this.Ba=new Bs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=zs.prototype,t.ka=8,t.I=1,t.connect=function(m,S,C,b){Ct(0),this.W=m,this.H=S||{},C&&b!==void 0&&(this.H.OSID=C,this.H.OAID=b),this.F=this.X,this.J=Ic(this,null,this.W),Vi(this)};function Il(m){if($o(m),m.I==3){var S=m.V++,C=Rt(m.J);if(Ze(C,"SID",m.M),Ze(C,"RID",S),Ze(C,"TYPE","terminate"),jr(m,C),S=new ti(m,m.j,S),S.M=2,S.A=Jr(Rt(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&u.Image&&(new Image().src=S.A,C=!0),C||(S.g=Rc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),wi(S)}wc(m)}function Fs(m){m.g&&(bl(m),m.g.cancel(),m.g=null)}function $o(m){Fs(m),m.v&&(u.clearTimeout(m.v),m.v=null),Jo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Vi(m){if(!ml(m.h)&&!m.m){m.m=!0;var S=m.Ea;j||I(),ie||(j(),ie=!0),M.add(S,m),m.D=0}}function Yo(m,S){return bi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Si(h(m.Ea,m,S),Cc(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const J=new ti(this,this.j,m);let Z=this.o;if(this.U&&(Z?(Z=H(Z),de(Z,this.U)):Z=this.U),this.u!==null||this.R||(J.J=Z,Z=null),this.S)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var b=this.i[C];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(S+=b,S>4096){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=Tc(this,J,S),C=Rt(this.J),Ze(C,"RID",m),Ze(C,"CVER",22),this.G&&Ze(C,"X-HTTP-Session-Id",this.G),jr(this,C),Z&&(this.R?S="headers="+Wi(Bn(Z))+"&"+S:this.u&&Wr(C,this.u,Z)),gl(this.h,J),this.Ra&&Ze(C,"TYPE","init"),this.S?(Ze(C,"$req",S),Ze(C,"SID","null"),J.U=!0,Ci(J,C,null)):Ci(J,C,S),this.I=2}}else this.I==3&&(m?Rl(this,m):this.i.length==0||ml(this.h)||Rl(this))};function Rl(m,S){var C;S?C=S.l:C=m.V++;const b=Rt(m.J);Ze(b,"SID",m.M),Ze(b,"RID",C),Ze(b,"AID",m.K),jr(m,b),m.u&&m.o&&Wr(b,m.u,m.o),C=new ti(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),S&&(m.i=S.G.concat(m.i)),S=Tc(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),gl(m.h,C),Ci(C,b,S)}function jr(m,S){m.H&&ve(m.H,function(C,b){Ze(S,b,C)}),m.l&&ve({},function(C,b){Ze(S,b,C)})}function Tc(m,S,C){C=Math.min(m.i.length,C);const b=m.l?h(m.l.Ka,m.l,m):null;e:{var J=m.i;let Ne=-1;for(;;){const _t=["count="+C];Ne==-1?C>0?(Ne=J[0].g,_t.push("ofs="+Ne)):Ne=0:_t.push("ofs="+Ne);let Qe=!0;for(let ft=0;ft<C;ft++){var Z=J[ft].g;const qn=J[ft].map;if(Z-=Ne,Z<0)Ne=Math.max(0,J[ft].g-100),Qe=!1;else try{Z="req"+Z+"_"||"";try{var fe=qn instanceof Map?qn:Object.entries(qn);for(const[ki,oi]of fe){let ai=oi;d(oi)&&(ai=Vs(oi)),_t.push(Z+ki+"="+encodeURIComponent(ai))}}catch(ki){throw _t.push(Z+"type="+encodeURIComponent("_badmap")),ki}}catch{b&&b(qn)}}if(Qe){fe=_t.join("&");break e}}fe=void 0}return m=m.i.splice(0,C),S.G=m,fe}function Ec(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;j||I(),ie||(j(),ie=!0),M.add(S,m),m.A=0}}function eo(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Si(h(m.Da,m),Cc(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Si(h(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Fs(this),Sc(this))};function bl(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Sc(m){m.g=new ti(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=Rt(m.na);Ze(S,"RID","rpc"),Ze(S,"SID",m.M),Ze(S,"AID",m.K),Ze(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ze(S,"TO",m.ia),Ze(S,"TYPE","xmlhttp"),jr(m,S),m.u&&m.o&&Wr(S,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=Jr(Rt(S)),C.u=null,C.R=!0,Oo(C,m)}t.Va=function(){this.C!=null&&(this.C=null,Fs(this),eo(this),Ct(19))};function Jo(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Ac(m,S){var C=null;if(m.g==S){Jo(m),bl(m),m.g=null;var b=2}else if(xi(m.h,S))C=S.G,yl(m.h,S),b=1;else return;if(m.I!=0){if(S.o)if(b==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var J=m.D;b=Uo(),Ut(b,new Ei(b,C)),Vi(m)}else Ec(m);else if(J=S.m,J==3||J==0&&S.X>0||!(b==1&&Yo(m,S)||b==2&&eo(m)))switch(C&&C.length>0&&(S=m.h,S.i=S.i.concat(C)),J){case 1:Li(m,5);break;case 4:Li(m,10);break;case 3:Li(m,6);break;default:Li(m,2)}}}function Cc(m,S){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*S}function Li(m,S){if(m.j.info("Error code "+S),S==2){var C=h(m.bb,m),b=m.Ua;const J=!b;b=new wn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ht(b,"https"),Jr(b),J?ii(b.toString(),C):Al(b.toString(),C)}else Ct(2);m.I=0,m.l&&m.l.pa(S),wc(m),$o(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function wc(m){if(m.I=0,m.ja=[],m.l){const S=vl(m.h);(S.length!=0||m.i.length!=0)&&(D(m.ja,S),D(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function Ic(m,S,C){var b=C instanceof wn?Rt(C):new wn(C);if(b.g!="")S&&(b.g=S+"."+b.g),Ls(b,b.u);else{var J=u.location;b=J.protocol,S=S?S+"."+J.hostname:J.hostname,J=+J.port;const Z=new wn(null);b&&Ht(Z,b),S&&(Z.g=S),J&&Ls(Z,J),C&&(Z.h=C),b=Z}return C=m.G,S=m.wa,C&&S&&Ze(b,C,S),Ze(b,"VER",m.ka),jr(m,b),b}function Rc(m,S,C){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new tt(new Ni({ab:C})):new tt(m.ma),S.Fa(m.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}t=bc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gs(){}Gs.prototype.g=function(m,S){return new dn(m,S)};function dn(m,S){At.call(this),this.g=new zs(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!U(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!U(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new ji(this)}T(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Il(this.g)},dn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=Vs(m),m=C);S.i.push(new It(S.Ya++,m)),S.I==3&&Vi(S)},dn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,dn.Z.N.call(this)};function xc(m){Jt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const C in S){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}T(xc,Jt);function Mc(){kn.call(this),this.status=1}T(Mc,kn);function ji(m){this.g=m}T(ji,bc),ji.prototype.ra=function(){Ut(this.g,"a")},ji.prototype.qa=function(m){Ut(this.g,new xc(m))},ji.prototype.pa=function(m){Ut(this.g,new Mc)},ji.prototype.oa=function(){Ut(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,RC=function(){return new Gs},IC=function(){return Uo()},wC=vt,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Zf=$r,dl.COMPLETE="complete",CC=dl,lc.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",At.prototype.listen=At.prototype.J,vu=lc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,AC=tt}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const HE="@firebase/firestore",$E="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Ng("@firebase/firestore");function wa(){return wo.logLevel}function he(t,...e){if(wo.logLevel<=qe.DEBUG){const n=e.map(Hg);wo.debug(`Firestore (${ja}): ${t}`,...n)}}function Rs(t,...e){if(wo.logLevel<=qe.ERROR){const n=e.map(Hg);wo.error(`Firestore (${ja}): ${t}`,...n)}}function qa(t,...e){if(wo.logLevel<=qe.WARN){const n=e.map(Hg);wo.warn(`Firestore (${ja}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,bC(t,i,n)}function bC(t,e,n){let i=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Rs(i),new Error(i)}function Xe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||bC(e,r,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class RP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bP{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cr,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new xC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class xP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new xP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=DP(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=e.charAt(r[a]%62))}return i}}function ze(t,e){return t<e?-1:t>e?1:0}function Ym(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),a=e.charAt(i);if(r!==a)return Em(r)===Em(a)?ze(r,a):Em(r)?1:-1}return ze(t.length,e.length)}const PP=55296,VP=57343;function Em(t){const e=t.charCodeAt(0);return e>=PP&&e<=VP}function za(t,e,n){return t.length===e.length&&t.every(((i,r)=>n(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__name__";class zi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=zi.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ze(e.length,n.length)}static compareSegments(e,n){const i=zi.isNumericId(e),r=zi.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?zi.extractNumericId(e).compare(zi.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class pt extends zi{construct(e,n,i){return new pt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((r=>r.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const LP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends zi{construct(e,n,i){return new tn(e,n,i)}static isValidIdentifier(e){return LP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new tn([JE])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else d==="`"?(u=!u,r++):d!=="."||u?(i+=d,r++):(a(),r++)}if(a(),u)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UP(t,e,n,i){if(e===!0&&i===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KE(t){if(!Ee.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yg(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wu(t,e){if(!MC(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(r&&typeof u!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-62135596800,WE=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*WE);return new ut(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Lt("string",ut._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ut(0,0))}static max(){return new Ie(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function OP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new ut(n+1,0):new ut(n,i));return new Ir(r,Ee.empty(),e)}function BP(t){return new Ir(t.readTime,t.key,Lu)}class Ir{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ir(Ie.min(),Ee.empty(),Lu)}static max(){return new Ir(Ie.max(),Ee.empty(),Lu)}}function qP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==zP)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let r=0,a=0,u=!1;e.forEach((d=>{++r,d.next((()=>{++a,u&&a===r&&n()}),(f=>i(f)))})),u=!0,a===r&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((r=>r?ae.resolve(r):i()));return n}static forEach(e,n){const i=[];return e.forEach(((r,a)=>{i.push(n.call(this,r,a))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,r)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((y=>{u[h]=y,++d,d===a&&i(u)}),(y=>r(y)))}}))}static doWhile(e,n){return new ae(((i,r)=>{const a=()=>{e()===!0?n().next((()=>{a()}),r):i()};a()}))}}function GP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=-1;function zd(t){return t==null}function gd(t){return t===0&&1/t==-1/0}function HP(t){return typeof t=="number"&&Number.isInteger(t)&&!gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="";function $P(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XE(e)),e=YP(t.get(n),e);return XE(e)}function YP(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case NC:n+="";break;default:n+=a}}return n}function XE(t){return t+NC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??jt.RED,this.left=r??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,a){return new jt(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return jt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,r,a){return this}insert(e,n,i){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ft(tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PC("Invalid base64 string: "+a):a}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const JP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=JP.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function br(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="server_timestamp",LC="__type__",kC="__previous_value__",UC="__local_write_time__";function Kg(t){return(t?.mapValue?.fields||{})[LC]?.stringValue===VC}function Fd(t){const e=t.mapValue.fields[kC];return Kg(e)?Fd(e):e}function ku(t){const e=Rr(t.mapValue.fields[UC].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,i,r,a,u,d,f,h,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=y}}const yd="(default)";class Uu{constructor(e,n){this.projectId=e,this.database=n||yd}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===yd}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="__type__",QP="__max__",Bf={mapValue:{}},BC="__vector__",vd="value";function xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:XP(t)?9007199254740991:WP(t)?10:11:Ce(28295,{value:t})}function Ki(t,e){if(t===e)return!0;const n=xr(t);if(n!==xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Rr(r.timestampValue),d=Rr(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,a){return br(r.bytesValue).isEqual(br(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,a){return St(r.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(r.geoPointValue.longitude)===St(a.geoPointValue.longitude)})(t,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return St(r.integerValue)===St(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=St(r.doubleValue),d=St(a.doubleValue);return u===d?gd(u)===gd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},d=a.mapValue.fields||{};if(ZE(u)!==ZE(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ki(u[f],d[f])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Ou(t,e){return(t.values||[]).find((n=>Ki(n,e)))!==void 0}function Fa(t,e){if(t===e)return 0;const n=xr(t),i=xr(e);if(n!==i)return ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=St(a.integerValue||a.doubleValue),f=St(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return eS(t.timestampValue,e.timestampValue);case 4:return eS(ku(t),ku(e));case 5:return Ym(t.stringValue,e.stringValue);case 6:return(function(a,u){const d=br(a),f=br(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const y=ze(d[h],f[h]);if(y!==0)return y}return ze(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=ze(St(a.latitude),St(u.latitude));return d!==0?d:ze(St(a.longitude),St(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tS(t.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},h=d[vd]?.arrayValue,y=f[vd]?.arrayValue,T=ze(h?.values?.length||0,y?.values?.length||0);return T!==0?T:tS(h,y)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Bf.mapValue&&u===Bf.mapValue)return 0;if(a===Bf.mapValue)return 1;if(u===Bf.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),h=u.fields||{},y=Object.keys(h);f.sort(),y.sort();for(let T=0;T<f.length&&T<y.length;++T){const E=Ym(f[T],y[T]);if(E!==0)return E;const w=Fa(d[f[T]],h[y[T]]);if(w!==0)return w}return ze(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function eS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Rr(t),i=Rr(e),r=ze(n.seconds,i.seconds);return r!==0?r:ze(n.nanos,i.nanos)}function tS(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=Fa(n[r],i[r]);if(a)return a}return ze(n.length,i.length)}function Ga(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Rr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=Jm(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${Jm(n.fields[u])}`;return r+"}"})(t.mapValue):Ce(61005,{value:t})}function jf(t){switch(xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fd(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+jf(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let r=0;return kr(i.fields,((a,u)=>{r+=a.length+jf(u)})),r})(t.mapValue);default:throw Ce(13486,{value:t})}}function Km(t){return!!t&&"integerValue"in t}function Qg(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function iS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ed(t){return!!t&&"mapValue"in t}function WP(t){return(t?.mapValue?.fields||{})[OC]?.stringValue===BC}function Cu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return kr(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Cu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return{...t}}function XP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=tn.emptyPath(),i={},r=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,r),i={},r=[],n=d.popLast()}u?i[d.lastSegment()]=Cu(u):r.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(e){const n=this.field(e.popLast());ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ed(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){kr(n,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new An(Cu(this.value))}}function qC(t){const e=[];return kr(t.fields,((n,i)=>{const r=new tn([n]);if(ed(i)){const a=qC(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,i,r,a,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Ie.min(),Ie.min(),Ie.min(),An.empty(),0)}static newFoundDocument(e,n,i,r){return new an(e,1,n,Ie.min(),i,r,0)}static newNoDocument(e,n){return new an(e,2,n,Ie.min(),Ie.min(),An.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ie.min(),Ie.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.position=e,this.inclusive=n}}function sS(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const a=e[r],u=t.position[r];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(u.referenceValue),n.key):i=Fa(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function rS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{}class qt extends zC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new e2(e,n,i):n==="array-contains"?new i2(e,i):n==="in"?new s2(e,i):n==="not-in"?new r2(e,i):n==="array-contains-any"?new o2(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new t2(e,i):new n2(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fa(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends zC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qi(e,n)}matches(e){return FC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FC(t){return t.op==="and"}function GC(t){return jP(t)&&FC(t)}function jP(t){for(const e of t.filters)if(e instanceof Qi)return!1;return!0}function Qm(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(GC(t))return t.filters.map((e=>Qm(e))).join(",");{const e=t.filters.map((n=>Qm(n))).join(",");return`${t.op}(${e})`}}function HC(t,e){return t instanceof qt?(function(i,r){return r instanceof qt&&i.op===r.op&&i.field.isEqual(r.field)&&Ki(i.value,r.value)})(t,e):t instanceof Qi?(function(i,r){return r instanceof Qi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,d)=>a&&HC(u,r.filters[d])),!0):!1})(t,e):void Ce(19439)}function $C(t){return t instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`})(t):t instanceof Qi?(function(n){return n.op.toString()+" {"+n.getFilters().map($C).join(" ,")+"}"})(t):"Filter"}class e2 extends qt{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class t2 extends qt{constructor(e,n){super(e,"in",n),this.keys=YC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class n2 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=YC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YC(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class i2 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qg(n)&&Ou(n.arrayValue,this.value)}}class s2 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class r2 extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class o2 extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ou(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n=null,i=[],r=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function oS(t,e=null,n=[],i=[],r=null,a=null,u=null){return new a2(t,e,n,i,r,a,u)}function Wg(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Qm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ga(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ga(i))).join(",")),e.Te=n}return e.Te}function Xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rS(t.startAt,e.startAt)&&rS(t.endAt,e.endAt)}function Wm(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n=null,i=[],r=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l2(t,e,n,i,r,a,u,d){return new Gd(t,e,n,i,r,a,u,d)}function Zg(t){return new Gd(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u2(t){return t.collectionGroup!==null}function wu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ft(tn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Td(a,i))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Td(tn.keyField(),i))}return e.Ie}function Gi(t){const e=Me(t);return e.Ee||(e.Ee=c2(e,wu(t))),e.Ee}function c2(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new Td(r.field,a)}));const n=t.endAt?new _d(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _d(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Xm(t,e,n){return new Gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return Xg(Gi(t),Gi(e))&&t.limitType===e.limitType}function JC(t){return`${Wg(Gi(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((r=>$C(r))).join(", ")}]`),zd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((r=>Ga(r))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((r=>Ga(r))).join(",")),`Target(${i})`})(Gi(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,r){for(const a of wu(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(t,e)&&(function(i,r){return!(i.startAt&&!(function(u,d,f){const h=sS(u,d,f);return u.inclusive?h<=0:h<0})(i.startAt,wu(i),r)||i.endAt&&!(function(u,d,f){const h=sS(u,d,f);return u.inclusive?h>=0:h>0})(i.endAt,wu(i),r))})(t,e)}function f2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KC(t){return(e,n)=>{let i=!1;for(const r of wu(t)){const a=d2(r,e,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function d2(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(a,u,d){const f=u.data.field(a),h=d.data.field(a);return f!==null&&h!==null?Fa(f,h):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,((n,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return DC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new mt(Ee.comparator);function bs(){return h2}const QC=new mt(Ee.comparator);function _u(...t){let e=QC;for(const n of t)e=e.insert(n.key,n);return e}function WC(t){let e=QC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function To(){return Iu()}function XC(){return Iu()}function Iu(){return new Mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const p2=new mt(Ee.comparator),m2=new Ft(Ee.comparator);function Fe(...t){let e=m2;for(const n of t)e=e.add(n);return e}const g2=new Ft(ze);function y2(){return g2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function ZC(t){return{integerValue:""+t}}function v2(t,e){return HP(e)?ZC(e):jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function _2(t,e,n){return t instanceof Ed?(function(r,a){const u={fields:{[LC]:{stringValue:VC},[UC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Kg(a)&&(a=Fd(a)),a&&(u.fields[kC]=a),{mapValue:u}})(n,e):t instanceof Ha?ew(t,e):t instanceof Bu?tw(t,e):(function(r,a){const u=jC(r,a),d=lS(u)+lS(r.Ae);return Km(u)&&Km(r.Ae)?ZC(d):jg(r.serializer,d)})(t,e)}function T2(t,e,n){return t instanceof Ha?ew(t,e):t instanceof Bu?tw(t,e):n}function jC(t,e){return t instanceof Sd?(function(i){return Km(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Ed extends Yd{}class Ha extends Yd{constructor(e){super(),this.elements=e}}function ew(t,e){const n=nw(e);for(const i of t.elements)n.some((r=>Ki(r,i)))||n.push(i);return{arrayValue:{values:n}}}class Bu extends Yd{constructor(e){super(),this.elements=e}}function tw(t,e){let n=nw(e);for(const i of t.elements)n=n.filter((r=>!Ki(r,i)));return{arrayValue:{values:n}}}class Sd extends Yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lS(t){return St(t.integerValue||t.doubleValue)}function nw(t){return Qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.field=e,this.transform=n}}function S2(t,e){return t.field.isEqual(e.field)&&(function(i,r){return i instanceof Ha&&r instanceof Ha||i instanceof Bu&&r instanceof Bu?za(i.elements,r.elements,Ki):i instanceof Sd&&r instanceof Sd?Ki(i.Ae,r.Ae):i instanceof Ed&&r instanceof Ed})(t.transform,e.transform)}class A2{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jd{}function iw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rw(t.key,Hi.none()):new Xu(t.key,t.data,Hi.none());{const n=t.data,i=An.empty();let r=new Ft(tn.comparator);for(let a of e.fields)if(!r.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new Ur(t.key,i,new Ln(r.toArray()),Hi.none())}}function C2(t,e,n){t instanceof Xu?(function(r,a,u){const d=r.value.clone(),f=cS(r.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ur?(function(r,a,u){if(!td(r.precondition,a))return void a.convertToUnknownDocument(u.version);const d=cS(r.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(sw(r)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Ru(t,e,n,i){return t instanceof Xu?(function(a,u,d,f){if(!td(a.precondition,u))return d;const h=a.value.clone(),y=fS(a.fieldTransforms,f,u);return h.setAll(y),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ur?(function(a,u,d,f){if(!td(a.precondition,u))return d;const h=fS(a.fieldTransforms,f,u),y=u.data;return y.setAll(sw(a)),y.setAll(h),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(a,u,d){return td(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function w2(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),a=jC(i.transform,r||null);a!=null&&(n===null&&(n=An.empty()),n.set(i.field,a))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&za(i,r,((a,u)=>S2(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xu extends Jd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ur extends Jd{constructor(e,n,i,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function cS(t,e,n){const i=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const a=t[r],u=a.transform,d=e.data.field(a.field);i.set(a.field,T2(u,d,n[r]))}return i}function fS(t,e,n){const i=new Map;for(const r of t){const a=r.transform,u=n.data.field(r.field);i.set(r.field,_2(a,u,e))}return i}class rw extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&C2(a,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ru(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ru(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=XC();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(r.key)?null:d;const f=iw(u,d);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,((n,i)=>uS(n,i)))&&za(this.baseMutations,e.baseMutations,((n,i)=>uS(n,i)))}}class ey{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return p2})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new ey(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,$e;function M2(t){switch(t){case ue.OK:return Ce(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function ow(t){if(t===void 0)return Rs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Pt.OK:return ue.OK;case Pt.CANCELLED:return ue.CANCELLED;case Pt.UNKNOWN:return ue.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ue.INTERNAL;case Pt.UNAVAILABLE:return ue.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ue.NOT_FOUND;case Pt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Pt.ABORTED:return ue.ABORTED;case Pt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Pt.DATA_LOSS:return ue.DATA_LOSS;default:return Ce(39323,{code:t})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new Ar([4294967295,4294967295],0);function dS(t){const e=N2().encode(t),n=new SC;return n.update(e),new Uint8Array(n.digest())}function hS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ar([n,i],0),new Ar([r,a],0)]}class ty{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Tu(`Invalid padding: ${n}`);if(i<0)throw new Tu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Ar.fromNumber(i)));return r.compare(D2)===1&&(r=new Ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dS(e),[i,r]=hS(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ty(a,r,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=dS(e),[i,r]=hS(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,i,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Kd(Ie.min(),r,new mt(ze),bs(),Fe())}}class Zu{constructor(e,n,i,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zu(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class aw{constructor(e,n){this.targetId=e,this.Ce=n}}class lw{constructor(e,n,i=nn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class pS{constructor(){this.ve=0,this.Fe=mS(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),i=Fe();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ce(38017,{changeType:a})}})),new Zu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=mS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=qf(),this.He=qf(),this.Ye=new mt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const a=r.target;if(Wm(a))if(i===0){const u=new Ee(a.path);this.et(n,u,an.newNoDocument(u,Ie.min()))}else Xe(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let u,d;try{u=br(i).toUint8Array()}catch(f){if(f instanceof PC)return qa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new ty(u,r,a)}catch(f){return qa(f instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Wm(d.target)){const f=new Ee(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,an.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let i=Fe();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new Kd(e,n,this.Ye,this.je,i);return this.je=bs(),this.Je=qf(),this.He=qf(),this.Ye=new mt(ze),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qf(){return new mt(Ee.comparator)}function mS(){return new mt(Ee.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"};class U2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function Ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O2(t,e){return Ad(t,e.toTimestamp())}function $i(t){return Xe(!!t,49232),Ie.fromTimestamp((function(n){const i=Rr(n);return new ut(i.seconds,i.nanos)})(t))}function ny(t,e){return jm(t,e).canonicalString()}function jm(t,e){const n=(function(r){return new pt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cw(t){const e=pt.fromString(t);return Xe(mw(e),10190,{key:e.toString()}),e}function eg(t,e){return ny(t.databaseId,e.path)}function Sm(t,e){const n=cw(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(dw(n))}function fw(t,e){return ny(t.databaseId,e)}function B2(t){const e=cw(t);return e.length===4?pt.emptyPath():dw(e)}function tg(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dw(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gS(t,e,n){return{name:eg(t,e),fields:n.value.mapValue.fields}}function q2(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ce(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(h,y){return h.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(h){const y=h.code===void 0?ue.UNKNOWN:ow(h.code);return new _e(y,h.message||"")})(u);n=new lw(i,r,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Sm(t,i.document.name),a=$i(i.document.updateTime),u=i.document.createTime?$i(i.document.createTime):Ie.min(),d=new An({mapValue:{fields:i.document.fields}}),f=an.newFoundDocument(r,a,u,d),h=i.targetIds||[],y=i.removedTargetIds||[];n=new nd(h,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Sm(t,i.document),a=i.readTime?$i(i.readTime):Ie.min(),u=an.newNoDocument(r,a),d=i.removedTargetIds||[];n=new nd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Sm(t,i.document),a=i.removedTargetIds||[];n=new nd([],a,r,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new x2(r,a),d=i.targetId;n=new aw(d,u)}}return n}function z2(t,e){let n;if(e instanceof Xu)n={update:gS(t,e.key,e.value)};else if(e instanceof rw)n={delete:eg(t,e.key)};else if(e instanceof Ur)n={update:gS(t,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof I2))return Ce(16599,{Vt:e.type});n={verify:eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof Ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ha)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sd)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:O2(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function F2(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(r,a){let u=r.updateTime?$i(r.updateTime):$i(a);return u.isEqual(Ie.min())&&(u=$i(a)),new A2(u,r.transformResults||[])})(n,e)))):[]}function G2(t,e){return{documents:[fw(t,e.path)]}}function H2(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fw(t,r);const a=(function(h){if(h.length!==0)return pw(Qi.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(h){if(h.length!==0)return h.map((y=>(function(E){return{field:Ra(E.field),direction:J2(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Zm(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function $2(t){let e=B2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Xe(i===1,65062);const y=n.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(T){const E=hw(T);return E instanceof Qi&&GC(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((E=>(function(D){return new Td(ba(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let E;return E=typeof T=="object"?T.value:T,zd(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(T){const E=!!T.before,w=T.values||[];return new _d(w,E)})(n.startAt));let h=null;return n.endAt&&(h=(function(T){const E=!T.before,w=T.values||[];return new _d(w,E)})(n.endAt)),l2(e,r,u,a,d,"F",f,h)}function Y2(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ba(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ba(n.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ba(n.unaryFilter.field);return qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ba(n.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qt.create(ba(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qi.create(n.compositeFilter.filters.map((i=>hw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function J2(t){return V2[t]}function K2(t){return L2[t]}function Q2(t){return k2[t]}function Ra(t){return{fieldPath:t.canonicalString()}}function ba(t){return tn.fromServerFormat(t.fieldPath)}function pw(t){return t instanceof qt?(function(n){if(n.op==="=="){if(iS(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iS(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:Ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(n.field),op:K2(n.op),value:n.value}}})(t):t instanceof Qi?(function(n){const i=n.getFilters().map((r=>pw(r)));return i.length===1?i[0]:{compositeFilter:{op:Q2(n.op),filters:i}}})(t):Ce(54877,{filter:t})}function W2(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,i,r,a=Ie.min(),u=Ie.min(),d=nn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.yt=e}}function Z2(t){const e=$2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Cn=new eV}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ir.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class eV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ft(pt.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ft(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gw=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(gw,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="LruGarbageCollector",tV=1048576;function _S([t,e],[n,i]){const r=ze(t,n);return r===0?ze(e,i):r}class nV{constructor(e){this.Ir=e,this.buffer=new Ft(_S),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();_S(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(vS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?he(vS,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Vr(3e5)}))}}class sV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(qd.ce);const i=new nV(n);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(yS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,a,u,d,f,h;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,u=Date.now(),this.nthSequenceNumber(e,r)))).next((T=>(i=T,d=Date.now(),this.removeTargets(e,i,n)))).next((T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(h=Date.now(),wa()<=qe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(h-f)+`ms
Total Duration: ${h-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:T}))))}}function rV(t,e){return new sV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new Mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(i!==null&&Ru(i.mutation,r,Ln.empty(),ut.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Fe()){const r=To();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,i).next((a=>{let u=_u();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=To();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Fe())))}populateOverlays(e,n,i){const r=[];return i.forEach((a=>{n.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,r){let a=bs();const u=Iu(),d=(function(){return Iu()})();return n.forEach(((f,h)=>{const y=i.get(h.key);r.has(h.key)&&(y===void 0||y.mutation instanceof Ur)?a=a.insert(h.key,h):y!==void 0?(u.set(h.key,y.mutation.getFieldMask()),Ru(y.mutation,h,y.mutation.getFieldMask(),ut.now())):u.set(h.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,y)=>u.set(h,y))),n.forEach(((h,y)=>d.set(h,new aV(y,u.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Iu();let r=new mt(((u,d)=>u-d)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let y=i.get(f)||Ln.empty();y=d.applyToLocalView(h,y),i.set(f,y);const T=(r.get(d.batchId)||Fe()).add(f);r=r.insert(d.batchId,T)}))})).next((()=>{const u=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,y=f.value,T=XC();y.forEach((E=>{if(!a.has(E)){const w=iw(n.get(E),i.get(E));w!==null&&T.set(E,w),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,T))}return ae.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,r){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-a.size):ae.resolve(To());let d=Lu,f=a;return u.next((h=>ae.forEach(h,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,Fe()))).next((y=>({batchId:d,changes:WC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((i=>{let r=_u();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const a=n.collectionGroup;let u=_u();return this.indexManager.getCollectionParents(e,a).next((d=>ae.forEach(d,(f=>{const h=(function(T,E){return new Gd(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next((y=>{y.forEach(((T,E)=>{u=u.insert(T,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,r)))).next((u=>{a.forEach(((f,h)=>{const y=h.getKey();u.get(y)===null&&(u=u.insert(y,an.newInvalidDocument(y)))}));let d=_u();return u.forEach(((f,h)=>{const y=a.get(f);y!==void 0&&Ru(y.mutation,h,Ln.empty(),ut.now()),$d(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:$i(r.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:Z2(r.bundledQuery),readTime:$i(r.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.overlays=new mt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=To();return ae.forEach(n,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((r,a)=>{this.St(e,n,a)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const r=To(),a=n.length+1,u=new Ee(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let a=new mt(((h,y)=>h-y));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let y=a.get(h.largestBatchId);y===null&&(y=To(),a=a.insert(h.largestBatchId,y)),y.set(h.getKey(),h)}}const d=To(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,y)=>d.set(h,y))),!(d.size()>=r)););return ae.resolve(d)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new b2(n,i));let a=this.qr.get(n);a===void 0&&(a=Fe(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Qr=new Ft(Yt.$r),this.Ur=new Ft(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Yt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Yt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ee(new pt([])),i=new Yt(n,e),r=new Yt(n,e+1),a=[];return this.Ur.forEachInRange([i,r],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new pt([])),i=new Yt(n,e),r=new Yt(n,e+1);let a=Fe();return this.Ur.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Yt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Yt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new R2(a,n,i,r);this.mutationQueue.push(u);for(const d of r)this.Zr=this.Zr.add(new Yt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),a=r<0?0:r;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Jg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Yt(n,0),r=new Yt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],(u=>{const d=this.Xr(u.Yr);a.push(d)})),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ft(ze);return n.forEach((r=>{const a=new Yt(r,0),u=new Yt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{i=i.add(d.Yr)}))})),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Yt(new Ee(a),0);let d=new Ft(ze);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(d=d.add(f.Yr)),!0)}),u),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(n.mutations,(r=>{const a=new Yt(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Yt(n,0),r=this.Zr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.ri=e,this.docs=(function(){return new mt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let i=bs();return n.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():an.newInvalidDocument(r))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let a=bs();const u=n.path,d=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:y}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||qP(BP(y),i)<=0||(r.has(y.key)||$d(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,n,i,r){Ce(9500)}ii(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new pV(this)}getSize(e){return ae.resolve(this.size)}}class pV extends oV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.persistence=e,this.si=new Mo((n=>Wg(n)),Xg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new iy,this.targetCount=0,this.ai=$a.ur()}forEachTarget(e,n){return this.si.forEach(((i,r)=>n(r))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let r=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),ae.waitFor(a).next((()=>r))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),ae.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.ui={},this.overlays={},this.ci=new qd(0),this.li=!1,this.li=!0,this.hi=new fV,this.referenceDelegate=e(this),this.Pi=new mV(this),this.indexManager=new j2,this.remoteDocumentCache=(function(r){return new hV(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new X2(n),this.Ii=new uV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new dV(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const r=new gV(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((a=>this.referenceDelegate.di(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ai(e,n){return ae.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class gV extends FP{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Ri=new iy,this.Vi=null}static mi(e){return new sy(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(i=>{const r=Ee.fromPath(i);return this.gi(e,r).next((a=>{a||n.removeEntry(r,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cd{constructor(e,n){this.persistence=e,this.pi=new Mo((i=>$P(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=rV(this,n)}static mi(e,n){return new Cd(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((r=>i+r))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((i,r)=>this.br(e,i,r).next((a=>a?ae.resolve():n(r)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,(u=>this.br(e,u,n).next((d=>{d||(i++,a.removeEntry(u,Ie.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}br(e,n,i){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return ae.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=Fe(),r=Fe();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ry(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H1()?8:GP(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new yV;return this.Ss(e,n,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>a.result))}bs(e,n,i,r){return i.documentReadCount<this.fs?(wa()<=qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(wa()<=qe.DEBUG&&he("QueryEngine","Query:",Ia(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(wa()<=qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):ae.resolve())}ys(e,n){if(aS(n))return ae.resolve(null);let i=Gi(n);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Xm(n,null,"F"),i=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Fe(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,u,f.readTime)?this.ys(e,Xm(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,i,r){return aS(n)||r.isEqual(Ie.min())?ae.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,i,r)?ae.resolve(null):(wa()<=qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ia(n)),this.vs(e,u,n,OP(r,Lu)).next((d=>d)))}))}Ds(e,n){let i=new Ft(KC(e));return n.forEach(((r,a)=>{$d(e,a)&&(i=i.add(a))})),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,i){return wa()<=qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ps.getDocumentsMatchingQuery(e,n,Ir.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",_V=3e8;class TV{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new mt(ze),this.xs=new Mo((a=>Wg(a)),Xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function EV(t,e,n,i){return new TV(t,e,n,i)}async function vw(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let f=Fe();for(const h of r){u.push(h.batchId);for(const y of h.mutations)f=f.add(y.key)}for(const h of a){d.push(h.batchId);for(const y of h.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next((h=>({Ls:h,removedBatchIds:u,addedBatchIds:d})))}))}))}function SV(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,y){const T=h.batch,E=T.keys();let w=ae.resolve();return E.forEach((D=>{w=w.next((()=>y.getEntry(f,D))).next((L=>{const k=h.docVersions.get(D);Xe(k!==null,48541),L.version.compareTo(k)<0&&(T.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),y.addEntry(L)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,T)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Fe();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,r)))}))}function _w(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function AV(t,e){const n=Me(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const d=[];e.targetChanges.forEach(((y,T)=>{const E=r.get(T);if(!E)return;d.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,T))));let w=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(nn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),r=r.insert(T,w),(function(L,k,G){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=_V?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(E,w,y)&&d.push(n.Pi.updateTargetData(a,w))}));let f=bs(),h=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(CV(a,u,e.documentUpdates).next((y=>{f=y.ks,h=y.qs}))),!i.isEqual(Ie.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((T=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(y)}return ae.waitFor(d).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=r,a)))}function CV(t,e,n){let i=Fe(),r=Fe();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=bs();return n.forEach(((d,f)=>{const h=a.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(oy,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:u,qs:r}}))}function wV(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function IV(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return n.Pi.getTargetData(i,e).next((a=>a?(r=a,ae.resolve(r)):n.Pi.allocateTargetId(i).next((u=>(r=new yr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ng(t,e,n){const i=Me(t),r=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!tl(u))throw u;he(oy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function TS(t,e,n){const i=Me(t);let r=Ie.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,h,y){const T=Me(f),E=T.xs.get(y);return E!==void 0?ae.resolve(T.Ms.get(E)):T.Pi.getTargetData(h,y)})(i,u,Gi(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?r:Ie.min(),n?a:Fe()))).next((d=>(RV(i,f2(e),d),{documents:d,Qs:a})))))}function RV(t,e,n){let i=t.Os.get(e)||Ie.min();n.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Os.set(e,i)}class ES{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bV{constructor(){this.Mo=new ES,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ES,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="ConnectivityMonitor";class AS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(SS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(SS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function ig(){return zf===null?zf=(function(){return 268435456+Math.round(2147483648*Math.random())})():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",MV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===yd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,a){const u=ig(),d=this.zo(e,n.toUriEncodedString());he(Am,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,a);const{host:h}=new URL(d),y=Wa(h);return this.Jo(e,d,f,i,y).then((T=>(he(Am,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw qa(Am,`RPC '${e}' ${u} failed with error: `,T,"url: ",d,"request:",i),T}))}Ho(e,n,i,r,a,u){return this.Go(e,n,i,r,a)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}zo(e,n){const i=MV[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class PV extends NV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,a){const u=ig();return new Promise(((d,f)=>{const h=new AC;h.setWithCredentials(!0),h.listenOnce(CC.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Zf.NO_ERROR:const T=h.getResponseJson();he(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Zf.TIMEOUT:he(rn,`RPC '${e}' ${u} timed out`),f(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const E=h.getStatus();if(he(rn,`RPC '${e}' ${u} failed with status:`,E,"response text:",h.getResponseText()),E>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const L=(function(G){const q=G.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(q)>=0?q:ue.UNKNOWN})(D.status);f(new _e(L,D.message))}else f(new _e(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{he(rn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(r);he(rn,`RPC '${e}' ${u} sending request:`,r),h.send(n,"POST",y,i,15)}))}T_(e,n,i){const r=ig(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RC(),d=IC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=a.join("");he(rn,`Creating RPC '${e}' stream ${r}: ${y}`,f);const T=u.createWebChannel(y,f);this.I_(T);let E=!1,w=!1;const D=new DV({Yo:k=>{w?he(rn,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(E||(he(rn,`Opening RPC '${e}' stream ${r} transport.`),T.open(),E=!0),he(rn,`RPC '${e}' stream ${r} sending:`,k),T.send(k))},Zo:()=>T.close()}),L=(k,G,q)=>{k.listen(G,(z=>{try{q(z)}catch(X){setTimeout((()=>{throw X}),0)}}))};return L(T,vu.EventType.OPEN,(()=>{w||(he(rn,`RPC '${e}' stream ${r} transport opened.`),D.o_())})),L(T,vu.EventType.CLOSE,(()=>{w||(w=!0,he(rn,`RPC '${e}' stream ${r} transport closed`),D.a_(),this.E_(T))})),L(T,vu.EventType.ERROR,(k=>{w||(w=!0,qa(rn,`RPC '${e}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),L(T,vu.EventType.MESSAGE,(k=>{if(!w){const G=k.data[0];Xe(!!G,16349);const q=G,z=q?.error||q[0]?.error;if(z){he(rn,`RPC '${e}' stream ${r} received error:`,z);const X=z.status;let j=(function(I){const x=Pt[I];if(x!==void 0)return ow(x)})(X),ie=z.message;j===void 0&&(j=ue.INTERNAL,ie="Unknown error status: "+X+" with message "+z.message),w=!0,D.a_(new _e(j,ie)),T.close()}else he(rn,`RPC '${e}' stream ${r} received:`,G),D.u_(G)}})),L(d,wC.STAT_EVENT,(k=>{k.stat===$m.PROXY?he(rn,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===$m.NOPROXY&&he(rn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return new U2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="PersistentStream";class Ew{constructor(e,n,i,r,a,u,d,f){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===n&&this.G_(i,r)}),(i=>{e((()=>{const r=new _e(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(CS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(CS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VV extends Ew{constructor(e,n,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q2(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?$i(u.readTime):Ie.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=tg(this.serializer),n.addTarget=(function(a,u){let d;const f=u.target;if(d=Wm(f)?{documents:G2(a,f)}:{query:H2(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=uw(a,u.resumeToken);const h=Zm(a,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Ad(a,u.snapshotVersion.toTimestamp());const h=Zm(a,u.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const i=Y2(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=tg(this.serializer),n.removeTarget=e,this.q_(n)}}class LV extends Ew{constructor(e,n,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=F2(e.writeResults,e.commitTime),i=$i(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=tg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>z2(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{}class UV extends kV{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,jm(n,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ue.UNKNOWN,a.toString())}))}Ho(e,n,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,jm(n,i),r,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="RemoteStore";class BV{constructor(e,n,i,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{No(this)&&(he(Ro,"Restarting streams for network reachability change."),await(async function(f){const h=Me(f);h.Ea.add(4),await ju(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Wd(h)})(this))}))})),this.Ra=new OV(i,r)}}async function Wd(t){if(No(t))for(const e of t.da)await e(!0)}async function ju(t){for(const e of t.da)await e(!1)}function Sw(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cy(n)?uy(n):nl(n).O_()&&ly(n,e))}function ay(t,e){const n=Me(t),i=nl(n);n.Ia.delete(e),i.O_()&&Aw(n,e),n.Ia.size===0&&(i.O_()?i.L_():No(n)&&n.Ra.set("Unknown"))}function ly(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).Y_(e)}function Aw(t,e){t.Va.Ue(e),nl(t).Z_(e)}function uy(t){t.Va=new P2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.Ra.ua()}function cy(t){return No(t)&&!nl(t).x_()&&t.Ia.size>0}function No(t){return Me(t).Ea.size===0}function Cw(t){t.Va=void 0}async function qV(t){t.Ra.set("Online")}async function zV(t){t.Ia.forEach(((e,n)=>{ly(t,e)}))}async function FV(t,e){Cw(t),cy(t)?(t.Ra.ha(e),uy(t)):t.Ra.set("Unknown")}async function GV(t,e,n){if(t.Ra.set("Online"),e instanceof lw&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const d of a.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,u),r.Ia.delete(d),r.Va.removeTarget(d))})(t,e)}catch(i){he(Ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wd(t,i)}else if(e instanceof nd?t.Va.Ze(e):e instanceof aw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await _w(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(h);y&&a.Ia.set(h,y.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,h)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),Aw(a,f);const T=new yr(y.target,f,h,y.sequenceNumber);ly(a,T)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){he(Ro,"Failed to raise snapshot:",i),await wd(t,i)}}async function wd(t,e,n){if(!tl(e))throw e;t.Ea.add(1),await ju(t),t.Ra.set("Offline"),n||(n=()=>_w(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wd(t)}))}function ww(t,e){return e().catch((n=>wd(t,n,e)))}async function Xd(t){const e=Me(t),n=Mr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jg;for(;HV(e);)try{const r=await wV(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,$V(e,r)}catch(r){await wd(e,r)}Iw(e)&&Rw(e)}function HV(t){return No(t)&&t.Ta.length<10}function $V(t,e){t.Ta.push(e);const n=Mr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Iw(t){return No(t)&&!Mr(t).x_()&&t.Ta.length>0}function Rw(t){Mr(t).start()}async function YV(t){Mr(t).ra()}async function JV(t){const e=Mr(t);for(const n of t.Ta)e.ea(n.mutations)}async function KV(t,e,n){const i=t.Ta.shift(),r=ey.from(i,e,n);await ww(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Xd(t)}async function QV(t,e){e&&Mr(t).X_&&await(async function(i,r){if((function(u){return M2(u)&&u!==ue.ABORTED})(r.code)){const a=i.Ta.shift();Mr(i).B_(),await ww(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Xd(i)}})(t,e),Iw(t)&&Rw(t)}async function wS(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),he(Ro,"RemoteStore received new credentials");const i=No(n);n.Ea.add(3),await ju(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wd(n)}async function WV(t,e){const n=Me(t);e?(n.Ea.delete(2),await Wd(n)):e||(n.Ea.add(2),await ju(n),n.Ra.set("Unknown"))}function nl(t){return t.ma||(t.ma=(function(n,i,r){const a=Me(n);return a.sa(),new VV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(t.datastore,t.asyncQueue,{Xo:qV.bind(null,t),t_:zV.bind(null,t),r_:FV.bind(null,t),H_:GV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cy(t)?uy(t):t.Ra.set("Unknown")):(await t.ma.stop(),Cw(t))}))),t.ma}function Mr(t){return t.fa||(t.fa=(function(n,i,r){const a=Me(n);return a.sa(),new LV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:YV.bind(null,t),r_:QV.bind(null,t),ta:JV.bind(null,t),na:KV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Xd(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,a){const u=Date.now()+i,d=new fy(e,n,u,r,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(Rs("AsyncQueue",`${e}: ${t}`),tl(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=_u(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Pa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.ga=new mt(Ee.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ya{constructor(e,n,i,r,a,u,d,f,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,a){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Ya(e,n,Pa.emptySet(n),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZV{constructor(){this.queries=RS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Me(n),a=r.queries;r.queries=RS(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(i)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function RS(){return new Mo((t=>JC(t)),Hd)}async function jV(t,e){const n=Me(t);let i=3;const r=e.query;let a=n.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new XV,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(u){const d=dy(u,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(d)}n.queries.set(r,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&hy(n)}async function eL(t,e){const n=Me(t),i=e.query;let r=3;const a=n.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tL(t,e){const n=Me(t);let i=!1;for(const r of e){const a=r.query,u=n.queries.get(a);if(u){for(const d of u.Sa)d.Fa(r)&&(i=!0);u.wa=r}}i&&hy(n)}function nL(t,e,n){const i=Me(t),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);i.queries.delete(e)}function hy(t){t.Ca.forEach((e=>{e.next()}))}var sg,bS;(bS=sg||(sg={})).Ma="default",bS.Cache="cache";class iL{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ya(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class sL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=KC(e),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new IS,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=r,d=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((y,T)=>{const E=r.get(y),w=$d(this.query,T)?T:null,D=!!E&&this.mutatedKeys.has(E.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;E&&w?E.data.isEqual(w.data)?D!==L&&(i.track({type:3,doc:w}),k=!0):this.su(E,w)||(i.track({type:2,doc:w}),k=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!E&&w?(i.track({type:0,doc:w}),k=!0):E&&!w&&(i.track({type:1,doc:E}),k=!0,(f||h)&&(d=!0)),k&&(w?(u=u.add(w),a=L?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,T)=>(function(w,D){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:k})}};return L(w)-L(D)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(i),r=r??!1;const d=n&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,h=f!==this.Za;return this.Za=f,u.length!==0||h?{snapshot:new Ya(this.query,e.tu,a,u,e.mutatedKeys,f===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new xw(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new bw(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const py="SyncEngine";class rL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class oL{constructor(e){this.key=e,this.hu=!1}}class aL{constructor(e,n,i,r,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Mo((d=>JC(d)),Hd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Ee.comparator),this.Au=new Map,this.Ru=new iy,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lL(t,e,n=!0){const i=Lw(t);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await Mw(i,e,n,!0),r}async function uL(t,e){const n=Lw(t);await Mw(n,e,!0,!1)}async function Mw(t,e,n,i){const r=await IV(t.localStore,Gi(e)),a=r.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return i&&(d=await cL(t,e,a,u==="current",r.resumeToken)),t.isPrimaryClient&&n&&Sw(t.remoteStore,r),d}async function cL(t,e,n,i,r){t.pu=(T,E,w)=>(async function(L,k,G,q){let z=k.view.ru(G);z.Cs&&(z=await TS(L.localStore,k.query,!1).then((({documents:M})=>k.view.ru(M,z))));const X=q&&q.targetChanges.get(k.targetId),j=q&&q.targetMismatches.get(k.targetId)!=null,ie=k.view.applyChanges(z,L.isPrimaryClient,X,j);return MS(L,k.targetId,ie.au),ie.snapshot})(t,T,E,w);const a=await TS(t.localStore,e,!0),u=new sL(e,a.Qs),d=u.ru(a.documents),f=Zu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=u.applyChanges(d,t.isPrimaryClient,f);MS(t,n,h.au);const y=new rL(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function fL(t,e,n){const i=Me(t),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!Hd(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await ng(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&ay(i.remoteStore,r.targetId),rg(i,r.targetId)})).catch(el)):(rg(i,r.targetId),await ng(i.localStore,r.targetId,!0))}async function dL(t,e){const n=Me(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ay(n.remoteStore,i.targetId))}async function hL(t,e,n){const i=TL(t);try{const r=await(function(u,d){const f=Me(u),h=ut.now(),y=d.reduce(((w,D)=>w.add(D.key)),Fe());let T,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=bs(),L=Fe();return f.Ns.getEntries(w,y).next((k=>{D=k,D.forEach(((G,q)=>{q.isValidDocument()||(L=L.add(G))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,D))).next((k=>{T=k;const G=[];for(const q of d){const z=w2(q,T.get(q.key).overlayedDocument);z!=null&&G.push(new Ur(q.key,z,qC(z.value.mapValue),Hi.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,G,d)})).next((k=>{E=k;const G=k.applyToLocalDocumentSet(T,L);return f.documentOverlayCache.saveOverlays(w,k.batchId,G)}))})).then((()=>({batchId:E.batchId,changes:WC(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,d,f){let h=u.Vu[u.currentUser.toKey()];h||(h=new mt(ze)),h=h.insert(d,f),u.Vu[u.currentUser.toKey()]=h})(i,r.batchId,n),await ec(i,r.changes),await Xd(i.remoteStore)}catch(r){const a=dy(r,"Failed to persist write");n.reject(a)}}async function Nw(t,e){const n=Me(t);try{const i=await AV(n.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=n.Au.get(a);u&&(Xe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?Xe(u.hu,14607):r.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await ec(n,i,e)}catch(i){await el(i)}}function xS(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(u,d){const f=Me(u);f.onlineState=d;let h=!1;f.queries.forEach(((y,T)=>{for(const E of T.Sa)E.va(d)&&(h=!0)})),h&&hy(f)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pL(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new mt(Ee.comparator);u=u.insert(a,an.newNoDocument(a,Ie.min()));const d=Fe().add(a),f=new Kd(Ie.min(),new Map,new mt(ze),u,d);await Nw(i,f),i.du=i.du.remove(a),i.Au.delete(e),my(i)}else await ng(i.localStore,e,!1).then((()=>rg(i,e,n))).catch(el)}async function mL(t,e){const n=Me(t),i=e.batch.batchId;try{const r=await SV(n.localStore,e);Pw(n,i,null),Dw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ec(n,r)}catch(r){await el(r)}}async function gL(t,e,n){const i=Me(t);try{const r=await(function(u,d){const f=Me(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let y;return f.mutationQueue.lookupMutationBatch(h,d).next((T=>(Xe(T!==null,37113),y=T.keys(),f.mutationQueue.removeMutationBatch(h,T)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,y))).next((()=>f.localDocuments.getDocuments(h,y)))}))})(i.localStore,e);Pw(i,e,n),Dw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ec(i,r)}catch(r){await el(r)}}function Dw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Pw(t,e,n){const i=Me(t);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||Vw(t,i)}))}function Vw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),my(t))}function MS(t,e,n){for(const i of n)i instanceof bw?(t.Ru.addReference(i.key,e),yL(t,i)):i instanceof xw?(he(py,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Vw(t,i.key)):Ce(19791,{wu:i})}function yL(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(he(py,"New document in limbo: "+n),t.Eu.add(i),my(t))}function my(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(pt.fromString(e)),i=t.fu.next();t.Au.set(i,new oL(n)),t.du=t.du.insert(n,i),Sw(t.remoteStore,new yr(Gi(Zg(n.path)),i,"TargetPurposeLimboResolution",qd.ce))}}async function ec(t,e,n){const i=Me(t),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{u.push(i.pu(f,e,n).then((h=>{if((h||n)&&i.isPrimaryClient){const y=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(h){r.push(h);const y=ry.As(f.targetId,h);a.push(y)}})))})),await Promise.all(u),i.Pu.H_(r),await(async function(f,h){const y=Me(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ae.forEach(h,(E=>ae.forEach(E.Es,(w=>y.persistence.referenceDelegate.addReference(T,E.targetId,w))).next((()=>ae.forEach(E.ds,(w=>y.persistence.referenceDelegate.removeReference(T,E.targetId,w)))))))))}catch(T){if(!tl(T))throw T;he(oy,"Failed to update sequence numbers: "+T)}for(const T of h){const E=T.targetId;if(!T.fromCache){const w=y.Ms.get(E),D=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,L)}}})(i.localStore,a))}async function vL(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){he(py,"User change. New user:",e.toKey());const i=await vw(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new _e(ue.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ec(n,i.Ls)}}function _L(t,e){const n=Me(t),i=n.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let r=Fe();const a=n.Iu.get(e);if(!a)return r;for(const u of a){const d=n.Tu.get(u);r=r.unionWith(d.view.nu)}return r}}function Lw(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_L.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pL.bind(null,e),e.Pu.H_=tL.bind(null,e.eventManager),e.Pu.yu=nL.bind(null,e.eventManager),e}function TL(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gL.bind(null,e),e}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EV(this.persistence,new vV,e.initialUser,this.serializer)}Cu(e){return new yw(sy.mi,this.serializer)}Du(e){return new bV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class EL extends Id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Cd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iV(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new yw((i=>Cd.mi(i,n)),this.serializer)}}class og{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,this.syncEngine),await WV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZV})()}createDatastore(e){const n=Qd(e.databaseInfo.databaseId),i=(function(a){return new PV(a)})(e.databaseInfo);return(function(a,u,d,f){return new UV(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,r,a,u,d){return new BV(i,r,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>xS(this.syncEngine,n,0)),(function(){return AS.v()?new AS:new xV})())}createSyncEngine(e,n){return(function(r,a,u,d,f,h,y){const T=new aL(r,a,u,d,f,h);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Me(n);he(Ro,"RemoteStore shutting down."),i.Ea.add(5),await ju(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}og.provider={build:()=>new og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class AL{constructor(e,n,i,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{he(Nr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(he(Nr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),he(Nr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async r=>{i.isEqual(r)||(await vw(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function NS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CL(t);he(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>wS(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,r)=>wS(e.remoteStore,r))),t._onlineComponents=e}async function CL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Nr,"Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ue.FAILED_PRECONDITION||r.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new Id)}}else he(Nr,"Using default OfflineComponentProvider"),await wm(t,new EL(void 0));return t._offlineComponents}async function kw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Nr,"Using user provided OnlineComponentProvider"),await NS(t,t._uninitializedComponentsProvider._online)):(he(Nr,"Using default OnlineComponentProvider"),await NS(t,new og))),t._onlineComponents}function wL(t){return kw(t).then((e=>e.syncEngine))}async function IL(t){const e=await kw(t),n=e.eventManager;return n.onListen=lL.bind(null,e.syncEngine),n.onUnlisten=fL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dL.bind(null,e.syncEngine),n}function RL(t,e,n={}){const i=new Cr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,h){const y=new SL({next:E=>{y.Nu(),u.enqueueAndForget((()=>eL(a,T)));const w=E.docs.has(d);!w&&E.fromCache?h.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?h.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(E)},error:E=>h.reject(E)}),T=new iL(Zg(d.path),y,{includeMetadataChanges:!0,qa:!0});return jV(a,T)})(await IL(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",PS=!0;class VS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=PS}else this.host=e.host,this.ssl=e.ssl??PS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tV)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new IP;switch(i.type){case"firstParty":return new MP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=DS.get(n);i&&(he("ComponentProvider","Removing Datastore"),DS.delete(n),i.terminate())})(this),Promise.resolve()}}function bL(t,e,n,i={}){t=Io(t,gy);const r=Wa(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;r&&(LA(`https://${d}`),kA("Firestore",!0)),a.host!==Ow&&a.host!==d&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:r,emulatorOptions:i};if(!wr(f,u)&&(t._setSettings(f),i.mockUserToken)){let h,y;if(typeof i.mockUserToken=="string")h=i.mockUserToken,y=on.MOCK_USER;else{h=L1(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(T)}t._authCredentials=new RP(new xC(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yy(this.firestore,e,this._query)}}class zt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Wu(n,zt._jsonSchema))return new zt(e,i||null,new Ee(pt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Lt("string",zt._jsonSchemaVersion),referencePath:Lt("string")};class qu extends yy{constructor(e,n,i){super(e,n,Zg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ee(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function Bw(t,e,...n){if(t=cn(t),arguments.length===1&&(e=$g.newId()),kP("doc","path",e),t instanceof gy){const i=pt.fromString(e,...n);return KE(i),new zt(t,null,new Ee(i))}{if(!(t instanceof zt||t instanceof qu))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pt.fromString(e,...n));return KE(i),new zt(t.firestore,t instanceof qu?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="AsyncQueue";class kS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tw(this,"async_queue_retry"),this._c=()=>{const i=Cm();i&&he(LS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;he(LS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",US(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=fy.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Ce(47125,{Pc:US(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function US(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zd extends gy{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new kS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kS(e),this._firestoreClient=void 0,await e}}}function xL(t,e){const n=typeof t=="object"?t:qA(),i=typeof t=="string"?t:yd,r=Pg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=P1("firestore");a&&bL(r,...a)}return r}function qw(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ML(t),t._firestoreClient}function ML(t){const e=t._freezeSettings(),n=(function(r,a,u,d){return new KP(r,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Uw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(nn.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Lt("string",Qn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(Wu(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Lt("string",Yi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wu(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Lt("string",Ji._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=/^__.*__$/;class DL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}class zw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class th{constructor(e,n,i,r,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new th({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fw(this.Ac)&&NL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Qd(e)}Cc(e,n,i,r=!1){return new th({Ac:e,methodName:n,Dc:i,path:tn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gw(t){const e=t._freezeSettings(),n=Qd(t._databaseId);return new PL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VL(t,e,n,i,r,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,r);_y("Data must be an object, but it was:",u,i);const d=Hw(i,u);let f,h;if(a.merge)f=new Ln(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const T of a.mergeFields){const E=ag(e,T,n);if(!u.contains(E))throw new _e(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Yw(y,E)||y.push(E)}f=new Ln(y),h=u.fieldTransforms.filter((T=>f.covers(T.field)))}else f=null,h=u.fieldTransforms;return new DL(new An(d),f,h)}class nh extends eh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}function LL(t,e,n){return new th({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vy extends eh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=LL(this,e,!0),i=this.vc.map((a=>tc(a,n))),r=new Ha(i);return new E2(e.path,r)}isEqual(e){return e instanceof vy&&wr(this.vc,e.vc)}}function kL(t,e,n,i){const r=t.Cc(1,e,n);_y("Data must be an object, but it was:",r,i);const a=[],u=An.empty();kr(i,((f,h)=>{const y=Ty(e,f,n);h=cn(h);const T=r.yc(y);if(h instanceof nh)a.push(y);else{const E=tc(h,T);E!=null&&(a.push(y),u.set(y,E))}}));const d=new Ln(a);return new zw(u,d,r.fieldTransforms)}function UL(t,e,n,i,r,a){const u=t.Cc(1,e,n),d=[ag(e,i,n)],f=[r];if(a.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(ag(e,a[E])),f.push(a[E+1]);const h=[],y=An.empty();for(let E=d.length-1;E>=0;--E)if(!Yw(h,d[E])){const w=d[E];let D=f[E];D=cn(D);const L=u.yc(w);if(D instanceof nh)h.push(w);else{const k=tc(D,L);k!=null&&(h.push(w),y.set(w,k))}}const T=new Ln(h);return new zw(y,T,u.fieldTransforms)}function tc(t,e){if($w(t=cn(t)))return _y("Unsupported field value:",e,t),Hw(t,e);if(t instanceof eh)return(function(i,r){if(!Fw(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const d of i){let f=tc(d,r.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,r){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return v2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=ut.fromDate(i);return{timestampValue:Ad(r.serializer,a)}}if(i instanceof ut){const a=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ad(r.serializer,a)}}if(i instanceof Yi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qn)return{bytesValue:uw(r.serializer,i._byteString)};if(i instanceof zt){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ny(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ji)return(function(u,d){return{mapValue:{fields:{[OC]:{stringValue:BC},[vd]:{arrayValue:{values:u.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return jg(d.serializer,h)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Yg(i)}`)})(t,e)}function Hw(t,e){const n={};return DC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(t,((i,r)=>{const a=tc(r,e.mc(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function $w(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Yi||t instanceof Qn||t instanceof zt||t instanceof eh||t instanceof Ji)}function _y(t,e,n){if(!$w(n)||!MC(n)){const i=Yg(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ag(t,e,n){if((e=cn(e))instanceof jd)return e._internalPath;if(typeof e=="string")return Ty(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const OL=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(OL)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jd(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new _e(ue.INVALID_ARGUMENT,d+t+f)}function Yw(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BL extends Jw{data(){return super.data()}}function Kw(t,e){return typeof e=="string"?Ty(t,e):e instanceof jd?e._internalPath:e._delegate._internalPath}class qL{convertValue(e,n="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return kr(e,((r,a)=>{i[r]=this.convertValue(a,n)})),i}convertVectorValue(e){const n=e.fields?.[vd].arrayValue?.values?.map((i=>St(i.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new Yi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=Rr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=pt.fromString(e);Xe(mw(i),9688,{name:e});const r=new Uu(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return r.isEqual(n)||Rs(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends Jw{constructor(e,n,i,r,a,u){super(e,n,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Kw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:Lt("string",Eo._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class id extends Eo{data(e={}){return super.data(e)}}class bu{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Eu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new id(this._firestore,this._userDataWriter,i.key,i,new Eu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((d=>{const f=new id(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Eu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new id(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Eu(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,y=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:FL(d.type),doc:f,oldIndex:h,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){t=Io(t,zt);const e=Io(t.firestore,Zd);return RL(qw(e),t._key).then((n=>JL(e,t,n)))}bu._jsonSchemaVersion="firestore/querySnapshot/1.0",bu._jsonSchema={type:Lt("string",bu._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class HL extends qL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function $L(t,e,n){t=Io(t,zt);const i=Io(t.firestore,Zd),r=zL(t.converter,e);return Qw(i,[VL(Gw(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Hi.none())])}function YL(t,e,n,...i){t=Io(t,zt);const r=Io(t.firestore,Zd),a=Gw(r);let u;return u=typeof(e=cn(e))=="string"||e instanceof jd?UL(a,"updateDoc",t._key,e,n,i):kL(a,"updateDoc",t._key,e),Qw(r,[u.toMutation(t._key,Hi.exists(!0))])}function Qw(t,e){return(function(i,r){const a=new Cr;return i.asyncQueue.enqueueAndForget((async()=>hL(await wL(i),r,a))),a.promise})(qw(t),e)}function JL(t,e,n){const i=n.docs.get(e._key),r=new HL(t);return new Eo(t,r,e._key,i,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}function KL(...t){return new vy("arrayUnion",t)}(function(e,n=!0){(function(r){ja=r})(Xa),Ba(new So("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Zd(new bP(i.getProvider("auth-internal")),new NP(u,i.getProvider("app-check-internal")),(function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(h.options.projectId,y)})(u,r),u);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Sr(HE,$E,e),Sr(HE,$E,"esm2020")})();const QL={apiKey:"AIzaSyBZVZNn4tmobjMweFY5ZjRcE-6Pqz5Qk4E",authDomain:"cinescope-815b2.firebaseapp.com",projectId:"cinescope-815b2",storageBucket:"cinescope-815b2.firebasestorage.app",messagingSenderId:"142621755093",appId:"1:142621755093:web:51a909bf4ec41187b4c45c"},Ww=BA(QL),pu=SP(Ww),WL=new vs,Xw=xL(Ww),Zw=F.createContext(),il=()=>F.useContext(Zw);function XL({children:t}){const[e,n]=F.useState(null),[i,r]=F.useState(!0);F.useEffect(()=>cD(pu,T=>{n(T),r(!1)}),[]);const h={user:e,signup:(y,T)=>oD(pu,y,T),login:(y,T)=>aD(pu,y,T),googleSignIn:()=>ND(pu,WL),logout:()=>fD(pu)};return N.jsx(Zw.Provider,{value:h,children:!i&&t})}const ZL=()=>{const{user:t,logout:e}=il(),[n,i]=F.useState(""),r=Fu(),a=async()=>{try{await e()}catch(d){console.error("Logout failed:",d.message)}},u=d=>{d.preventDefault(),n.trim()&&(r(`/search/${n}`),i(""))};return N.jsxs("nav",{className:`bg-gray-900 text-gray-200 
      flex justify-between items-center
      p-4 h-25 :md:text-[15px] 
      font-medium text-nowrap`,children:[N.jsx(Vt,{to:"/",children:N.jsx("h1",{className:`brightness-110 text-2xl font-bold  
         text-red-500 hover:text-red-600 transition`,children:"CineScope"})}),N.jsxs("ul",{className:"hidden xl:flex space-x-6",children:[N.jsx(Vt,{to:"/",children:N.jsx("li",{className:`cursor-pointer
           hover:text-red-500 transition`,children:"Home"})}),N.jsx(Vt,{to:"/tv",children:N.jsx("li",{className:`cursor-pointer
            hover:text-red-500 transition`,children:"Tv Shows"})}),N.jsx(Vt,{to:"/anime",children:N.jsx("li",{className:`cursor-pointer
           hover:text-red-500 transition`,children:"Anime"})}),N.jsx(Vt,{to:"/newandpopular",children:N.jsx("li",{className:`cursor-pointer
           hover:text-red-500 transition`,children:"New & Popular"})}),N.jsx(Vt,{to:"/saved",children:N.jsx("li",{className:`cursor-pointer
           hover:text-red-500 transition`,children:"WatchList"})})]}),N.jsxs("div",{className:"flex items-center space-x-4 relative",children:[N.jsxs("form",{onSubmit:u,className:"hidden md:inline-flex relative",children:[N.jsx("input",{className:"bg-gray-800 px-4 py-2 rounded-full min-w-75 pr-10 outline-none",type:"text",placeholder:"Search",value:n,onChange:d=>i(d.target.value)}),N.jsx("button",{type:"submit",children:N.jsx(Zb,{className:"absolute top-2 right-5 w-5 h-5 text-gray-400 hover:text-red-500 transition"})})]}),N.jsx(Vt,{to:t?"ai-recommendation":"signin",children:N.jsx("button",{className:"bg-red-600 text-white px-4 py-2 font-semibold rounded-tr-2xl rounded-bl-2xl hover:bg-red-700 transition cursor-pointer",children:"CineAI Picks"})}),t?N.jsx("button",{onClick:a,className:"border border-gray-700 transition py-2 px-4 rounded-full cursor-pointer hover:text-red-500",children:"Logout"}):N.jsx(Vt,{to:"/signin",children:N.jsx("button",{className:"border border-gray-700 transition py-2 px-4 rounded-full cursor-pointer hover:text-red-500",children:"Sign In"})})]})]})},ms="a14184b50b9558e803afdc35f0f3f431",Wn={Api_key:ms,requestUpcoming:`https://api.themoviedb.org/3/movie/upcoming?api_key=${ms}&language=en-US&page=1`,requestPopular:`https://api.themoviedb.org/3/movie/popular?api_key=${ms}&language=en-US&page=1`,requestTopRated:`https://api.themoviedb.org/3/movie/top_rated?api_key=${ms}&language=en-US&page=1`,requestTrending:`https://api.themoviedb.org/3/trending/movie/week?api_key=${ms}`,requestGenre:`https://api.themoviedb.org/3/genre/movie/list?api_key=${ms}&language=en-US,`,requestTvShow:`https://api.themoviedb.org/3/tv/popular?api_key=${ms}&language=en-US&page=1`,requestAnime:`https://api.themoviedb.org/3/discover/movie?api_key=${ms}&with_original_language=ja&sort_by=popularity.desc&page=1`,requestSearch:`https://api.themoviedb.org/3/search/movie?api_key=${ms}&query=`};var jL={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function jw(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var i=(t.match(/[^0-9]*$/)||"").toString();return jL[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Ff(t){var e=jw(t);return"".concat(e.value).concat(e.unit)}var ek=function(t,e,n){var i="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return i;var r=document.createElement("style");document.head.appendChild(r);var a=r.sheet,u=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(u,0),i},Dt=function(){return Dt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Dt.apply(this,arguments)},tk=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},nk=ek("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function nc(t){var e=t.loading,n=e===void 0?!0:e,i=t.color,r=i===void 0?"#000000":i,a=t.speedMultiplier,u=a===void 0?1:a,d=t.cssOverride,f=d===void 0?{}:d,h=t.height,y=h===void 0?15:h,T=t.width,E=T===void 0?5:T,w=t.radius,D=w===void 0?2:w,L=t.margin,k=L===void 0?2:L,G=tk(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),q=jw(k).value,z=q+18,X=z/2+z/5.5,j=Dt({display:"inherit",position:"relative",fontSize:"0",top:z,left:z,width:"".concat(z*3,"px"),height:"".concat(z*3,"px")},f),ie=function(Ue){return{position:"absolute",width:Ff(E),height:Ff(y),margin:Ff(k),backgroundColor:r,borderRadius:Ff(D),transition:"2s",animationFillMode:"both",animation:"".concat(nk," ").concat(1.2/u,"s ").concat(Ue*.12,"s infinite ease-in-out")}},M=Dt(Dt({},ie(1)),{top:"".concat(z,"px"),left:"0"}),I=Dt(Dt({},ie(2)),{top:"".concat(X,"px"),left:"".concat(X,"px"),transform:"rotate(-45deg)"}),x=Dt(Dt({},ie(3)),{top:"0",left:"".concat(z,"px"),transform:"rotate(90deg)"}),V=Dt(Dt({},ie(4)),{top:"".concat(-1*X,"px"),left:"".concat(X,"px"),transform:"rotate(45deg)"}),P=Dt(Dt({},ie(5)),{top:"".concat(-1*z,"px"),left:"0"}),O=Dt(Dt({},ie(6)),{top:"".concat(-1*X,"px"),left:"".concat(-1*X,"px"),transform:"rotate(-45deg)"}),U=Dt(Dt({},ie(7)),{top:"0",left:"".concat(-1*z,"px"),transform:"rotate(90deg)"}),Re=Dt(Dt({},ie(8)),{top:"".concat(X,"px"),left:"".concat(-1*X,"px"),transform:"rotate(45deg)"});return n?F.createElement("span",Dt({style:j},G),F.createElement("span",{style:M}),F.createElement("span",{style:I}),F.createElement("span",{style:x}),F.createElement("span",{style:V}),F.createElement("span",{style:P}),F.createElement("span",{style:O}),F.createElement("span",{style:U}),F.createElement("span",{style:Re})):null}function ik(){const[t,e]=F.useState(null),[n,i]=F.useState(!0),{user:r}=il();F.useEffect(()=>{fetch(Wn.requestUpcoming).then(u=>u.json()).then(u=>{if(u.results&&u.results.length>0){const d=Math.floor(Math.random()*u.results.length);e(u.results[d])}}).catch(u=>console.error(u))},[]),F.useEffect(()=>{const u=setTimeout(()=>{i(!1)},1500);return()=>clearTimeout(u)},[]);const a=async()=>{if(!r){alert("Please sign in to save movies!");return}const u=Bw(Xw,"users",r.uid);try{await YL(u,{savedMovies:KL({id:t.id,title:t.title,backdrop_path:t.backdrop_path})}),alert(` "${t.title}" saved for later!`)}catch{await $L(u,{savedMovies:[{id:t.id,title:t.title,backdrop_path:t.backdrop_path}]}),alert(` "${t.title}" saved for later!`)}};return n||!t?N.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900",children:N.jsx("div",{className:"flex flex-col items-center",children:N.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl flex flex-col items-center",children:[N.jsx(nc,{color:"#f43f5e",height:15,width:5,radius:2,margin:2}),N.jsx("p",{className:"text-gray-300 mt-5 text-lg font-medium animate-pulse",children:"Loading...."})]})})}):N.jsxs("div",{className:"relative w-full text-white",children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/original/${t.backdrop_path}`,alt:t.title,className:"w-full h-[600px] object-cover rounded-2xl brightness-75"}),N.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-6 md:px-12 lg:px-20 space-y-6",children:[N.jsxs("div",{children:[N.jsxs("h1",{className:"text-4xl md:text-6xl       font-extrabold leading-tight   tracking-tight",children:["Where Every"," ",N.jsx("span",{className:`block text-transparent 
              bg-clip-text bg-gradient-to-r from-red-500
              via-orange-400 to-yellow-300 animate-pulse`,children:"Frame Tells a Story"})]}),N.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-200 max-w-2xl",children:"Explore trending films, get personalized recommendations, and never miss a great movie again."})]}),N.jsxs("div",{className:"flex space-x-4 mt-6",children:[N.jsxs("button",{onClick:a,className:`flex items-center bg-white text-red-500 font-semibold 
              py-3 px-6 rounded-full hover:bg-gray-200 transition-all`,children:[N.jsx("i",{className:"fa-solid fa-bookmark mr-2"})," Save For Later"]}),N.jsx(Vt,{to:`/movie/${t.id}`,children:N.jsxs("button",{className:`flex items-center bg-red-600 text-white font-semibold 
              py-3 px-6 rounded-full hover:bg-red-700 transition-all`,children:[N.jsx("i",{className:"fa-solid fa-play mr-2"})," Watch Now"]})})]})]})]})}function OS(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ey(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:OS(e[i])&&OS(t[i])&&Object.keys(e[i]).length>0&&Ey(t[i],e[i])})}const eI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Do(){const t=typeof document<"u"?document:{};return Ey(t,eI),t}const sk={document:eI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function pn(){const t=typeof window<"u"?window:{};return Ey(t,sk),t}function rk(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function ok(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function tI(t,e=0){return setTimeout(t,e)}function bd(){return Date.now()}function ak(t){const e=pn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function lk(t,e="x"){const n=pn();let i,r,a;const u=ak(t);return n.WebKitCSSMatrix?(r=u.transform||u.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(r==="none"?"":r)):(a=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=a.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=a.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Gf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function uk(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Pn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const r=t[i];if(r!=null&&!uk(r)){const a=Object.keys(Object(r)).filter(u=>n.indexOf(u)<0);for(let u=0,d=a.length;u<d;u+=1){const f=a[u],h=Object.getOwnPropertyDescriptor(r,f);h!==void 0&&h.enumerable&&(Gf(e[f])&&Gf(r[f])?r[f].__swiper__?e[f]=r[f]:Pn(e[f],r[f]):!Gf(e[f])&&Gf(r[f])?(e[f]={},r[f].__swiper__?e[f]=r[f]:Pn(e[f],r[f])):e[f]=r[f])}}}return e}function Hf(t,e,n){t.style.setProperty(e,n)}function nI({swiper:t,targetPosition:e,side:n}){const i=pn(),r=-t.translate;let a=null,u;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const f=e>r?"next":"prev",h=(T,E)=>f==="next"&&T>=E||f==="prev"&&T<=E,y=()=>{u=new Date().getTime(),a===null&&(a=u);const T=Math.max(Math.min((u-a)/d,1),0),E=.5-Math.cos(T*Math.PI)/2;let w=r+E*(e-r);if(h(w,e)&&(w=e),t.wrapperEl.scrollTo({[n]:w}),h(w,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:w})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(y)};y()}function Es(t,e=""){const n=pn(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function ck(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function fk(t,e){const n=pn();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=ck(t,e))),i}function xd(t){try{console.warn(t);return}catch{}}function lg(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:rk(e)),n}function dk(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function hk(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function vr(t,e){return pn().getComputedStyle(t,null).getPropertyValue(e)}function BS(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function pk(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function qS(t,e,n){const i=pn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function zS(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Im;function mk(){const t=pn(),e=Do();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function iI(){return Im||(Im=mk()),Im}let Rm;function gk({userAgent:t}={}){const e=iI(),n=pn(),i=n.navigator.platform,r=t||n.navigator.userAgent,a={ios:!1,android:!1},u=n.screen.width,d=n.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let h=r.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const y=r.match(/(iPod)(.*OS\s([\d_]+))?/),T=!h&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=i==="Win32";let w=i==="MacIntel";const D=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&w&&e.touch&&D.indexOf(`${u}x${d}`)>=0&&(h=r.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),w=!1),f&&!E&&(a.os="android",a.android=!0),(h||T||y)&&(a.os="ios",a.ios=!0),a}function sI(t={}){return Rm||(Rm=gk(t)),Rm}let bm;function yk(){const t=pn(),e=sI();let n=!1;function i(){const d=t.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(i()){const d=String(t.navigator.userAgent);if(d.includes("Version/")){const[f,h]=d.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));n=f<16||f===16&&h<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=i(),u=a||r&&e.ios;return{isSafari:n||a,needPerspectiveFix:n,need3dFix:u,isWebView:r}}function rI(){return bm||(bm=yk()),bm}function vk({swiper:t,on:e,emit:n}){const i=pn();let r=null,a=null;const u=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(y=>{a=i.requestAnimationFrame(()=>{const{width:T,height:E}=t;let w=T,D=E;y.forEach(({contentBoxSize:L,contentRect:k,target:G})=>{G&&G!==t.el||(w=k?k.width:(L[0]||L).inlineSize,D=k?k.height:(L[0]||L).blockSize)}),(w!==T||D!==E)&&u()})}),r.observe(t.el))},f=()=>{a&&i.cancelAnimationFrame(a),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},h=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",u),i.addEventListener("orientationchange",h)}),e("destroy",()=>{f(),i.removeEventListener("resize",u),i.removeEventListener("orientationchange",h)})}function _k({swiper:t,extendParams:e,on:n,emit:i}){const r=[],a=pn(),u=(h,y={})=>{const T=a.MutationObserver||a.WebkitMutationObserver,E=new T(w=>{if(t.__preventObserver__)return;if(w.length===1){i("observerUpdate",w[0]);return}const D=function(){i("observerUpdate",w[0])};a.requestAnimationFrame?a.requestAnimationFrame(D):a.setTimeout(D,0)});E.observe(h,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:t.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),r.push(E)},d=()=>{if(t.params.observer){if(t.params.observeParents){const h=pk(t.hostEl);for(let y=0;y<h.length;y+=1)u(h[y])}u(t.hostEl,{childList:t.params.observeSlideChildren}),u(t.wrapperEl,{attributes:!1})}},f=()=>{r.forEach(h=>{h.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",d),n("destroy",f)}var Tk={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(a=>{i.eventsListeners[a]||(i.eventsListeners[a]=[]),i.eventsListeners[a][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...a){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,a)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,a)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,r;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(u=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[u,...i])}),e.eventsListeners&&e.eventsListeners[u]&&e.eventsListeners[u].forEach(d=>{d.apply(r,i)})}),e}};function Ek(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(vr(i,"padding-left")||0,10)-parseInt(vr(i,"padding-right")||0,10),n=n-parseInt(vr(i,"padding-top")||0,10)-parseInt(vr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Sk(){const t=this;function e(V,P){return parseFloat(V.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,rtlTranslate:a,wrongRTL:u}=t,d=t.virtual&&n.virtual.enabled,f=d?t.virtual.slides.length:t.slides.length,h=Es(r,`.${t.params.slideClass}, swiper-slide`),y=d?t.virtual.slides.length:h.length;let T=[];const E=[],w=[];let D=n.slidesOffsetBefore;typeof D=="function"&&(D=n.slidesOffsetBefore.call(t));let L=n.slidesOffsetAfter;typeof L=="function"&&(L=n.slidesOffsetAfter.call(t));const k=t.snapGrid.length,G=t.slidesGrid.length,q=t.size-D-L;let z=n.spaceBetween,X=-D,j=0,ie=0;if(typeof q>"u")return;typeof z=="string"&&z.indexOf("%")>=0?z=parseFloat(z.replace("%",""))/100*q:typeof z=="string"&&(z=parseFloat(z)),t.virtualSize=-z-D-L,h.forEach(V=>{a?V.style.marginLeft="":V.style.marginRight="",V.style.marginBottom="",V.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Hf(i,"--swiper-centered-offset-before",""),Hf(i,"--swiper-centered-offset-after",""));const M=n.grid&&n.grid.rows>1&&t.grid;M?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let I;const x=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(V=>typeof n.breakpoints[V].slidesPerView<"u").length>0;for(let V=0;V<y;V+=1){I=0;const P=h[V];if(!(P&&(M&&t.grid.updateSlide(V,P,h),vr(P,"display")==="none"))){if(d&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(I=n.virtual.slidesPerViewAutoSlideSize),I&&P&&(n.roundLengths&&(I=Math.floor(I)),P.style[t.getDirectionLabel("width")]=`${I}px`);else if(n.slidesPerView==="auto"){x&&(P.style[t.getDirectionLabel("width")]="");const O=getComputedStyle(P),U=P.style.transform,Re=P.style.webkitTransform;if(U&&(P.style.transform="none"),Re&&(P.style.webkitTransform="none"),n.roundLengths)I=t.isHorizontal()?qS(P,"width"):qS(P,"height");else{const Ue=e(O,"width"),te=e(O,"padding-left"),ce=e(O,"padding-right"),le=e(O,"margin-left"),ve=e(O,"margin-right"),be=O.getPropertyValue("box-sizing");if(be&&be==="border-box")I=Ue+le+ve;else{const{clientWidth:H,offsetWidth:re}=P;I=Ue+te+ce+le+ve+(re-H)}}U&&(P.style.transform=U),Re&&(P.style.webkitTransform=Re),n.roundLengths&&(I=Math.floor(I))}else I=(q-(n.slidesPerView-1)*z)/n.slidesPerView,n.roundLengths&&(I=Math.floor(I)),P&&(P.style[t.getDirectionLabel("width")]=`${I}px`);P&&(P.swiperSlideSize=I),w.push(I),n.centeredSlides?(X=X+I/2+j/2+z,j===0&&V!==0&&(X=X-q/2-z),V===0&&(X=X-q/2-z),Math.abs(X)<1/1e3&&(X=0),n.roundLengths&&(X=Math.floor(X)),ie%n.slidesPerGroup===0&&T.push(X),E.push(X)):(n.roundLengths&&(X=Math.floor(X)),(ie-Math.min(t.params.slidesPerGroupSkip,ie))%t.params.slidesPerGroup===0&&T.push(X),E.push(X),X=X+I+z),t.virtualSize+=I+z,j=I,ie+=1}}if(t.virtualSize=Math.max(t.virtualSize,q)+L,a&&u&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+z}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+z}px`),M&&t.grid.updateWrapperSize(I,T),!n.centeredSlides){const V=[];for(let P=0;P<T.length;P+=1){let O=T[P];n.roundLengths&&(O=Math.floor(O)),T[P]<=t.virtualSize-q&&V.push(O)}T=V,Math.floor(t.virtualSize-q)-Math.floor(T[T.length-1])>1&&T.push(t.virtualSize-q)}if(d&&n.loop){const V=w[0]+z;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=V*n.slidesPerGroup;for(let U=0;U<P;U+=1)T.push(T[T.length-1]+O)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&T.push(T[T.length-1]+V),E.push(E[E.length-1]+V),t.virtualSize+=V}if(T.length===0&&(T=[0]),z!==0){const V=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");h.filter((P,O)=>!n.cssMode||n.loop?!0:O!==h.length-1).forEach(P=>{P.style[V]=`${z}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let V=0;w.forEach(O=>{V+=O+(z||0)}),V-=z;const P=V>q?V-q:0;T=T.map(O=>O<=0?-D:O>P?P+L:O)}if(n.centerInsufficientSlides){let V=0;w.forEach(O=>{V+=O+(z||0)}),V-=z;const P=(D||0)+(L||0);if(V+P<q){const O=(q-V-P)/2;T.forEach((U,Re)=>{T[Re]=U-O}),E.forEach((U,Re)=>{E[Re]=U+O})}}if(Object.assign(t,{slides:h,snapGrid:T,slidesGrid:E,slidesSizesGrid:w}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Hf(i,"--swiper-centered-offset-before",`${-T[0]}px`),Hf(i,"--swiper-centered-offset-after",`${t.size/2-w[w.length-1]/2}px`);const V=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+V),t.slidesGrid=t.slidesGrid.map(O=>O+P)}if(y!==f&&t.emit("slidesLengthChange"),T.length!==k&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),E.length!==G&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const V=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(V);y<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(V):P&&t.el.classList.remove(V)}}function Ak(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const u=d=>i?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{n.push(d)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const d=e.activeIndex+a;if(d>e.slides.length&&!i)break;n.push(u(d))}else n.push(u(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const d=n[a].offsetHeight;r=d>r?d:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Ck(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const FS=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function wk(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:a}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-t;r&&(u=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=n.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<i.length;f+=1){const h=i[f];let y=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(y-=i[0].swiperSlideOffset);const T=(u+(n.centeredSlides?e.minTranslate():0)-y)/(h.swiperSlideSize+d),E=(u-a[0]+(n.centeredSlides?e.minTranslate():0)-y)/(h.swiperSlideSize+d),w=-(u-y),D=w+e.slidesSizesGrid[f],L=w>=0&&w<=e.size-e.slidesSizesGrid[f],k=w>=0&&w<e.size-1||D>1&&D<=e.size||w<=0&&D>=e.size;k&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(f)),FS(h,k,n.slideVisibleClass),FS(h,L,n.slideFullyVisibleClass),h.progress=r?-T:T,h.originalProgress=r?-E:E}}function Ik(t){const e=this;if(typeof t>"u"){const y=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*y||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:a,isEnd:u,progressLoop:d}=e;const f=a,h=u;if(i===0)r=0,a=!0,u=!0;else{r=(t-e.minTranslate())/i;const y=Math.abs(t-e.minTranslate())<1,T=Math.abs(t-e.maxTranslate())<1;a=y||r<=0,u=T||r>=1,y&&(r=0),T&&(r=1)}if(n.loop){const y=e.getSlideIndexByData(0),T=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[y],w=e.slidesGrid[T],D=e.slidesGrid[e.slidesGrid.length-1],L=Math.abs(t);L>=E?d=(L-E)/D:d=(L+D-w)/D,d>1&&(d-=1)}Object.assign(e,{progress:r,progressLoop:d,isBeginning:a,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!f&&e.emit("reachBeginning toEdge"),u&&!h&&e.emit("reachEnd toEdge"),(f&&!a||h&&!u)&&e.emit("fromEdge"),e.emit("progress",r)}const xm=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Rk(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,a=t.virtual&&n.virtual.enabled,u=t.grid&&n.grid&&n.grid.rows>1,d=T=>Es(i,`.${n.slideClass}${T}, swiper-slide${T}`)[0];let f,h,y;if(a)if(n.loop){let T=r-t.virtual.slidesBefore;T<0&&(T=t.virtual.slides.length+T),T>=t.virtual.slides.length&&(T-=t.virtual.slides.length),f=d(`[data-swiper-slide-index="${T}"]`)}else f=d(`[data-swiper-slide-index="${r}"]`);else u?(f=e.find(T=>T.column===r),y=e.find(T=>T.column===r+1),h=e.find(T=>T.column===r-1)):f=e[r];f&&(u||(y=hk(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!y&&(y=e[0]),h=dk(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(T=>{xm(T,T===f,n.slideActiveClass),xm(T,T===y,n.slideNextClass),xm(T,T===h,n.slidePrevClass)}),t.emitSlidesClasses()}const sd=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Mm=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},ug=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const u=r,d=[u-e];d.push(...Array.from({length:e}).map((f,h)=>u+i+h)),t.slides.forEach((f,h)=>{d.includes(f.column)&&Mm(t,h)});return}const a=r+i-1;if(t.params.rewind||t.params.loop)for(let u=r-e;u<=a+e;u+=1){const d=(u%n+n)%n;(d<r||d>a)&&Mm(t,d)}else for(let u=Math.max(r-e,0);u<=Math.min(a+e,n-1);u+=1)u!==r&&(u>a||u<r)&&Mm(t,u)};function bk(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?i>=e[a]&&i<e[a+1]-(e[a+1]-e[a])/2?r=a:i>=e[a]&&i<e[a+1]&&(r=a+1):i>=e[a]&&(r=a);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function xk(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:a,realIndex:u,snapIndex:d}=e;let f=t,h;const y=w=>{let D=w-e.virtual.slidesBefore;return D<0&&(D=e.virtual.slides.length+D),D>=e.virtual.slides.length&&(D-=e.virtual.slides.length),D};if(typeof f>"u"&&(f=bk(e)),i.indexOf(n)>=0)h=i.indexOf(n);else{const w=Math.min(r.slidesPerGroupSkip,f);h=w+Math.floor((f-w)/r.slidesPerGroup)}if(h>=i.length&&(h=i.length-1),f===a&&!e.params.loop){h!==d&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(f===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const T=e.grid&&r.grid&&r.grid.rows>1;let E;if(e.virtual&&r.virtual.enabled&&r.loop)E=y(f);else if(T){const w=e.slides.find(L=>L.column===f);let D=parseInt(w.getAttribute("data-swiper-slide-index"),10);Number.isNaN(D)&&(D=Math.max(e.slides.indexOf(w),0)),E=Math.floor(D/r.grid.rows)}else if(e.slides[f]){const w=e.slides[f].getAttribute("data-swiper-slide-index");w?E=parseInt(w,10):E=f}else E=f;Object.assign(e,{previousSnapIndex:d,snapIndex:h,previousRealIndex:u,realIndex:E,previousIndex:a,activeIndex:f}),e.initialized&&ug(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function Mk(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(d=>{!r&&d.matches&&d.matches(`.${i.slideClass}, swiper-slide`)&&(r=d)});let a=!1,u;if(r){for(let d=0;d<n.slides.length;d+=1)if(n.slides[d]===r){a=!0,u=d;break}}if(r&&a)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=u;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Nk={updateSize:Ek,updateSlides:Sk,updateAutoHeight:Ak,updateSlidesOffset:Ck,updateSlidesProgress:wk,updateProgress:Ik,updateSlidesClasses:Rk,updateActiveIndex:xk,updateClickedSlide:Mk};function Dk(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:a}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let u=lk(a,t);return u+=e.cssOverflowAdjustment(),i&&(u=-u),u||0}function Pk(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:a,progress:u}=n;let d=0,f=0;const h=0;n.isHorizontal()?d=i?-t:t:f=t,r.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?d:f,r.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-d:-f:r.virtualTranslate||(n.isHorizontal()?d-=n.cssOverflowAdjustment():f-=n.cssOverflowAdjustment(),a.style.transform=`translate3d(${d}px, ${f}px, ${h}px)`);let y;const T=n.maxTranslate()-n.minTranslate();T===0?y=0:y=(t-n.minTranslate())/T,y!==u&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Vk(){return-this.snapGrid[0]}function Lk(){return-this.snapGrid[this.snapGrid.length-1]}function kk(t=0,e=this.params.speed,n=!0,i=!0,r){const a=this,{params:u,wrapperEl:d}=a;if(a.animating&&u.preventInteractionOnTransition)return!1;const f=a.minTranslate(),h=a.maxTranslate();let y;if(i&&t>f?y=f:i&&t<h?y=h:y=t,a.updateProgress(y),u.cssMode){const T=a.isHorizontal();if(e===0)d[T?"scrollLeft":"scrollTop"]=-y;else{if(!a.support.smoothScroll)return nI({swiper:a,targetPosition:-y,side:T?"left":"top"}),!0;d.scrollTo({[T?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(y),n&&(a.emit("beforeTransitionStart",e,r),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(y),n&&(a.emit("beforeTransitionStart",e,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(E){!a||a.destroyed||E.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var Uk={getTranslate:Dk,setTranslate:Pk,minTranslate:Vk,maxTranslate:Lk,translateTo:kk};function Ok(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function oI({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:r,previousIndex:a}=t;let u=n;u||(r>a?u="next":r<a?u="prev":u="reset"),t.emit(`transition${i}`),e&&u==="reset"?t.emit(`slideResetTransition${i}`):e&&r!==a&&(t.emit(`slideChangeTransition${i}`),u==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function Bk(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),oI({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function qk(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),oI({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var zk={setTransition:Ok,transitionStart:Bk,transitionEnd:qk};function Fk(t=0,e,n=!0,i,r){typeof t=="string"&&(t=parseInt(t,10));const a=this;let u=t;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:h,previousIndex:y,activeIndex:T,rtlTranslate:E,wrapperEl:w,enabled:D}=a;if(!D&&!i&&!r||a.destroyed||a.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const L=Math.min(a.params.slidesPerGroupSkip,u);let k=L+Math.floor((u-L)/a.params.slidesPerGroup);k>=f.length&&(k=f.length-1);const G=-f[k];if(d.normalizeSlideIndex)for(let M=0;M<h.length;M+=1){const I=-Math.floor(G*100),x=Math.floor(h[M]*100),V=Math.floor(h[M+1]*100);typeof h[M+1]<"u"?I>=x&&I<V-(V-x)/2?u=M:I>=x&&I<V&&(u=M+1):I>=x&&(u=M)}if(a.initialized&&u!==T&&(!a.allowSlideNext&&(E?G>a.translate&&G>a.minTranslate():G<a.translate&&G<a.minTranslate())||!a.allowSlidePrev&&G>a.translate&&G>a.maxTranslate()&&(T||0)!==u))return!1;u!==(y||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(G);let q;u>T?q="next":u<T?q="prev":q="reset";const z=a.virtual&&a.params.virtual.enabled;if(!(z&&r)&&(E&&-G===a.translate||!E&&G===a.translate))return a.updateActiveIndex(u),d.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),d.effect!=="slide"&&a.setTranslate(G),q!=="reset"&&(a.transitionStart(n,q),a.transitionEnd(n,q)),!1;if(d.cssMode){const M=a.isHorizontal(),I=E?G:-G;if(e===0)z&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),z&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[M?"scrollLeft":"scrollTop"]=I})):w[M?"scrollLeft":"scrollTop"]=I,z&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return nI({swiper:a,targetPosition:I,side:M?"left":"top"}),!0;w.scrollTo({[M?"left":"top"]:I,behavior:"smooth"})}return!0}const ie=rI().isSafari;return z&&!r&&ie&&a.isElement&&a.virtual.update(!1,!1,u),a.setTransition(e),a.setTranslate(G),a.updateActiveIndex(u),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(n,q),e===0?a.transitionEnd(n,q):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(I){!a||a.destroyed||I.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,q))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function Gk(t=0,e,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const a=r.grid&&r.params.grid&&r.params.grid.rows>1;let u=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)u=u+r.virtual.slidesBefore;else{let d;if(a){const L=u*r.params.grid.rows;d=r.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===L).column}else d=r.getSlideIndexByData(u);const f=a?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:h,slidesOffsetBefore:y,slidesOffsetAfter:T}=r.params,E=h||!!y||!!T;let w=r.params.slidesPerView;w==="auto"?w=r.slidesPerViewDynamic():(w=Math.ceil(parseFloat(r.params.slidesPerView,10)),E&&w%2===0&&(w=w+1));let D=f-d<w;if(E&&(D=D||d<Math.ceil(w/2)),i&&E&&r.params.slidesPerView!=="auto"&&!a&&(D=!1),D){const L=E?d<r.activeIndex?"prev":"next":d-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:L,slideTo:!0,activeSlideIndex:L==="next"?d+1:d-f+1,slideRealIndex:L==="next"?r.realIndex:void 0})}if(a){const L=u*r.params.grid.rows;u=r.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===L).column}else u=r.getSlideIndexByData(u)}return requestAnimationFrame(()=>{r.slideTo(u,e,n,i)}),r}function Hk(t,e=!0,n){const i=this,{enabled:r,params:a,animating:u}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let d=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const f=i.activeIndex<a.slidesPerGroupSkip?1:d,h=i.virtual&&a.virtual.enabled;if(a.loop){if(u&&!h&&a.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+f,t,e,n)}),!0}return a.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+f,t,e,n)}function $k(t,e=!0,n){const i=this,{params:r,snapGrid:a,slidesGrid:u,rtlTranslate:d,enabled:f,animating:h}=i;if(!f||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const y=i.virtual&&r.virtual.enabled;if(r.loop){if(h&&!y&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const T=d?i.translate:-i.translate;function E(q){return q<0?-Math.floor(Math.abs(q)):Math.floor(q)}const w=E(T),D=a.map(q=>E(q)),L=r.freeMode&&r.freeMode.enabled;let k=a[D.indexOf(w)-1];if(typeof k>"u"&&(r.cssMode||L)){let q;a.forEach((z,X)=>{w>=z&&(q=X)}),typeof q<"u"&&(k=L?a[q]:a[q>0?q-1:q])}let G=0;if(typeof k<"u"&&(G=u.indexOf(k),G<0&&(G=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(G=G-i.slidesPerViewDynamic("previous",!0)+1,G=Math.max(G,0))),r.rewind&&i.isBeginning){const q=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(q,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(G,t,e,n)}),!0;return i.slideTo(G,t,e,n)}function Yk(t,e=!0,n){const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function Jk(t,e=!0,n,i=.5){const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let a=r.activeIndex;const u=Math.min(r.params.slidesPerGroupSkip,a),d=u+Math.floor((a-u)/r.params.slidesPerGroup),f=r.rtlTranslate?r.translate:-r.translate;if(f>=r.snapGrid[d]){const h=r.snapGrid[d],y=r.snapGrid[d+1];f-h>(y-h)*i&&(a+=r.params.slidesPerGroup)}else{const h=r.snapGrid[d-1],y=r.snapGrid[d];f-h<=(y-h)*i&&(a-=r.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,r.slidesGrid.length-1),r.slideTo(a,t,e,n)}function Kk(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.getSlideIndexWhenGrid(t.clickedIndex),a;const u=t.isElement?"swiper-slide":`.${e.slideClass}`,d=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(a):r>(d?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),r=t.getSlideIndex(Es(n,`${u}[data-swiper-slide-index="${a}"]`)[0]),tI(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var Qk={slideTo:Fk,slideToLoop:Gk,slideNext:Hk,slidePrev:$k,slideReset:Yk,slideToClosest:Jk,slideToClickedSlide:Kk};function Wk(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const a=()=>{Es(r,`.${i.slideClass}, swiper-slide`).forEach((D,L)=>{D.setAttribute("data-swiper-slide-index",L)})},u=()=>{const w=Es(r,`.${i.slideBlankClass}`);w.forEach(D=>{D.remove()}),w.length>0&&(n.recalcSlides(),n.updateSlides())},d=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||d)&&u();const f=i.slidesPerGroup*(d?i.grid.rows:1),h=n.slides.length%f!==0,y=d&&n.slides.length%i.grid.rows!==0,T=w=>{for(let D=0;D<w;D+=1){const L=n.isElement?lg("swiper-slide",[i.slideBlankClass]):lg("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(L)}};if(h){if(i.loopAddBlankSlides){const w=f-n.slides.length%f;T(w),n.recalcSlides(),n.updateSlides()}else xd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(y){if(i.loopAddBlankSlides){const w=i.grid.rows-n.slides.length%i.grid.rows;T(w),n.recalcSlides(),n.updateSlides()}else xd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();const E=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:E?void 0:"next",initial:e})}function Xk({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:a,byController:u,byMousewheel:d}={}){const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:h,allowSlidePrev:y,allowSlideNext:T,slidesEl:E,params:w}=f,{centeredSlides:D,slidesOffsetBefore:L,slidesOffsetAfter:k,initialSlide:G}=w,q=D||!!L||!!k;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&w.virtual.enabled){e&&(!q&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):q&&f.snapIndex<w.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=y,f.allowSlideNext=T,f.emit("loopFix");return}let z=w.slidesPerView;z==="auto"?z=f.slidesPerViewDynamic():(z=Math.ceil(parseFloat(w.slidesPerView,10)),q&&z%2===0&&(z=z+1));const X=w.slidesPerGroupAuto?z:w.slidesPerGroup;let j=q?Math.max(X,Math.ceil(z/2)):X;j%X!==0&&(j+=X-j%X),j+=w.loopAdditionalSlides,f.loopedSlides=j;const ie=f.grid&&w.grid&&w.grid.rows>1;h.length<z+j||f.params.effect==="cards"&&h.length<z+j*2?xd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ie&&w.grid.fill==="row"&&xd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const M=[],I=[],x=ie?Math.ceil(h.length/w.grid.rows):h.length,V=a&&x-G<z&&!q;let P=V?G:f.activeIndex;typeof r>"u"?r=f.getSlideIndex(h.find(le=>le.classList.contains(w.slideActiveClass))):P=r;const O=n==="next"||!n,U=n==="prev"||!n;let Re=0,Ue=0;const ce=(ie?h[r].column:r)+(q&&typeof i>"u"?-z/2+.5:0);if(ce<j){Re=Math.max(j-ce,X);for(let le=0;le<j-ce;le+=1){const ve=le-Math.floor(le/x)*x;if(ie){const be=x-ve-1;for(let H=h.length-1;H>=0;H-=1)h[H].column===be&&M.push(H)}else M.push(x-ve-1)}}else if(ce+z>x-j){Ue=Math.max(ce-(x-j*2),X),V&&(Ue=Math.max(Ue,z-x+G+1));for(let le=0;le<Ue;le+=1){const ve=le-Math.floor(le/x)*x;ie?h.forEach((be,H)=>{be.column===ve&&I.push(H)}):I.push(ve)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&h.length<z+j*2&&(I.includes(r)&&I.splice(I.indexOf(r),1),M.includes(r)&&M.splice(M.indexOf(r),1)),U&&M.forEach(le=>{h[le].swiperLoopMoveDOM=!0,E.prepend(h[le]),h[le].swiperLoopMoveDOM=!1}),O&&I.forEach(le=>{h[le].swiperLoopMoveDOM=!0,E.append(h[le]),h[le].swiperLoopMoveDOM=!1}),f.recalcSlides(),w.slidesPerView==="auto"?f.updateSlides():ie&&(M.length>0&&U||I.length>0&&O)&&f.slides.forEach((le,ve)=>{f.grid.updateSlide(ve,le,f.slides)}),w.watchSlidesProgress&&f.updateSlidesOffset(),e){if(M.length>0&&U){if(typeof t>"u"){const le=f.slidesGrid[P],be=f.slidesGrid[P+Re]-le;d?f.setTranslate(f.translate-be):(f.slideTo(P+Math.ceil(Re),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-be,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-be))}else if(i){const le=ie?M.length/w.grid.rows:M.length;f.slideTo(f.activeIndex+le,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(I.length>0&&O)if(typeof t>"u"){const le=f.slidesGrid[P],be=f.slidesGrid[P-Ue]-le;d?f.setTranslate(f.translate-be):(f.slideTo(P-Ue,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-be,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-be))}else{const le=ie?I.length/w.grid.rows:I.length;f.slideTo(f.activeIndex-le,0,!1,!0)}}if(f.allowSlidePrev=y,f.allowSlideNext=T,f.controller&&f.controller.control&&!u){const le={slideRealIndex:t,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(ve=>{!ve.destroyed&&ve.params.loop&&ve.loopFix({...le,slideTo:ve.params.slidesPerView===w.slidesPerView?e:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...le,slideTo:f.controller.control.params.slidesPerView===w.slidesPerView?e:!1})}f.emit("loopFix")}function Zk(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const a=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[a]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var jk={loopCreate:Wk,loopFix:Xk,loopDestroy:Zk};function eU(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function tU(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var nU={setGrabCursor:eU,unsetGrabCursor:tU};function iU(t,e=this){function n(i){if(!i||i===Do()||i===pn())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function GS(t,e,n){const i=pn(),{params:r}=t,a=r.edgeSwipeDetection,u=r.edgeSwipeThreshold;return a&&(n<=u||n>=i.innerWidth-u)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function sU(t){const e=this,n=Do();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){GS(e,i,i.targetTouches[0].pageX);return}const{params:a,touches:u,enabled:d}=e;if(!d||!a.simulateTouch&&i.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=i.target;if(a.touchEventsTarget==="wrapper"&&!fk(f,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const h=!!a.noSwipingClass&&a.noSwipingClass!=="",y=i.composedPath?i.composedPath():i.path;h&&i.target&&i.target.shadowRoot&&y&&(f=y[0]);const T=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,E=!!(i.target&&i.target.shadowRoot);if(a.noSwiping&&(E?iU(T,f):f.closest(T))){e.allowClick=!0;return}if(a.swipeHandler&&!f.closest(a.swipeHandler))return;u.currentX=i.pageX,u.currentY=i.pageY;const w=u.currentX,D=u.currentY;if(!GS(e,i,w))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=w,u.startY=D,r.touchStartTime=bd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(r.allowThresholdMove=!1);let L=!0;f.matches(r.focusableElements)&&(L=!1,f.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==f&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!f.matches(r.focusableElements))&&n.activeElement.blur();const k=L&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||k)&&!f.isContentEditable&&i.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function rU(t){const e=Do(),n=this,i=n.touchEventsData,{params:r,touches:a,rtlTranslate:u,enabled:d}=n;if(!d||!r.simulateTouch&&t.pointerType==="mouse")return;let f=t;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(i.touchId!==null||f.pointerId!==i.pointerId))return;let h;if(f.type==="touchmove"){if(h=[...f.changedTouches].find(j=>j.identifier===i.touchId),!h||h.identifier!==i.touchId)return}else h=f;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",f);return}const y=h.pageX,T=h.pageY;if(f.preventedByNestedSwiper){a.startX=y,a.startY=T;return}if(!n.allowTouchMove){f.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(a,{startX:y,startY:T,currentX:y,currentY:T}),i.touchStartTime=bd());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(T<a.startY&&n.translate<=n.maxTranslate()||T>a.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(u&&(y>a.startX&&-n.translate<=n.maxTranslate()||y<a.startX&&-n.translate>=n.minTranslate()))return;if(!u&&(y<a.startX&&n.translate<=n.maxTranslate()||y>a.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",f),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=y,a.currentY=T;const E=a.currentX-a.startX,w=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(E**2+w**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let j;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:E*E+w*w>=25&&(j=Math.atan2(Math.abs(w),Math.abs(E))*180/Math.PI,i.isScrolling=n.isHorizontal()?j>r.touchAngle:90-j>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",f),typeof i.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(i.startMoving=!0),i.isScrolling||f.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&f.cancelable&&f.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&f.stopPropagation();let D=n.isHorizontal()?E:w,L=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;r.oneWayMovement&&(D=Math.abs(D)*(u?1:-1),L=Math.abs(L)*(u?1:-1)),a.diff=D,D*=r.touchRatio,u&&(D=-D,L=-L);const k=n.touchesDirection;n.swipeDirection=D>0?"prev":"next",n.touchesDirection=L>0?"prev":"next";const G=n.params.loop&&!r.cssMode,q=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(G&&q&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&k!==n.touchesDirection&&G&&q&&Math.abs(D)>=1){Object.assign(a,{startX:y,startY:T,currentX:y,currentY:T,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",f),i.isMoved=!0,i.currentTranslate=D+i.startTranslate;let z=!0,X=r.resistanceRatio;if(r.touchReleaseOnEdges&&(X=0),D>0?(G&&q&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(z=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+D)**X))):D<0&&(G&&q&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(z=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-D)**X))),z&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(D)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function oU(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(j=>j.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:u,touches:d,rtlTranslate:f,slidesGrid:h,enabled:y}=e;if(!y||!u.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&u.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}u.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const T=bd(),E=T-n.touchStartTime;if(e.allowClick){const j=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(j&&j[0]||i.target,j),e.emit("tap click",i),E<300&&T-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=bd(),tI(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||d.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let w;if(u.followFinger?w=f?e.translate:-e.translate:w=-n.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:w});return}const D=w>=-e.maxTranslate()&&!e.params.loop;let L=0,k=e.slidesSizesGrid[0];for(let j=0;j<h.length;j+=j<u.slidesPerGroupSkip?1:u.slidesPerGroup){const ie=j<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof h[j+ie]<"u"?(D||w>=h[j]&&w<h[j+ie])&&(L=j,k=h[j+ie]-h[j]):(D||w>=h[j])&&(L=j,k=h[h.length-1]-h[h.length-2])}let G=null,q=null;u.rewind&&(e.isBeginning?q=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(G=0));const z=(w-h[L])/k,X=L<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(E>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(z>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?G:L+X):e.slideTo(L)),e.swipeDirection==="prev"&&(z>1-u.longSwipesRatio?e.slideTo(L+X):q!==null&&z<0&&Math.abs(z)>u.longSwipesRatio?e.slideTo(q):e.slideTo(L))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(L+X):e.slideTo(L):(e.swipeDirection==="next"&&e.slideTo(G!==null?G:L+X),e.swipeDirection==="prev"&&e.slideTo(q!==null?q:L))}}function HS(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:a}=t,u=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!d?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!u?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function aU(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function lU(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const a=t.maxTranslate()-t.minTranslate();a===0?r=0:r=(t.translate-t.minTranslate())/a,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function uU(t){const e=this;sd(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function cU(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const aI=(t,e)=>{const n=Do(),{params:i,el:r,wrapperEl:a,device:u}=t,d=!!i.nested,f=e==="on"?"addEventListener":"removeEventListener",h=e;!r||typeof r=="string"||(n[f]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:d}),r[f]("touchstart",t.onTouchStart,{passive:!1}),r[f]("pointerdown",t.onTouchStart,{passive:!1}),n[f]("touchmove",t.onTouchMove,{passive:!1,capture:d}),n[f]("pointermove",t.onTouchMove,{passive:!1,capture:d}),n[f]("touchend",t.onTouchEnd,{passive:!0}),n[f]("pointerup",t.onTouchEnd,{passive:!0}),n[f]("pointercancel",t.onTouchEnd,{passive:!0}),n[f]("touchcancel",t.onTouchEnd,{passive:!0}),n[f]("pointerout",t.onTouchEnd,{passive:!0}),n[f]("pointerleave",t.onTouchEnd,{passive:!0}),n[f]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[f]("click",t.onClick,!0),i.cssMode&&a[f]("scroll",t.onScroll),i.updateOnWindowResize?t[h](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",HS,!0):t[h]("observerUpdate",HS,!0),r[f]("load",t.onLoad,{capture:!0}))};function fU(){const t=this,{params:e}=t;t.onTouchStart=sU.bind(t),t.onTouchMove=rU.bind(t),t.onTouchEnd=oU.bind(t),t.onDocumentTouchStart=cU.bind(t),e.cssMode&&(t.onScroll=lU.bind(t)),t.onClick=aU.bind(t),t.onLoad=uU.bind(t),aI(t,"on")}function dU(){aI(this,"off")}var hU={attachEvents:fU,detachEvents:dU};const $S=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function pU(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,a=i.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const u=Do(),d=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",f=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:u.querySelector(i.breakpointsBase),h=t.getBreakpoint(a,d,f);if(!h||t.currentBreakpoint===h)return;const T=(h in a?a[h]:void 0)||t.originalParams,E=$S(t,i),w=$S(t,T),D=t.params.grabCursor,L=T.grabCursor,k=i.enabled;E&&!w?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!E&&w&&(r.classList.add(`${i.containerModifierClass}grid`),(T.grid.fill&&T.grid.fill==="column"||!T.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),D&&!L?t.unsetGrabCursor():!D&&L&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ie=>{if(typeof T[ie]>"u")return;const M=i[ie]&&i[ie].enabled,I=T[ie]&&T[ie].enabled;M&&!I&&t[ie].disable(),!M&&I&&t[ie].enable()});const G=T.direction&&T.direction!==i.direction,q=i.loop&&(T.slidesPerView!==i.slidesPerView||G),z=i.loop;G&&n&&t.changeDirection(),Pn(t.params,T);const X=t.params.enabled,j=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),k&&!X?t.disable():!k&&X&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",T),n&&(q?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!z&&j?(t.loopCreate(e),t.updateSlides()):z&&!j&&t.loopDestroy()),t.emit("breakpoint",T)}function mU(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const r=pn(),a=e==="window"?r.innerHeight:n.clientHeight,u=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:a*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:h}=u[d];e==="window"?r.matchMedia(`(min-width: ${h}px)`).matches&&(i=f):h<=n.clientWidth&&(i=f)}return i||"max"}var gU={setBreakpoint:pU,getBreakpoint:mU};function yU(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function vU(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:a}=t,u=yU(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...u),r.classList.add(...e),t.emitContainerClasses()}function _U(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var TU={addClasses:vU,removeClasses:_U};function EU(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,a=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var SU={checkOverflow:EU},cg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function AU(t,e){return function(i={}){const r=Object.keys(i)[0],a=i[r];if(typeof a!="object"||a===null){Pn(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in a)){Pn(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Pn(e,i)}}const Nm={eventsEmitter:Tk,update:Nk,translate:Uk,transition:zk,slide:Qk,loop:jk,grabCursor:nU,events:hU,breakpoints:gU,checkOverflow:SU,classes:TU},Dm={};let Sy=class ys{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=Pn({},i),n&&!i.el&&(i.el=n);const r=Do();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const f=[];return r.querySelectorAll(i.el).forEach(h=>{const y=Pn({},i,{el:h});f.push(new ys(y))}),f}const a=this;a.__swiper__=!0,a.support=iI(),a.device=sI({userAgent:i.userAgent}),a.browser=rI(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],i.modules&&Array.isArray(i.modules)&&a.modules.push(...i.modules);const u={};a.modules.forEach(f=>{f({params:i,swiper:a,extendParams:AU(i,u),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const d=Pn({},cg,u);return a.params=Pn({},d,Dm,i),a.originalParams=Pn({},a.params),a.passedParams=Pn({},i),a.params&&a.params.on&&Object.keys(a.params.on).forEach(f=>{a.on(f,a.params.on[f])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Es(n,`.${i.slideClass}, swiper-slide`),a=BS(r[0]);return BS(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Es(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),u=(i.maxTranslate()-r)*e+r;i.translateTo(u,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:r,slides:a,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:h}=i;let y=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let T=a[h]?Math.ceil(a[h].swiperSlideSize):0,E;for(let w=h+1;w<a.length;w+=1)a[w]&&!E&&(T+=Math.ceil(a[w].swiperSlideSize),y+=1,T>f&&(E=!0));for(let w=h-1;w>=0;w-=1)a[w]&&!E&&(T+=a[w].swiperSlideSize,y+=1,T>f&&(E=!0))}else if(e==="current")for(let T=h+1;T<a.length;T+=1)(n?u[T]+d[T]-u[h]<f:u[T]-u[h]<f)&&(y+=1);else for(let T=h-1;T>=0;T-=1)u[h]-u[T]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&sd(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const u=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(u.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Es(i,r())[0];return!u&&n.params.createElements&&(u=lg("div",n.params.wrapperClass),i.append(u),Es(i,`.${n.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(n,{el:i,wrapperEl:u,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:u,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||vr(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||vr(i,"direction")==="rtl"),wrongRTL:vr(u,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(a=>{a.complete?sd(n,a):a.addEventListener("load",u=>{sd(n,u.target)})}),ug(n),n.initialized=!0,ug(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const i=this,{params:r,el:a,wrapperEl:u,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(f=>{i.off(f)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),ok(i)),i.destroyed=!0),null}static extendDefaults(e){Pn(Dm,e)}static get extendedDefaults(){return Dm}static get defaults(){return cg}static installModule(e){ys.prototype.__modules__||(ys.prototype.__modules__=[]);const n=ys.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>ys.installModule(n)),ys):(ys.installModule(e),ys)}};Object.keys(Nm).forEach(t=>{Object.keys(Nm[t]).forEach(e=>{Sy.prototype[e]=Nm[t][e]})});Sy.use([vk,_k]);const lI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function bo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Va(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:bo(e[i])&&bo(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Va(t[i],e[i]):t[i]=e[i]})}function uI(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function cI(t={}){return t.pagination&&typeof t.pagination.el>"u"}function fI(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function dI(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function CU(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function wU({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:r,prevEl:a,scrollbarEl:u,paginationEl:d}){const f=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:h,pagination:y,navigation:T,scrollbar:E,virtual:w,thumbs:D}=t;let L,k,G,q,z,X,j,ie;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(L=!0),i.includes("controller")&&n.controller&&n.controller.control&&h.controller&&!h.controller.control&&(k=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(h.pagination||h.pagination===!1)&&y&&!y.el&&(G=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||u)&&(h.scrollbar||h.scrollbar===!1)&&E&&!E.el&&(q=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||r)&&(h.navigation||h.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&(z=!0);const M=I=>{t[I]&&(t[I].destroy(),I==="navigation"?(t.isElement&&(t[I].prevEl.remove(),t[I].nextEl.remove()),h[I].prevEl=void 0,h[I].nextEl=void 0,t[I].prevEl=void 0,t[I].nextEl=void 0):(t.isElement&&t[I].el.remove(),h[I].el=void 0,t[I].el=void 0))};i.includes("loop")&&t.isElement&&(h.loop&&!n.loop?X=!0:!h.loop&&n.loop?j=!0:ie=!0),f.forEach(I=>{if(bo(h[I])&&bo(n[I]))Object.assign(h[I],n[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in n[I]&&!n[I].enabled&&M(I);else{const x=n[I];(x===!0||x===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?x===!1&&M(I):h[I]=n[I]}}),f.includes("controller")&&!k&&t.controller&&t.controller.control&&h.controller&&h.controller.control&&(t.controller.control=h.controller.control),i.includes("children")&&e&&w&&h.virtual.enabled?(w.slides=e,w.update(!0)):i.includes("virtual")&&w&&h.virtual.enabled&&(e&&(w.slides=e),w.update(!0)),i.includes("children")&&e&&h.loop&&(ie=!0),L&&D.init()&&D.update(!0),k&&(t.controller.control=h.controller.control),G&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),t.el.appendChild(d)),d&&(h.pagination.el=d),y.init(),y.render(),y.update()),q&&(t.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-scrollbar"),u.part.add("scrollbar"),t.el.appendChild(u)),u&&(h.scrollbar.el=u),E.init(),E.updateSize(),E.setTranslate()),z&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),zS(r,t.navigation.arrowSvg),r.part.add("button-next"),t.el.appendChild(r)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),zS(a,t.navigation.arrowSvg),a.part.add("button-prev"),t.el.appendChild(a))),r&&(h.navigation.nextEl=r),a&&(h.navigation.prevEl=a),T.init(),T.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(X||ie)&&t.loopDestroy(),(j||ie)&&t.loopCreate(),t.update()}function IU(t={},e=!0){const n={on:{}},i={},r={};Va(n,cg),n._emitClasses=!0,n.init=!1;const a={},u=lI.map(f=>f.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(f=>{typeof t[f]>"u"||(u.indexOf(f)>=0?bo(t[f])?(n[f]={},r[f]={},Va(n[f],t[f]),Va(r[f],t[f])):(n[f]=t[f],r[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?i[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:a[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:r,rest:a,events:i}}function RU({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:r,swiper:a},u){uI(u)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),cI(u)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),fI(u)&&r&&(a.params.scrollbar.el=r,a.originalParams.scrollbar.el=r),a.init(t)}function bU(t,e,n,i,r){const a=[];if(!e)return a;const u=f=>{a.indexOf(f)<0&&a.push(f)};if(n&&i){const f=i.map(r),h=n.map(r);f.join("")!==h.join("")&&u("children"),i.length!==n.length&&u("children")}return lI.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(bo(t[f])&&bo(e[f])){const h=Object.keys(t[f]),y=Object.keys(e[f]);h.length!==y.length?u(f):(h.forEach(T=>{t[f][T]!==e[f][T]&&u(f)}),y.forEach(T=>{t[f][T]!==e[f][T]&&u(f)}))}else t[f]!==e[f]&&u(f)}),a}const xU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Md.apply(this,arguments)}function hI(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function pI(t){const e=[];return Bt.Children.toArray(t).forEach(n=>{hI(n)?e.push(n):n.props&&n.props.children&&pI(n.props.children).forEach(i=>e.push(i))}),e}function MU(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Bt.Children.toArray(t).forEach(i=>{if(hI(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=pI(i.props.children);r.length>0?r.forEach(a=>e.push(a)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function NU(t,e,n){if(!n)return null;const i=y=>{let T=y;return y<0?T=e.length+y:T>=e.length&&(T=T-e.length),T},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:a,to:u}=n,d=t.params.loop?-e.length:0,f=t.params.loop?e.length*2:e.length,h=[];for(let y=d;y<f;y+=1)y>=a&&y<=u&&h.push(e[i(y)]);return h.map((y,T)=>Bt.cloneElement(y,{swiper:t,style:r,key:y.props.virtualIndex||y.key||`slide-${T}`}))}function xu(t,e){return typeof window>"u"?F.useEffect(t,e):F.useLayoutEffect(t,e)}const YS=F.createContext(null),DU=F.createContext(null),mI=F.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:i,onSwiper:r,...a}={},u)=>{let d=!1;const[f,h]=F.useState("swiper"),[y,T]=F.useState(null),[E,w]=F.useState(!1),D=F.useRef(!1),L=F.useRef(null),k=F.useRef(null),G=F.useRef(null),q=F.useRef(null),z=F.useRef(null),X=F.useRef(null),j=F.useRef(null),ie=F.useRef(null),{params:M,passedParams:I,rest:x,events:V}=IU(a),{slides:P,slots:O}=MU(i),U=()=>{w(!E)};Object.assign(M.on,{_containerClasses(le,ve){h(ve)}});const Re=()=>{Object.assign(M.on,V),d=!0;const le={...M};if(delete le.wrapperClass,k.current=new Sy(le),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=P;const ve={cache:!1,slides:P,renderExternal:T,renderExternalUpdate:!1};Va(k.current.params.virtual,ve),Va(k.current.originalParams.virtual,ve)}};L.current||Re(),k.current&&k.current.on("_beforeBreakpoint",U);const Ue=()=>{d||!V||!k.current||Object.keys(V).forEach(le=>{k.current.on(le,V[le])})},te=()=>{!V||!k.current||Object.keys(V).forEach(le=>{k.current.off(le,V[le])})};F.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",U)}),F.useEffect(()=>{!D.current&&k.current&&(k.current.emitSlidesClasses(),D.current=!0)}),xu(()=>{if(u&&(u.current=L.current),!!L.current)return k.current.destroyed&&Re(),RU({el:L.current,nextEl:z.current,prevEl:X.current,paginationEl:j.current,scrollbarEl:ie.current,swiper:k.current},M),r&&!k.current.destroyed&&r(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),xu(()=>{Ue();const le=bU(I,G.current,P,q.current,ve=>ve.key);return G.current=I,q.current=P,le.length&&k.current&&!k.current.destroyed&&wU({swiper:k.current,slides:P,passedParams:I,changedParams:le,nextEl:z.current,prevEl:X.current,scrollbarEl:ie.current,paginationEl:j.current}),()=>{te()}}),xu(()=>{xU(k.current)},[y]);function ce(){return M.virtual?NU(k.current,P,y):P.map((le,ve)=>Bt.cloneElement(le,{swiper:k.current,swiperSlideIndex:ve}))}return Bt.createElement(e,Md({ref:L,className:dI(`${f}${t?` ${t}`:""}`)},x),Bt.createElement(DU.Provider,{value:k.current},O["container-start"],Bt.createElement(n,{className:CU(M.wrapperClass)},O["wrapper-start"],ce(),O["wrapper-end"]),uI(M)&&Bt.createElement(Bt.Fragment,null,Bt.createElement("div",{ref:X,className:"swiper-button-prev"}),Bt.createElement("div",{ref:z,className:"swiper-button-next"})),fI(M)&&Bt.createElement("div",{ref:ie,className:"swiper-scrollbar"}),cI(M)&&Bt.createElement("div",{ref:j,className:"swiper-pagination"}),O["container-end"]))});mI.displayName="Swiper";const gI=F.forwardRef(({tag:t="div",children:e,className:n="",swiper:i,zoom:r,lazy:a,virtualIndex:u,swiperSlideIndex:d,...f}={},h)=>{const y=F.useRef(null),[T,E]=F.useState("swiper-slide"),[w,D]=F.useState(!1);function L(z,X,j){X===y.current&&E(j)}xu(()=>{if(typeof d<"u"&&(y.current.swiperSlideIndex=d),h&&(h.current=y.current),!(!y.current||!i)){if(i.destroyed){T!=="swiper-slide"&&E("swiper-slide");return}return i.on("_slideClass",L),()=>{i&&i.off("_slideClass",L)}}}),xu(()=>{i&&y.current&&!i.destroyed&&E(i.getSlideClasses(y.current))},[i]);const k={isActive:T.indexOf("swiper-slide-active")>=0,isVisible:T.indexOf("swiper-slide-visible")>=0,isPrev:T.indexOf("swiper-slide-prev")>=0,isNext:T.indexOf("swiper-slide-next")>=0},G=()=>typeof e=="function"?e(k):e,q=()=>{D(!0)};return Bt.createElement(t,Md({ref:y,className:dI(`${T}${n?` ${n}`:""}`),"data-swiper-slide-index":u,onLoad:q},f),r&&Bt.createElement(YS.Provider,{value:k},Bt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof r=="number"?r:void 0},G(),a&&!w&&Bt.createElement("div",{className:"swiper-lazy-preloader"}))),!r&&Bt.createElement(YS.Provider,{value:k},G(),a&&!w&&Bt.createElement("div",{className:"swiper-lazy-preloader"})))});gI.displayName="SwiperSlide";function $f({title:t,fetchUrl:e}){const[n,i]=F.useState([]);return F.useEffect(()=>{fetch(e).then(r=>r.json()).then(r=>i(r.results)).catch(r=>console.error(r))},[e]),N.jsxs("div",{className:"text-white md:px-4",children:[N.jsx("h2",{className:"pt-10 pb-5 text-lg font-medium",children:t}),N.jsx(mI,{slidepreview:"auto",spaceBetween:10,className:"mySwiper",children:n.map((r,a)=>N.jsx(gI,{className:"max-w-70",children:N.jsxs(Vt,{to:`/movie/${r.id}`,children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${r?.backdrop_path}`,alt:"",className:"h-45 w-full object-cover object-center rounded-2xl"}),N.jsx("p",{className:"text-center pt-2 ",children:r.original_title})]})},a))})]})}function PU(){return N.jsx("footer",{className:"w-full text-gray-400 py-10 px-6 mt-auto",children:N.jsx("div",{className:"w-full border-t border-gray-700 pt-8",children:N.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row md:flex-wrap justify-between gap-10",children:[N.jsxs("div",{className:"flex-1 min-w-[250px] text-center md:text-left",children:[N.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"CineScope"}),N.jsxs("p",{className:"text-sm leading-relaxed",children:["Discover, track, and enjoy your favorite movies.",N.jsx("br",{}),"Your personal movie companion powered by AI."]})]}),N.jsxs("div",{className:"flex-1 min-w-[150px] text-center md:text-left",children:[N.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Quick Links"}),N.jsxs("ul",{className:"space-y-2",children:[N.jsx("li",{className:"hover:text-white cursor-pointer transition-colors",children:"Home"}),N.jsx("li",{className:"hover:text-white cursor-pointer transition-colors",children:"Login"})]})]}),N.jsxs("div",{className:"flex-1 min-w-[180px] text-center md:text-left",children:[N.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Follow Us"}),N.jsxs("div",{className:"flex flex-col items-center md:items-start space-y-2",children:[N.jsxs("a",{href:"#",className:"flex items-center justify-center md:justify-start gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fa-brands fa-facebook"})," Facebook"]}),N.jsxs("a",{href:"#",className:"flex items-center justify-center md:justify-start gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fa-brands fa-x-twitter"})," Twitter"]}),N.jsxs("a",{href:"#",className:"flex items-center justify-center md:justify-start gap-2 hover:text-white transition-colors",children:[N.jsx("i",{className:"fa-brands fa-instagram"})," Instagram"]})]})]}),N.jsxs("div",{className:"flex-1 min-w-[200px] text-center md:text-right text-sm flex flex-col justify-between",children:[N.jsxs("p",{children:[" ",new Date().getFullYear()," CineScope. All rights reserved."]}),N.jsxs("p",{className:"mt-2",children:["Built ",N.jsx("span",{className:"text-[#ff0066]"})," by Movie Lover"]})]})]})})})}function VU(){const[t,e]=F.useState("Action"),[n,i]=F.useState([]),[r,a]=F.useState([]);return F.useEffect(()=>{fetch(Wn.requestGenre).then(u=>u.json()).then(u=>i(u.genres)).catch(u=>console.error("Failed to fetch genres:",u))},[]),F.useEffect(()=>{if(!t||n.length===0)return;const u=n.find(f=>f.name===t)?.id;if(!u)return;const d=`https://api.themoviedb.org/3/discover/movie?api_key=${Wn.Api_key}&with_genres=${u}&language=en-US&page=1`;fetch(d).then(f=>f.json()).then(f=>a(f.results||[])).catch(f=>console.error("Failed to fetch movies:",f))},[t,n]),N.jsxs("div",{className:"min-h-screen text-white px-8 py-10",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Browse by Genre"}),N.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:n.map(u=>N.jsx("button",{onClick:()=>e(u.name),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===u.name?"bg-red-600 text-white shadow-lg":"bg-gray-800 hover:bg-red-500 text-gray-300"}`,children:u.name},u.id))}),N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:r.slice(0,10).map(u=>N.jsxs(Vt,{to:`/movie/${u.id}`,className:"rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all hover:scale-[1.03] cursor-pointer",children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/w500${u.poster_path}`,alt:u.title,className:"w-full h-80 object-cover"}),N.jsxs("div",{className:"p-3",children:[N.jsx("h3",{className:"font-semibold truncate",children:u.title}),N.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-400 mt-1",children:[N.jsxs("div",{className:"flex items-center",children:[N.jsx(hA,{size:14,className:"text-yellow-400 mr-1"}),u.vote_average?u.vote_average.toFixed(1):""]}),N.jsx("span",{children:u.release_date?.split("-")[0]||""})]})]})]},u.id))})]})}function LU(){return N.jsxs("div",{className:"p-4",children:[N.jsx(ik,{}),N.jsx(VU,{}),N.jsx($f,{title:"Trending this Week",fetchUrl:Wn.requestTrending}),N.jsx($f,{title:"Top Rated",fetchUrl:Wn.requestTopRated}),N.jsx($f,{title:"Popular Movies",fetchUrl:Wn.requestPopular}),N.jsx($f,{title:"UpComing",fetchUrl:Wn.requestUpcoming}),N.jsx(PU,{})]})}function kU(){const{id:t}=EA(),[e,n]=F.useState(null),[i,r]=F.useState(!0),[a,u]=F.useState([]),[d,f]=F.useState(null),h={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhMTQxODRiNTBiOTU1OGU4MDNhZmRjMzVmMGYzZjQzMSIsIm5iZiI6MTc2MTEyNDM1MS4xOTUwMDAyLCJzdWIiOiI2OGY4OWZmZjMxMzcyMWI4YmFkM2JhMTIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.upbQEtMo6F0LqJZ2MfyAHnSS9XZJGqxshwFeu2jloQo"}};return F.useEffect(()=>{fetch(`https://api.themoviedb.org/3/movie/${t}?language=en-US`,h).then(y=>y.json()).then(y=>n(y)).catch(y=>console.error(y)),fetch(`https://api.themoviedb.org/3/movie/${t}/recommendations?language=en-US&page=1`,h).then(y=>y.json()).then(y=>u(y.results||[])).catch(y=>console.error(y)),fetch(`https://api.themoviedb.org/3/movie/${t}/videos?language=en-US`,h).then(y=>y.json()).then(y=>{if(!y.results||y.results.length===0){f(null);return}const T=y.results.find(D=>D.site==="YouTube"&&D.type==="Trailer"&&D.official===!0),E=y.results.find(D=>D.site==="YouTube"&&(D.type==="Trailer"||D.type==="Teaser")),w=T||E;f(w?w.key:null)}).catch(y=>console.error(y))},[t]),F.useEffect(()=>{const y=setTimeout(()=>{r(!1)},1500);return()=>clearTimeout(y)},[]),i||!e?N.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900",children:N.jsx("div",{className:"flex flex-col items-center",children:N.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl flex flex-col items-center",children:[N.jsx(nc,{color:"#f43f5e",height:15,width:5,radius:2,margin:2}),N.jsx("p",{className:"text-gray-300 mt-5 text-lg font-medium animate-pulse",children:"Loading movie details..."})]})})}):(console.log(e),N.jsxs("div",{className:"min-h-screen bg-gray-800 text-white",children:[N.jsxs("div",{className:"relative flex items-center h-[60vh]",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${e.backdrop_path})`,backgroundSize:"cover",backgroundPosition:"center"},children:[N.jsx("div",{className:"absolute inset-0 bg-black/60"}),N.jsxs("div",{className:"absolute bottom-8 flex items-end z-10 p-8 gap-7",children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/original${e.poster_path}`,className:"rounded-lg shadow-lg w-50 hidden md:block",alt:e.title}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-4xl font-bold mb-2",children:e.title}),N.jsxs("div",{className:"flex items-center mb-2 gap-4 text-gray-300",children:[N.jsxs("span",{children:[N.jsx("i",{className:"text-yellow-400 fa-solid fa-star"})," ",e.vote_average?.toFixed(1)]}),N.jsx("span",{children:e.release_date}),N.jsxs("span",{children:[e.runtime," min"]})]}),N.jsx("div",{className:"flex flex-wrap gap-2 mt-3 mb-4",children:e.genres?.map(y=>N.jsx("span",{className:"bg-gray-700/80 text-gray-100 px-3 py-1 rounded-full text-sm",children:y.name},y.id))}),N.jsx("p",{className:"text-gray-200 max-w-2xl mb-6 leading-relaxed",children:e.overview}),d?N.jsx("a",{href:`https://www.youtube.com/watch?v=${d}`,target:"_blank",children:N.jsxs("button",{className:`flex items-center
                  bg-red-600 text-white 
                  font-semibold py-3 px-6 rounded-full
                  hover:bg-red-700 transition-all 
                  duration-300 shadow-lg hover:shadow-red-700/30`,children:[N.jsx("i",{className:"fa-solid fa-play mr-2"}),"Watch Trailer"]})}):N.jsxs("button",{disabled:!0,className:"flex items-center bg-gray-600 text-white font-semibold py-3 px-6 rounded-full opacity-60 cursor-not-allowed",children:[N.jsx("i",{className:"fa-solid fa-ban mr-2"}),"Trailer Not Available"]})]})]})]}),N.jsxs("div",{className:"p-10 m-2",children:[N.jsxs("h2",{className:"text-2xl font-semibold mb-5 flex items-center gap-2",children:[N.jsx(aE,{className:"w-6 h-6 text-red-500"}),"Details"]}),N.jsx("div",{className:"bg-gray-700 rounded-lg shadow-lg p-6 flex-col md:flex-row gap-8",children:N.jsx("div",{className:"flex-1",children:N.jsxs("ul",{className:"text-gray-400 space-y-3",children:[N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(aE,{className:"w-5 h-5 text-red-400"}),N.jsx("span",{className:"text-white font-medium",children:"Title:"}),N.jsx("span",{className:"ml-1.5",children:e.title})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(tx,{className:"w-5 h-5 text-blue-400"}),N.jsx("span",{className:"text-white font-medium",children:"Tagline:"}),N.jsx("span",{className:"ml-1.5 italic",children:e.tagline})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx($b,{className:"w-5 h-5 text-green-400"}),N.jsx("span",{className:"text-white font-medium",children:"Status:"}),N.jsx("span",{className:"ml-1.5",children:e.status})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(Gb,{className:"w-5 h-5 text-yellow-400"}),N.jsx("span",{className:"text-white font-medium",children:"Release Date:"}),N.jsx("span",{className:"ml-1.5",children:e.release_date})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(Kb,{className:"w-5 h-5 text-indigo-400"}),N.jsx("span",{className:"text-white font-medium",children:"Original Language:"}),N.jsx("span",{className:"ml-1.5",children:e.original_language.toUpperCase()})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(Wb,{className:"w-5 h-5 text-teal-400"}),N.jsx("span",{className:"text-white font-medium",children:"Production Country:"}),N.jsx("span",{className:"ml-1.5",children:e.production_countries.map(y=>y.name).join(", ")})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(zb,{className:"w-5 h-5 text-purple-400"}),N.jsx("span",{className:"text-white font-medium",children:"Production Company:"}),N.jsx("span",{className:"ml-1.5",children:e.production_companies.map(y=>y.name).join(", ")})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx(hA,{className:"w-5 h-5 text-yellow-500"}),N.jsx("span",{className:"text-white font-medium",children:"Vote Average:"}),N.jsx("span",{className:"ml-1.5",children:e.vote_average})]})]})})})]}),a.length>0&&N.jsxs("div",{className:"px-8 m-2",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4 gap-1.5",children:"Your next favorites await"}),N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:a.slice(0,10).map(y=>N.jsx("div",{className:"group cursor-pointer",children:N.jsxs(Vt,{to:`/movie/${y.id}`,children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/w300${y.poster_path}`,alt:y.title,className:"rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"}),N.jsxs("div",{className:"mt-2 text-center",children:[N.jsx("h3",{className:"text-sm font-medium text-white truncate",children:y.title}),N.jsx("span",{className:"text-gray-400 text-xs",children:y.release_date?.slice(0,4)})]})]})},y.id))})]})]}))}const UU=()=>{const t=Fu(),{login:e,googleSignIn:n}=il(),[i,r]=F.useState(""),[a,u]=F.useState(""),d=async h=>{h.preventDefault();try{await e(i,a),t("/")}catch(y){alert(y.message)}},f=async()=>{try{await n(),t("/")}catch(h){alert(h.message)}};return N.jsx("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat px-4 md:px-8 py-5",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/background_banner.jpg')"},children:N.jsxs("div",{className:"max-w-[450px] w-full bg-black bg-opacity-75 rounded px-8 py-14 mx-auto mt-8",children:[N.jsx("h1",{className:"text-3xl font-medium text-white mb-7",children:"Sign In"}),N.jsxs("form",{onSubmit:d,className:"flex flex-col space-y-4",children:[N.jsx("input",{type:"email",value:i,onChange:h=>r(h.target.value),placeholder:"Email",className:"w-full h-[50px] bg-[#333] text-white rounded px-5 text-base"}),N.jsx("input",{type:"password",value:a,onChange:h=>u(h.target.value),placeholder:"Password",className:"w-full h-[50px] bg-[#333] text-white rounded px-5 text-base"}),N.jsx("button",{type:"submit",className:"w-full bg-[#e50914] text-white py-2 rounded text-base hover:opacity-90 cursor-pointer",children:"Sign In"})]}),N.jsx("button",{onClick:f,className:"w-full mt-4 bg-blue-600 text-white py-2 rounded text-base hover:bg-blue-700 transition",children:"Sign In with Google"}),N.jsx("div",{className:"mt-10 text-[#737373] text-sm",children:N.jsxs("p",{children:["Don't have an account?"," ",N.jsx("span",{onClick:()=>t("/signup"),className:"text-white font-medium cursor-pointer ml-2 hover:underline",children:"Sign Up Now"})]})})]})})},OU=()=>{const t=Fu(),{signup:e,googleSignIn:n}=il(),[i,r]=F.useState(""),[a,u]=F.useState(""),[d,f]=F.useState(""),h=async T=>{T.preventDefault();try{await e(a,d),t("/")}catch(E){alert(E.message)}},y=async()=>{try{await n(),t("/")}catch(T){alert(T.message)}};return N.jsx("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat px-4 md:px-8 py-5",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/background_banner.jpg')"},children:N.jsxs("div",{className:"max-w-[450px] w-full bg-black bg-opacity-75 rounded px-8 py-14 mx-auto mt-8",children:[N.jsx("h1",{className:"text-3xl font-medium text-white mb-7",children:"Sign Up"}),N.jsxs("form",{onSubmit:h,className:"flex flex-col space-y-4",children:[N.jsx("input",{type:"text",value:i,onChange:T=>r(T.target.value),placeholder:"John Doe",className:"w-full h-[50px] bg-[#333] text-white rounded px-5 text-base"}),N.jsx("input",{type:"email",value:a,onChange:T=>u(T.target.value),placeholder:"johndoe@gmail.com",className:"w-full h-[50px] bg-[#333] text-white rounded px-5 text-base"}),N.jsx("input",{type:"password",value:d,onChange:T=>f(T.target.value),placeholder:"Enter your password",className:"w-full h-[50px] bg-[#333] text-white rounded px-5 text-base"}),N.jsx("button",{type:"submit",className:"w-full bg-[#e50914] text-white py-2 rounded text-base hover:opacity-90 cursor-pointer",children:"Sign Up"})]}),N.jsx("button",{onClick:y,className:"w-full mt-4 bg-blue-600 text-white py-2 rounded text-base hover:bg-blue-700 transition",children:"Sign Up with Google"}),N.jsx("div",{className:"mt-10 text-[#737373] text-sm",children:N.jsxs("p",{children:["Already have an account?",N.jsx("span",{onClick:()=>t("/signin"),className:"text-white font-medium cursor-pointer ml-2 hover:underline",children:"Sign In Now"})]})})]})})};function BU(){const[t,e]=F.useState([]),[n,i]=F.useState(!0);return F.useEffect(()=>{fetch(Wn.requestTvShow).then(r=>r.json()).then(r=>e(r.results||[])).catch(r=>console.error(r)).finally(()=>i(!1))},[]),n?N.jsx("div",{className:"p-8",children:"Loading TV shows..."}):N.jsxs("div",{className:"p-6",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Popular TV Shows"}),N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(r=>N.jsxs(Vt,{to:`/movie/${r.id}`,className:"group",children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/w300${r.poster_path}`,alt:r.name,className:"rounded-lg w-full h-64 object-cover"}),N.jsx("div",{className:"mt-2 text-sm text-white truncate",children:r.name})]},r.id))})]})}function qU(){const[t,e]=F.useState([]),[n,i]=F.useState(!0);return F.useEffect(()=>{const r=Date.now();fetch(Wn.requestAnime).then(a=>a.json()).then(a=>e(a.results||[])).catch(a=>console.error(a)).finally(()=>{const u=1500-(Date.now()-r);setTimeout(()=>i(!1),Math.max(u,0))})},[]),n?N.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900",children:N.jsx("div",{className:"flex flex-col items-center",children:N.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl flex flex-col items-center",children:[N.jsx(nc,{color:"#f43f5e",height:15,width:5,radius:2,margin:2}),N.jsx("p",{className:"text-gray-300 mt-5 text-lg font-medium animate-pulse",children:"Loading...."})]})})}):N.jsxs("div",{className:"p-6",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4 text-white",children:"Anime"}),N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(r=>N.jsxs(Vt,{to:`/movie/${r.id}`,className:"group",children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/w300${r.poster_path}`,alt:r.title,className:"rounded-lg w-full h-64 object-cover group-hover:opacity-80 transition"}),N.jsx("div",{className:"mt-2 text-sm text-gray-300 truncate",children:r.title})]},r.id))})]})}function zU(){const[t,e]=F.useState([]),[n,i]=F.useState(!0);return F.useEffect(()=>{const r=Date.now();(async()=>{try{const[u,d]=await Promise.all([fetch(Wn.requestTrending).then(y=>y.json()),fetch(Wn.requestPopular).then(y=>y.json())]);if(!u.results||!d.results){console.error("Missing results from TMDB response",{trendingRes:u,popularRes:d}),e([]);return}const f=[...u.results,...d.results],h=Array.from(new Map(f.map(y=>[y.id,y])).values());e(h)}catch(u){console.error("Error fetching New & Popular movies:",u)}finally{const d=1500-(Date.now()-r);setTimeout(()=>i(!1),Math.max(d,0))}})()},[]),n?N.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900",children:N.jsx("div",{className:"flex flex-col items-center",children:N.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl flex flex-col items-center",children:[N.jsx(nc,{color:"#f43f5e",height:15,width:5,radius:2,margin:2}),N.jsx("p",{className:"text-gray-300 mt-5 text-lg font-medium animate-pulse",children:"Loading...."})]})})}):N.jsxs("div",{className:"p-6 bg-gray-900 min-h-screen",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4 text-white",children:"New & Popular"}),N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.length>0?t.slice(0,24).map(r=>N.jsxs(Vt,{to:`/movie/${r.id}`,className:"group",children:[N.jsx("img",{src:r.poster_path?`https://image.tmdb.org/t/p/w500${r.poster_path}`:"https://via.placeholder.com/500x750?text=No+Image",alt:r.title||r.name,className:"rounded-lg w-full h-64 object-cover group-hover:opacity-80 transition"}),N.jsx("div",{className:"mt-2 text-sm text-gray-300 truncate",children:r.title||r.name})]},r.id)):N.jsx("p",{className:"col-span-full text-center text-gray-400",children:"No movies found."})})]})}function FU(){const{query:t}=EA(),[e,n]=F.useState([]),[i,r]=F.useState(!0);return F.useEffect(()=>{fetch(`${Wn.requestSearch}${t}`).then(a=>a.json()).then(a=>{n(a.results||[]),r(!1)}).catch(a=>console.error(a))},[t]),i?N.jsx("div",{className:"flex justify-center items-center h-screen",children:N.jsx(nc,{color:"#f43f5e"})}):e.length?N.jsxs("div",{className:"p-6 text-white",children:[N.jsxs("h2",{className:"text-2xl font-bold mb-6",children:['Search results for "',t,'"']}),N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.map(a=>N.jsx(Vt,{to:`/movie/${a.id}`,children:N.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${a.poster_path}`,alt:a.title,className:"rounded-lg hover:scale-105 transition"})},a.id))})]}):N.jsxs("div",{className:"text-center text-white mt-20",children:['No results found for "',t,'"']})}const Ca=({children:t})=>{const{user:e}=il();return e?t:N.jsx(Hx,{to:"/signin"})};let GU={data:""},HU=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||GU},$U=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,YU=/\/\*[^]*?\*\/|  +/g,JS=/\n+/g,gr=(t,e)=>{let n="",i="",r="";for(let a in t){let u=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+u+";":i+=a[1]=="f"?gr(u,a):a+"{"+gr(u,a[1]=="k"?"":e)+"}":typeof u=="object"?i+=gr(u,e?e.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):a):u!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=gr.p?gr.p(a,u):a+":"+u+";")}return n+(e&&r?e+"{"+r+"}":r)+i},gs={},yI=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+yI(t[n]);return e}return t},JU=(t,e,n,i,r)=>{let a=yI(t),u=gs[a]||(gs[a]=(f=>{let h=0,y=11;for(;h<f.length;)y=101*y+f.charCodeAt(h++)>>>0;return"go"+y})(a));if(!gs[u]){let f=a!==t?t:(h=>{let y,T,E=[{}];for(;y=$U.exec(h.replace(YU,""));)y[4]?E.shift():y[3]?(T=y[3].replace(JS," ").trim(),E.unshift(E[0][T]=E[0][T]||{})):E[0][y[1]]=y[2].replace(JS," ").trim();return E[0]})(t);gs[u]=gr(r?{["@keyframes "+u]:f}:f,n?"":"."+u)}let d=n&&gs.g?gs.g:null;return n&&(gs.g=gs[u]),((f,h,y,T)=>{T?h.data=h.data.replace(T,f):h.data.indexOf(f)===-1&&(h.data=y?f+h.data:h.data+f)})(gs[u],e,i,d),u},KU=(t,e,n)=>t.reduce((i,r,a)=>{let u=e[a];if(u&&u.call){let d=u(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=f?"."+f:d&&typeof d=="object"?d.props?"":gr(d,""):d===!1?"":d}return i+r+(u??"")},"");function ih(t){let e=this||{},n=t.call?t(e.p):t;return JU(n.unshift?n.raw?KU(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,HU(e.target),e.g,e.o,e.k)}let vI,fg,dg;ih.bind({g:1});let xs=ih.bind({k:1});function QU(t,e,n,i){gr.p=e,vI=t,fg=n,dg=i}function Or(t,e){let n=this||{};return function(){let i=arguments;function r(a,u){let d=Object.assign({},a),f=d.className||r.className;n.p=Object.assign({theme:fg&&fg()},d),n.o=/ *go\d+/.test(f),d.className=ih.apply(n,i)+(f?" "+f:"");let h=t;return t[0]&&(h=d.as||t,delete d.as),dg&&h[0]&&dg(d),vI(h,d)}return r}}var WU=t=>typeof t=="function",hg=(t,e)=>WU(t)?t(e):t,XU=(()=>{let t=0;return()=>(++t).toString()})(),ZU=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jU=20,_I="default",TI=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:i}=e;return TI(t,{type:t.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(u=>u.id===r||r===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+a}))}}},eO=[],tO={toasts:[],pausedAt:void 0,settings:{toastLimit:jU}},La={},EI=(t,e=_I)=>{La[e]=TI(La[e]||tO,t),eO.forEach(([n,i])=>{n===e&&i(La[e])})},SI=t=>Object.keys(La).forEach(e=>EI(t,e)),nO=t=>Object.keys(La).find(e=>La[e].toasts.some(n=>n.id===t)),Ay=(t=_I)=>e=>{EI(e,t)},iO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||XU()}),ic=t=>(e,n)=>{let i=iO(e,t,n);return Ay(i.toasterId||nO(i.id))({type:2,toast:i}),i.id},en=(t,e)=>ic("blank")(t,e);en.error=ic("error");en.success=ic("success");en.loading=ic("loading");en.custom=ic("custom");en.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Ay(e)(n):SI(n)};en.dismissAll=t=>en.dismiss(void 0,t);en.remove=(t,e)=>{let n={type:4,toastId:t};e?Ay(e)(n):SI(n)};en.removeAll=t=>en.remove(void 0,t);en.promise=(t,e,n)=>{let i=en.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let a=e.success?hg(e.success,r):void 0;return a?en.success(a,{id:i,...n,...n?.success}):en.dismiss(i),r}).catch(r=>{let a=e.error?hg(e.error,r):void 0;a?en.error(a,{id:i,...n,...n?.error}):en.dismiss(i)}),t};var sO=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rO=xs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oO=xs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aO=Or("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lO=xs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,uO=Or("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lO} 1s linear infinite;
`,cO=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fO=xs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dO=Or("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hO=Or("div")`
  position: absolute;
`,pO=Or("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mO=xs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gO=Or("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yO=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?F.createElement(gO,null,e):e:n==="blank"?null:F.createElement(pO,null,F.createElement(uO,{...i}),n!=="loading"&&F.createElement(hO,null,n==="error"?F.createElement(aO,{...i}):F.createElement(dO,{...i})))},vO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_O=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,TO="0%{opacity:0;} 100%{opacity:1;}",EO="0%{opacity:1;} 100%{opacity:0;}",SO=Or("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AO=Or("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,CO=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=ZU()?[TO,EO]:[vO(n),_O(n)];return{animation:e?`${xs(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xs(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};F.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?CO(t.position||e||"top-center",t.visible):{opacity:0},a=F.createElement(yO,{toast:t}),u=F.createElement(AO,{...t.ariaProps},hg(t.message,t));return F.createElement(SO,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:a,message:u}):F.createElement(F.Fragment,null,a,u))});QU(F.createElement);ih`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var KS=en;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wO,IO;function RO(){return{geminiUrl:wO,vertexUrl:IO}}function bO(t,e,n,i){var r,a;if(!t?.baseUrl){const u=RO();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Po{}function ge(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function v(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const f=t[d];if(Array.isArray(n))for(let h=0;h<f.length;h++){const y=f[h];v(y,e.slice(a+1),n[h])}else for(const h of f)v(h,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const f=t[d];v(f[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(d=>p(d,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function xO(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),a=i.split("."),u=new Set;let d=-1;for(let f=0;f<r.length;f++)if(r[f]==="*"){d=f;break}if(d!==-1&&a.length>d)for(let f=d;f<a.length;f++){const h=a[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}pg(t,r,a,0,u)}}function pg(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const f of d[u])pg(f,e,n,i+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!r.has(h)),f={};for(const h of d)f[h]=u[h];for(const[h,y]of Object.entries(f)){const T=[];for(const E of n.slice(i))E==="*"?T.push(h):T.push(E);v(u,T,y)}for(const h of d)delete u[h]}}else{const u=t;a in u&&pg(u[a],e,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MO(t){const e={},n=p(t,["operationName"]);n!=null&&v(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&v(e,["_url","resourceName"],i),e}function NO(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(t,["done"]);r!=null&&v(e,["done"],r);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&v(e,["response"],PO(u)),e}function DO(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(t,["done"]);r!=null&&v(e,["done"],r);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],VO(u)),e}function PO(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>LO(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function VO(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>kO(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function LO(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],BO(n)),e}function kO(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],qO(n)),e}function UO(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function OO(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function BO(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&v(e,["videoBytes"],Cy(i));const r=p(t,["encoding"]);return r!=null&&v(e,["mimeType"],r),e}function qO(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],Cy(i));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var QS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QS||(QS={}));var WS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(WS||(WS={}));var XS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(XS||(XS={}));var _r;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(_r||(_r={}));var ZS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ZS||(ZS={}));var jS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jS||(jS={}));var e0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(e0||(e0={}));var t0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(t0||(t0={}));var n0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(n0||(n0={}));var i0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(i0||(i0={}));var s0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(s0||(s0={}));var r0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(r0||(r0={}));var o0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(o0||(o0={}));var a0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(a0||(a0={}));var l0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(l0||(l0={}));var u0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(u0||(u0={}));var Nd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Nd||(Nd={}));var c0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c0||(c0={}));var mg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mg||(mg={}));var f0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(f0||(f0={}));var d0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(d0||(d0={}));var h0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(h0||(h0={}));var p0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(p0||(p0={}));var m0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(m0||(m0={}));var g0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(g0||(g0={}));var y0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(y0||(y0={}));var v0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(v0||(v0={}));var _0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(_0||(_0={}));var T0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(T0||(T0={}));var E0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(E0||(E0={}));var S0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(S0||(S0={}));var A0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(A0||(A0={}));var C0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(C0||(C0={}));var w0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(w0||(w0={}));var I0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(I0||(I0={}));var R0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(R0||(R0={}));var b0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(b0||(b0={}));var x0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(x0||(x0={}));var M0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(M0||(M0={}));var N0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(N0||(N0={}));var D0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(D0||(D0={}));var P0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(P0||(P0={}));var V0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(V0||(V0={}));var L0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(L0||(L0={}));var k0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(k0||(k0={}));var U0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(U0||(U0={}));var O0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(O0||(O0={}));var B0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(B0||(B0={}));var xa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xa||(xa={}));class gg{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class mu{get text(){var e,n,i,r,a,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const T=[];for(const E of(f=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[w,D]of Object.entries(E))w!=="text"&&w!=="thought"&&(D!==null||D!==void 0)&&T.push(w);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,n,i,r,a,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const T of(f=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[E,w]of Object.entries(T))E!=="inlineData"&&(w!==null||w!==void 0)&&y.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,i,r,a,u,d,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if(h?.length!==0)return h}get executableCode(){var e,n,i,r,a,u,d,f,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(f=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(y?.length!==0)return(h=y?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,i,r,a,u,d,f,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(f=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(y?.length!==0)return(h=y?.[0])===null||h===void 0?void 0:h.output}}class q0{}class z0{}class zO{}class FO{}class GO{}class HO{}class F0{}class G0{}class H0{}class $O{}class Dd{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Dd;let r;const a=e;return n?r=DO(a):r=NO(a),Object.assign(i,r),i}}class $0{}class Y0{}class J0{}class YO{}class JO{}class KO{}class K0{}class QO{get text(){var e,n,i;let r="",a=!1;const u=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,h]of Object.entries(d))f!=="text"&&f!=="thought"&&h!==null&&u.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;a=!0,r+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,f]of Object.entries(u))d!=="inlineData"&&f!==null&&a.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class WO{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function AI(t,e){const n=Ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function CI(t){return Array.isArray(t)?t.map(e=>Pd(e)):[Pd(t)]}function Pd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function wI(t){const e=Pd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function II(t){const e=Pd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Q0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function RI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Q0(e)):[Q0(t)]}function yg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function W0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function X0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ln(t){if(t==null)throw new Error("ContentUnion is required");return yg(t)?t:{role:"user",parts:RI(t)}}function wy(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=ln(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=ln(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ln(n)):[ln(e)]}function Xn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(W0(t)||X0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ln(t)]}const e=[],n=[],i=yg(t[0]);for(const r of t){const a=yg(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(W0(r)||X0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:RI(n)}),e}function XO(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(_r).includes(n[0].toUpperCase())?n[0].toUpperCase():_r.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(_r).includes(i.toUpperCase())?i.toUpperCase():_r.TYPE_UNSPECIFIED})}}function ka(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&XO(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(_r).includes(d.toUpperCase())?d.toUpperCase():_r.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=ka(d);else if(i.includes(u)){const f=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}f.push(ka(h))}e[u]=f}else if(r.includes(u)){const f={};for(const[h,y]of Object.entries(d))f[h]=ka(y);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Iy(t){return ka(t)}function Ry(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function by(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function sl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ka(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ka(e.response));return t}function rl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ZO(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Ds(t,e){if(typeof e!="string")throw new Error("name must be a string");return ZO(t,e,"cachedContents")}function bI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Br(t){return Cy(t)}function jO(t){return t!=null&&typeof t=="object"&&"name"in t}function e4(t){return t!=null&&typeof t=="object"&&"video"in t}function t4(t){return t!=null&&typeof t=="object"&&"uri"in t}function xI(t){var e;let n;if(jO(t)&&(n=t.name),!(t4(t)&&(n=t.uri,n===void 0))&&!(e4(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function MI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function NI(t){for(const e of["models","tunedModels","publisherModels"])if(n4(t,e))return t[e];return[]}function n4(t,e){return t!==null&&typeof t=="object"&&e in t}function i4(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function s4(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=i4(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function DI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function r4(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function PI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const f=u.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ol(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function VI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o4(t){const e={},n=p(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>U4(u))),v(e,["inlinedResponses"],a)}const r=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["inlinedEmbedContentResponses"],a)}return e}function a4(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&v(e,["gcsUri"],i);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&v(e,["bigqueryUri"],r),e}function l4(t){const e={},n=p(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&v(e,["gcsDestination","outputUriPrefix"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&v(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function rd(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&v(e,["displayName"],i);const r=p(t,["metadata","state"]);r!=null&&v(e,["state"],VI(r));const a=p(t,["metadata","createTime"]);a!=null&&v(e,["createTime"],a);const u=p(t,["metadata","endTime"]);u!=null&&v(e,["endTime"],u);const d=p(t,["metadata","updateTime"]);d!=null&&v(e,["updateTime"],d);const f=p(t,["metadata","model"]);f!=null&&v(e,["model"],f);const h=p(t,["metadata","output"]);return h!=null&&v(e,["dest"],o4(PI(h))),e}function vg(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["displayName"]);i!=null&&v(e,["displayName"],i);const r=p(t,["state"]);r!=null&&v(e,["state"],VI(r));const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["createTime"]);u!=null&&v(e,["createTime"],u);const d=p(t,["startTime"]);d!=null&&v(e,["startTime"],d);const f=p(t,["endTime"]);f!=null&&v(e,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&v(e,["updateTime"],h);const y=p(t,["model"]);y!=null&&v(e,["model"],y);const T=p(t,["inputConfig"]);T!=null&&v(e,["src"],u4(T));const E=p(t,["outputConfig"]);return E!=null&&v(e,["dest"],a4(PI(E))),e}function u4(t){const e={},n=p(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&v(e,["gcsUri"],i);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&v(e,["bigqueryUri"],r),e}function c4(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&v(n,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>k4(t,u))),v(n,["requests","requests"],a)}return n}function f4(t){const e={},n=p(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&v(e,["gcsSource","uris"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&v(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function d4(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&v(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function h4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],ol(t,i)),n}function p4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],ol(t,i)),n}function m4(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],g4(i));const r=p(t,["tokenCount"]);r!=null&&v(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const u=p(t,["urlContextMetadata"]);u!=null&&v(e,["urlContextMetadata"],u);const d=p(t,["avgLogprobs"]);d!=null&&v(e,["avgLogprobs"],d);const f=p(t,["groundingMetadata"]);f!=null&&v(e,["groundingMetadata"],f);const h=p(t,["index"]);h!=null&&v(e,["index"],h);const y=p(t,["logprobsResult"]);y!=null&&v(e,["logprobsResult"],y);const T=p(t,["safetyRatings"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(w=>w)),v(e,["safetyRatings"],E)}return e}function g4(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),v(e,["citations"],i)}return e}function LI(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>H4(a))),v(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function y4(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&v(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function v4(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const r=p(t,["dest"]);return e!==void 0&&r!=null&&v(e,["outputConfig"],l4(r4(r))),n}function Z0(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["src"]);r!=null&&v(n,["batch","inputConfig"],c4(t,DI(t,r)));const a=p(e,["config"]);return a!=null&&y4(a,n),n}function _4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["model"],Ke(t,i));const r=p(e,["src"]);r!=null&&v(n,["inputConfig"],f4(DI(t,r)));const a=p(e,["config"]);return a!=null&&v4(a,n),n}function T4(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&v(e,["batch","displayName"],i),n}function E4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["src"]);r!=null&&v(n,["batch","inputConfig"],b4(t,r));const a=p(e,["config"]);return a!=null&&T4(a,n),n}function S4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],ol(t,i)),n}function A4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],ol(t,i)),n}function C4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const r=p(t,["done"]);r!=null&&v(e,["done"],r);const a=p(t,["error"]);return a!=null&&v(e,["error"],a),e}function w4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const r=p(t,["done"]);r!=null&&v(e,["done"],r);const a=p(t,["error"]);return a!=null&&v(e,["error"],a),e}function I4(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=wy(t,i);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(v(n,["_self"],R4(r,n)),xO(n,{"requests[].*":"requests[].request.*"})),n}function R4(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&v(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function b4(t,e){const n={},i=p(e,["fileName"]);i!=null&&v(n,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&v(n,["requests"],I4(t,r)),n}function x4(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function M4(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&v(n,["systemInstruction"],LI(ln(r)));const a=p(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&v(i,["topP"],u);const d=p(e,["topK"]);d!=null&&v(i,["topK"],d);const f=p(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const y=p(e,["stopSequences"]);y!=null&&v(i,["stopSequences"],y);const T=p(e,["responseLogprobs"]);T!=null&&v(i,["responseLogprobs"],T);const E=p(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const w=p(e,["presencePenalty"]);w!=null&&v(i,["presencePenalty"],w);const D=p(e,["frequencyPenalty"]);D!=null&&v(i,["frequencyPenalty"],D);const L=p(e,["seed"]);L!=null&&v(i,["seed"],L);const k=p(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const G=p(e,["responseSchema"]);G!=null&&v(i,["responseSchema"],Iy(G));const q=p(e,["responseJsonSchema"]);if(q!=null&&v(i,["responseJsonSchema"],q),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=p(e,["safetySettings"]);if(n!==void 0&&z!=null){let O=z;Array.isArray(O)&&(O=O.map(U=>$4(U))),v(n,["safetySettings"],O)}const X=p(e,["tools"]);if(n!==void 0&&X!=null){let O=rl(X);Array.isArray(O)&&(O=O.map(U=>Y4(sl(U)))),v(n,["tools"],O)}const j=p(e,["toolConfig"]);if(n!==void 0&&j!=null&&v(n,["toolConfig"],j),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=p(e,["cachedContent"]);n!==void 0&&ie!=null&&v(n,["cachedContent"],Ds(t,ie));const M=p(e,["responseModalities"]);M!=null&&v(i,["responseModalities"],M);const I=p(e,["mediaResolution"]);I!=null&&v(i,["mediaResolution"],I);const x=p(e,["speechConfig"]);if(x!=null&&v(i,["speechConfig"],Ry(x)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=p(e,["thinkingConfig"]);V!=null&&v(i,["thinkingConfig"],V);const P=p(e,["imageConfig"]);return P!=null&&v(i,["imageConfig"],P),i}function N4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>m4(h))),v(e,["candidates"],f)}const r=p(t,["modelVersion"]);r!=null&&v(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&v(e,["responseId"],u);const d=p(t,["usageMetadata"]);return d!=null&&v(e,["usageMetadata"],d),e}function D4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],ol(t,i)),n}function P4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],ol(t,i)),n}function V4(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function L4(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function k4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["request","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let d=Xn(r);Array.isArray(d)&&(d=d.map(f=>LI(f))),v(n,["request","contents"],d)}const a=p(e,["metadata"]);a!=null&&v(n,["metadata"],a);const u=p(e,["config"]);return u!=null&&v(n,["request","generationConfig"],M4(t,u,p(n,["request"],{}))),n}function U4(t){const e={},n=p(t,["response"]);n!=null&&v(e,["response"],N4(n));const i=p(t,["error"]);return i!=null&&v(e,["error"],i),e}function O4(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function B4(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&v(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),n}function q4(t){const e={},n=p(t,["config"]);return n!=null&&O4(n,e),e}function z4(t){const e={},n=p(t,["config"]);return n!=null&&B4(n,e),e}function F4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>rd(u))),v(e,["batchJobs"],a)}return e}function G4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>vg(u))),v(e,["batchJobs"],a)}return e}function H4(t){const e={},n=p(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const i=p(t,["thought"]);i!=null&&v(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&v(e,["inlineData"],d4(r));const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],x4(a));const u=p(t,["thoughtSignature"]);u!=null&&v(e,["thoughtSignature"],u);const d=p(t,["functionCall"]);d!=null&&v(e,["functionCall"],d);const f=p(t,["codeExecutionResult"]);f!=null&&v(e,["codeExecutionResult"],f);const h=p(t,["executableCode"]);h!=null&&v(e,["executableCode"],h);const y=p(t,["functionResponse"]);y!=null&&v(e,["functionResponse"],y);const T=p(t,["text"]);return T!=null&&v(e,["text"],T),e}function $4(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&v(e,["category"],n);const i=p(t,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function Y4(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["functionDeclarations"],h)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],L4(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&v(e,["googleSearchRetrieval"],r),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],V4(a));const u=p(t,["urlContext"]);u!=null&&v(e,["urlContext"],u);const d=p(t,["computerUse"]);d!=null&&v(e,["computerUse"],d);const f=p(t,["codeExecution"]);return f!=null&&v(e,["codeExecution"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(xo||(xo={}));class sc{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J4 extends Po{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new sc(xo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Z0(this.apiClient,e),i=n._url,r=ge("{model}:batchGenerateContent",i),d=n.batch.inputConfig.requests,f=d.requests,h=[];for(const y of f){const T=Object.assign({},y);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const w=T.request;w.systemInstruction=E,T.request=w}h.push(T)}return d.requests=h,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=_4(this.apiClient,e);return d=ge("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>vg(y))}else{const h=Z0(this.apiClient,e);return d=ge("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>rd(y))}}async createEmbeddingsInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=E4(this.apiClient,e);return a=ge("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>rd(f))}}async get(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=P4(this.apiClient,e);return d=ge("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>vg(y))}else{const h=D4(this.apiClient,e);return d=ge("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>rd(y))}}async cancel(e){var n,i,r,a;let u="",d={};if(this.apiClient.isVertexAI()){const f=p4(this.apiClient,e);u=ge("batchPredictionJobs/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=h4(this.apiClient,e);u=ge("batches/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=z4(e);return d=ge("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=G4(y),E=new K0;return Object.assign(E,T),E})}else{const h=q4(e);return d=ge("batches",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=F4(y),E=new K0;return Object.assign(E,T),E})}}async delete(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=A4(this.apiClient,e);return d=ge("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>w4(y))}else{const h=S4(this.apiClient,e);return d=ge("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>C4(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K4(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&v(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function j0(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>m3(a))),v(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function Q4(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&v(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let y=Xn(u);Array.isArray(y)&&(y=y.map(T=>j0(T))),v(e,["contents"],y)}const d=p(t,["systemInstruction"]);e!==void 0&&d!=null&&v(e,["systemInstruction"],j0(ln(d)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>g3(T))),v(e,["tools"],y)}const h=p(t,["toolConfig"]);if(e!==void 0&&h!=null&&v(e,["toolConfig"],h),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function W4(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&v(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&v(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let T=Xn(u);Array.isArray(T)&&(T=T.map(E=>E)),v(e,["contents"],T)}const d=p(t,["systemInstruction"]);e!==void 0&&d!=null&&v(e,["systemInstruction"],ln(d));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let T=f;Array.isArray(T)&&(T=T.map(E=>y3(E))),v(e,["tools"],T)}const h=p(t,["toolConfig"]);e!==void 0&&h!=null&&v(e,["toolConfig"],h);const y=p(t,["kmsKeyName"]);return e!==void 0&&y!=null&&v(e,["encryption_spec","kmsKeyName"],y),n}function X4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["model"],AI(t,i));const r=p(e,["config"]);return r!=null&&Q4(r,n),n}function Z4(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["model"],AI(t,i));const r=p(e,["config"]);return r!=null&&W4(r,n),n}function j4(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ds(t,i)),n}function e3(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ds(t,i)),n}function t3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function n3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function i3(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function s3(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const r=p(t,["parameters"]);r!=null&&v(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const d=p(t,["responseJsonSchema"]);return d!=null&&v(e,["responseJsonSchema"],d),e}function r3(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ds(t,i)),n}function o3(t,e){const n={},i=p(e,["name"]);return i!=null&&v(n,["_url","name"],Ds(t,i)),n}function a3(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function l3(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function u3(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),n}function c3(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),n}function f3(t){const e={},n=p(t,["config"]);return n!=null&&u3(n,e),e}function d3(t){const e={},n=p(t,["config"]);return n!=null&&c3(n,e),e}function h3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["cachedContents"],a)}return e}function p3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["cachedContents"],a)}return e}function m3(t){const e={},n=p(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const i=p(t,["thought"]);i!=null&&v(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&v(e,["inlineData"],K4(r));const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],i3(a));const u=p(t,["thoughtSignature"]);u!=null&&v(e,["thoughtSignature"],u);const d=p(t,["functionCall"]);d!=null&&v(e,["functionCall"],d);const f=p(t,["codeExecutionResult"]);f!=null&&v(e,["codeExecutionResult"],f);const h=p(t,["executableCode"]);h!=null&&v(e,["executableCode"],h);const y=p(t,["functionResponse"]);y!=null&&v(e,["functionResponse"],y);const T=p(t,["text"]);return T!=null&&v(e,["text"],T),e}function g3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["functionDeclarations"],h)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],l3(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&v(e,["googleSearchRetrieval"],r),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],a3(a));const u=p(t,["urlContext"]);u!=null&&v(e,["urlContext"],u);const d=p(t,["computerUse"]);d!=null&&v(e,["computerUse"],d);const f=p(t,["codeExecution"]);return f!=null&&v(e,["codeExecution"],f),e}function y3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(E=>s3(E))),v(e,["functionDeclarations"],T)}const i=p(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],r);const a=p(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],a);const u=p(t,["enterpriseWebSearch"]);u!=null&&v(e,["enterpriseWebSearch"],u);const d=p(t,["googleMaps"]);d!=null&&v(e,["googleMaps"],d);const f=p(t,["urlContext"]);f!=null&&v(e,["urlContext"],f);const h=p(t,["computerUse"]);h!=null&&v(e,["computerUse"],h);const y=p(t,["codeExecution"]);return y!=null&&v(e,["codeExecution"],y),e}function v3(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&v(e,["expireTime"],r),n}function _3(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&v(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&v(e,["expireTime"],r),n}function T3(t,e){const n={},i=p(e,["name"]);i!=null&&v(n,["_url","name"],Ds(t,i));const r=p(e,["config"]);return r!=null&&v3(r,n),n}function E3(t,e){const n={},i=p(e,["name"]);i!=null&&v(n,["_url","name"],Ds(t,i));const r=p(e,["config"]);return r!=null&&_3(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S3 extends Po{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sc(xo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=Z4(this.apiClient,e);return d=ge("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const h=X4(this.apiClient,e);return d=ge("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=o3(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const h=r3(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=e3(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=n3(y),E=new Y0;return Object.assign(E,T),E})}else{const h=j4(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=t3(y),E=new Y0;return Object.assign(E,T),E})}}async update(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=E3(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const h=T3(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=d3(e);return d=ge("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=p3(y),E=new J0;return Object.assign(E,T),E})}else{const h=f3(e);return d=ge("cachedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=h3(y),E=new J0;return Object.assign(E,T),E})}}}function eA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lt(t){return this instanceof lt?(this.v=t,this):new lt(t)}function Ua(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(w){return function(D){return Promise.resolve(D).then(w,T)}}function d(w,D){i[w]&&(r[w]=function(L){return new Promise(function(k,G){a.push([w,L,k,G])>1||f(w,L)})},D&&(r[w]=D(r[w])))}function f(w,D){try{h(i[w](D))}catch(L){E(a[0][3],L)}}function h(w){w.value instanceof lt?Promise.resolve(w.value.v).then(y,T):E(a[0][2],w)}function y(w){f("next",w)}function T(w){f("throw",w)}function E(w,D){w(D),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Mu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eA=="function"?eA(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(d,f){u=t[a](u),r(d,f,u.done,u.value)})}}function r(a,u,d,f){Promise.resolve(f).then(function(h){a({value:h,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A3(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:kI(n)}function kI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function C3(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!kI(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class w3{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new I3(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class I3{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),C3(a)}async sendMessage(e){var n;await this.sendPromise;const i=ln(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,d;const f=await r,h=(u=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,y=f.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];y!=null&&(E=(d=y.slice(T))!==null&&d!==void 0?d:[]);const w=h?[h]:[];this.recordHistory(i,w,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=ln(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?tA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return Ua(this,arguments,function*(){var u,d,f,h;const y=[];try{for(var T=!0,E=Mu(e),w;w=yield lt(E.next()),u=w.done,!u;T=!0){h=w.value,T=!1;const D=h;if(A3(D)){const L=(r=(i=D.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;L!==void 0&&y.push(L)}yield yield lt(D)}}catch(D){d={error:D}}finally{try{!T&&!u&&(f=E.return)&&(yield lt(f.call(E)))}finally{if(d)throw d.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...tA(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R3(t){const e={},n=p(t,["file"]);return n!=null&&v(e,["file"],n),e}function b3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function x3(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],xI(n)),e}function M3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function N3(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],xI(n)),e}function D3(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),n}function P3(t){const e={},n=p(t,["config"]);return n!=null&&D3(n,e),e}function V3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L3 extends Po{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sc(xo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=P3(e);return a=ge("files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>{const h=V3(f),y=new YO;return Object.assign(y,h),y})}}async createInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=R3(e);return a=ge("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>{const h=b3(f),y=new JO;return Object.assign(y,h),y})}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=N3(e);return a=ge("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>f)}}async delete(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=x3(e);return a=ge("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>{const h=M3(f),y=new KO;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function od(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&v(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function k3(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>X3(a))),v(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function U3(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function O3(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const r=p(t,["parameters"]);r!=null&&v(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const d=p(t,["responseJsonSchema"]);return d!=null&&v(e,["responseJsonSchema"],d),e}function B3(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const i=p(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const r=p(t,["candidateCount"]);r!=null&&v(e,["candidateCount"],r);const a=p(t,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const u=p(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const d=p(t,["logprobs"]);d!=null&&v(e,["logprobs"],d);const f=p(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const h=p(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const y=p(t,["presencePenalty"]);y!=null&&v(e,["presencePenalty"],y);const T=p(t,["responseJsonSchema"]);T!=null&&v(e,["responseJsonSchema"],T);const E=p(t,["responseLogprobs"]);E!=null&&v(e,["responseLogprobs"],E);const w=p(t,["responseMimeType"]);w!=null&&v(e,["responseMimeType"],w);const D=p(t,["responseModalities"]);D!=null&&v(e,["responseModalities"],D);const L=p(t,["responseSchema"]);L!=null&&v(e,["responseSchema"],L);const k=p(t,["routingConfig"]);k!=null&&v(e,["routingConfig"],k);const G=p(t,["seed"]);G!=null&&v(e,["seed"],G);const q=p(t,["speechConfig"]);q!=null&&v(e,["speechConfig"],UI(q));const z=p(t,["stopSequences"]);z!=null&&v(e,["stopSequences"],z);const X=p(t,["temperature"]);X!=null&&v(e,["temperature"],X);const j=p(t,["thinkingConfig"]);j!=null&&v(e,["thinkingConfig"],j);const ie=p(t,["topK"]);ie!=null&&v(e,["topK"],ie);const M=p(t,["topP"]);if(M!=null&&v(e,["topP"],M),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function q3(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function z3(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function F3(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const d=p(t,["topK"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","topK"],d);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const y=p(t,["seed"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","seed"],y);const T=p(t,["speechConfig"]);e!==void 0&&T!=null&&v(e,["setup","generationConfig","speechConfig"],by(T));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","thinkingConfig"],E);const w=p(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],w);const D=p(t,["systemInstruction"]);e!==void 0&&D!=null&&v(e,["setup","systemInstruction"],k3(ln(D)));const L=p(t,["tools"]);if(e!==void 0&&L!=null){let ie=rl(L);Array.isArray(ie)&&(ie=ie.map(M=>j3(sl(M)))),v(e,["setup","tools"],ie)}const k=p(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],Z3(k));const G=p(t,["inputAudioTranscription"]);e!==void 0&&G!=null&&v(e,["setup","inputAudioTranscription"],G);const q=p(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&v(e,["setup","outputAudioTranscription"],q);const z=p(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&v(e,["setup","realtimeInputConfig"],z);const X=p(t,["contextWindowCompression"]);e!==void 0&&X!=null&&v(e,["setup","contextWindowCompression"],X);const j=p(t,["proactivity"]);return e!==void 0&&j!=null&&v(e,["setup","proactivity"],j),n}function G3(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],B3(i));const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const d=p(t,["topK"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","topK"],d);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const y=p(t,["seed"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","seed"],y);const T=p(t,["speechConfig"]);e!==void 0&&T!=null&&v(e,["setup","generationConfig","speechConfig"],UI(by(T)));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","thinkingConfig"],E);const w=p(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],w);const D=p(t,["systemInstruction"]);e!==void 0&&D!=null&&v(e,["setup","systemInstruction"],ln(D));const L=p(t,["tools"]);if(e!==void 0&&L!=null){let ie=rl(L);Array.isArray(ie)&&(ie=ie.map(M=>e6(sl(M)))),v(e,["setup","tools"],ie)}const k=p(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],k);const G=p(t,["inputAudioTranscription"]);e!==void 0&&G!=null&&v(e,["setup","inputAudioTranscription"],G);const q=p(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&v(e,["setup","outputAudioTranscription"],q);const z=p(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&v(e,["setup","realtimeInputConfig"],z);const X=p(t,["contextWindowCompression"]);e!==void 0&&X!=null&&v(e,["setup","contextWindowCompression"],X);const j=p(t,["proactivity"]);return e!==void 0&&j!=null&&v(e,["setup","proactivity"],j),n}function H3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["setup","model"],Ke(t,i));const r=p(e,["config"]);return r!=null&&v(n,["config"],F3(r,n)),n}function $3(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["setup","model"],Ke(t,i));const r=p(e,["config"]);return r!=null&&v(n,["config"],G3(r,n)),n}function Y3(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function J3(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),v(e,["weightedPrompts"],i)}return e}function K3(t){const e={},n=p(t,["media"]);if(n!=null){let h=CI(n);Array.isArray(h)&&(h=h.map(y=>od(y))),v(e,["mediaChunks"],h)}const i=p(t,["audio"]);i!=null&&v(e,["audio"],od(II(i)));const r=p(t,["audioStreamEnd"]);r!=null&&v(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&v(e,["video"],od(wI(a)));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const d=p(t,["activityStart"]);d!=null&&v(e,["activityStart"],d);const f=p(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function Q3(t){const e={},n=p(t,["media"]);if(n!=null){let h=CI(n);Array.isArray(h)&&(h=h.map(y=>y)),v(e,["mediaChunks"],h)}const i=p(t,["audio"]);i!=null&&v(e,["audio"],II(i));const r=p(t,["audioStreamEnd"]);r!=null&&v(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&v(e,["video"],wI(a));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const d=p(t,["activityStart"]);d!=null&&v(e,["activityStart"],d);const f=p(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function W3(t){const e={},n=p(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&v(e,["serverContent"],i);const r=p(t,["toolCall"]);r!=null&&v(e,["toolCall"],r);const a=p(t,["toolCallCancellation"]);a!=null&&v(e,["toolCallCancellation"],a);const u=p(t,["usageMetadata"]);u!=null&&v(e,["usageMetadata"],t6(u));const d=p(t,["goAway"]);d!=null&&v(e,["goAway"],d);const f=p(t,["sessionResumptionUpdate"]);return f!=null&&v(e,["sessionResumptionUpdate"],f),e}function X3(t){const e={},n=p(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const i=p(t,["thought"]);i!=null&&v(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&v(e,["inlineData"],od(r));const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],U3(a));const u=p(t,["thoughtSignature"]);u!=null&&v(e,["thoughtSignature"],u);const d=p(t,["functionCall"]);d!=null&&v(e,["functionCall"],d);const f=p(t,["codeExecutionResult"]);f!=null&&v(e,["codeExecutionResult"],f);const h=p(t,["executableCode"]);h!=null&&v(e,["executableCode"],h);const y=p(t,["functionResponse"]);y!=null&&v(e,["functionResponse"],y);const T=p(t,["text"]);return T!=null&&v(e,["text"],T),e}function Z3(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function UI(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],n),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=p(t,["languageCode"]);return i!=null&&v(e,["languageCode"],i),e}function j3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["functionDeclarations"],h)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],z3(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&v(e,["googleSearchRetrieval"],r),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],q3(a));const u=p(t,["urlContext"]);u!=null&&v(e,["urlContext"],u);const d=p(t,["computerUse"]);d!=null&&v(e,["computerUse"],d);const f=p(t,["codeExecution"]);return f!=null&&v(e,["codeExecution"],f),e}function e6(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(E=>O3(E))),v(e,["functionDeclarations"],T)}const i=p(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],r);const a=p(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],a);const u=p(t,["enterpriseWebSearch"]);u!=null&&v(e,["enterpriseWebSearch"],u);const d=p(t,["googleMaps"]);d!=null&&v(e,["googleMaps"],d);const f=p(t,["urlContext"]);f!=null&&v(e,["urlContext"],f);const h=p(t,["computerUse"]);h!=null&&v(e,["computerUse"],h);const y=p(t,["codeExecution"]);return y!=null&&v(e,["codeExecution"],y),e}function t6(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&v(e,["cachedContentTokenCount"],i);const r=p(t,["candidatesTokenCount"]);r!=null&&v(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&v(e,["toolUsePromptTokenCount"],a);const u=p(t,["thoughtsTokenCount"]);u!=null&&v(e,["thoughtsTokenCount"],u);const d=p(t,["totalTokenCount"]);d!=null&&v(e,["totalTokenCount"],d);const f=p(t,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(D=>D)),v(e,["promptTokensDetails"],w)}const h=p(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(D=>D)),v(e,["cacheTokensDetails"],w)}const y=p(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(D=>D)),v(e,["responseTokensDetails"],w)}const T=p(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(D=>D)),v(e,["toolUsePromptTokensDetails"],w)}const E=p(t,["trafficType"]);return E!=null&&v(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n6(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&v(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function i6(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&v(e,["citationMetadata"],s6(i));const r=p(t,["tokenCount"]);r!=null&&v(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&v(e,["finishReason"],a);const u=p(t,["urlContextMetadata"]);u!=null&&v(e,["urlContextMetadata"],u);const d=p(t,["avgLogprobs"]);d!=null&&v(e,["avgLogprobs"],d);const f=p(t,["groundingMetadata"]);f!=null&&v(e,["groundingMetadata"],f);const h=p(t,["index"]);h!=null&&v(e,["index"],h);const y=p(t,["logprobsResult"]);y!=null&&v(e,["logprobsResult"],y);const T=p(t,["safetyRatings"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(w=>w)),v(e,["safetyRatings"],E)}return e}function s6(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),v(e,["citations"],i)}return e}function r6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let a=Xn(r);Array.isArray(a)&&(a=a.map(u=>u)),v(n,["contents"],a)}return n}function o6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),v(e,["tokensInfo"],r)}return e}function a6(t){const e={},n=p(t,["values"]);n!=null&&v(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&v(e,["statistics"],l6(i)),e}function l6(t){const e={},n=p(t,["truncated"]);n!=null&&v(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&v(e,["tokenCount"],i),e}function rh(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>h5(a))),v(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function u6(t){const e={},n=p(t,["controlType"]);n!=null&&v(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&v(e,["computeControl"],i),e}function c6(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function f6(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],ln(i));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>FI(d))),v(e,["tools"],u)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&v(e,["generationConfig"],e5(a)),n}function d6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let u=Xn(r);Array.isArray(u)&&(u=u.map(d=>rh(d))),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&c6(a),n}function h6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let u=Xn(r);Array.isArray(u)&&(u=u.map(d=>d)),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&f6(a,n),n}function p6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&v(e,["totalTokens"],i);const r=p(t,["cachedContentTokenCount"]);return r!=null&&v(e,["cachedContentTokenCount"],r),e}function m6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&v(e,["totalTokens"],i),e}function g6(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],Ke(t,i)),n}function y6(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],Ke(t,i)),n}function v6(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function _6(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function T6(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&v(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const d=p(t,["guidanceScale"]);e!==void 0&&d!=null&&v(e,["parameters","guidanceScale"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const y=p(t,["personGeneration"]);e!==void 0&&y!=null&&v(e,["parameters","personGeneration"],y);const T=p(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&v(e,["parameters","includeSafetyAttributes"],T);const E=p(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const w=p(t,["language"]);e!==void 0&&w!=null&&v(e,["parameters","language"],w);const D=p(t,["outputMimeType"]);e!==void 0&&D!=null&&v(e,["parameters","outputOptions","mimeType"],D);const L=p(t,["outputCompressionQuality"]);e!==void 0&&L!=null&&v(e,["parameters","outputOptions","compressionQuality"],L);const k=p(t,["addWatermark"]);e!==void 0&&k!=null&&v(e,["parameters","addWatermark"],k);const G=p(t,["labels"]);e!==void 0&&G!=null&&v(e,["labels"],G);const q=p(t,["editMode"]);e!==void 0&&q!=null&&v(e,["parameters","editMode"],q);const z=p(t,["baseSteps"]);return e!==void 0&&z!=null&&v(e,["parameters","editConfig","baseSteps"],z),n}function E6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["prompt"]);r!=null&&v(n,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>_5(f))),v(n,["instances[0]","referenceImages"],d)}const u=p(e,["config"]);return u!=null&&T6(u,n),n}function S6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>oh(a))),v(e,["generatedImages"],r)}return e}function A6(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&v(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&v(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function C6(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&v(e,["instances[]","title"],r);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&v(e,["parameters","outputDimensionality"],a);const u=p(t,["mimeType"]);e!==void 0&&u!=null&&v(e,["instances[]","mimeType"],u);const d=p(t,["autoTruncate"]);return e!==void 0&&d!=null&&v(e,["parameters","autoTruncate"],d),n}function w6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let d=wy(t,r);Array.isArray(d)&&(d=d.map(f=>f)),v(n,["requests[]","content"],d)}const a=p(e,["config"]);a!=null&&A6(a,n);const u=p(e,["model"]);return u!==void 0&&v(n,["requests[]","model"],Ke(t,u)),n}function I6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let u=wy(t,r);Array.isArray(u)&&(u=u.map(d=>d)),v(n,["instances[]","content"],u)}const a=p(e,["config"]);return a!=null&&C6(a,n),n}function R6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),v(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&v(e,["metadata"],r),e}function b6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>a6(u))),v(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&v(e,["metadata"],r),e}function x6(t){const e={},n=p(t,["endpoint"]);n!=null&&v(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&v(e,["deployedModelId"],i),e}function M6(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function N6(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const i=p(t,["name"]);i!=null&&v(e,["name"],i);const r=p(t,["parameters"]);r!=null&&v(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&v(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&v(e,["response"],u);const d=p(t,["responseJsonSchema"]);return d!=null&&v(e,["responseJsonSchema"],d),e}function D6(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&v(n,["systemInstruction"],rh(ln(r)));const a=p(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&v(i,["topP"],u);const d=p(e,["topK"]);d!=null&&v(i,["topK"],d);const f=p(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const y=p(e,["stopSequences"]);y!=null&&v(i,["stopSequences"],y);const T=p(e,["responseLogprobs"]);T!=null&&v(i,["responseLogprobs"],T);const E=p(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const w=p(e,["presencePenalty"]);w!=null&&v(i,["presencePenalty"],w);const D=p(e,["frequencyPenalty"]);D!=null&&v(i,["frequencyPenalty"],D);const L=p(e,["seed"]);L!=null&&v(i,["seed"],L);const k=p(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const G=p(e,["responseSchema"]);G!=null&&v(i,["responseSchema"],Iy(G));const q=p(e,["responseJsonSchema"]);if(q!=null&&v(i,["responseJsonSchema"],q),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=p(e,["safetySettings"]);if(n!==void 0&&z!=null){let O=z;Array.isArray(O)&&(O=O.map(U=>T5(U))),v(n,["safetySettings"],O)}const X=p(e,["tools"]);if(n!==void 0&&X!=null){let O=rl(X);Array.isArray(O)&&(O=O.map(U=>I5(sl(U)))),v(n,["tools"],O)}const j=p(e,["toolConfig"]);if(n!==void 0&&j!=null&&v(n,["toolConfig"],j),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=p(e,["cachedContent"]);n!==void 0&&ie!=null&&v(n,["cachedContent"],Ds(t,ie));const M=p(e,["responseModalities"]);M!=null&&v(i,["responseModalities"],M);const I=p(e,["mediaResolution"]);I!=null&&v(i,["mediaResolution"],I);const x=p(e,["speechConfig"]);if(x!=null&&v(i,["speechConfig"],Ry(x)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=p(e,["thinkingConfig"]);V!=null&&v(i,["thinkingConfig"],V);const P=p(e,["imageConfig"]);return P!=null&&v(i,["imageConfig"],P),i}function P6(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&v(n,["systemInstruction"],ln(r));const a=p(e,["temperature"]);a!=null&&v(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&v(i,["topP"],u);const d=p(e,["topK"]);d!=null&&v(i,["topK"],d);const f=p(e,["candidateCount"]);f!=null&&v(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const y=p(e,["stopSequences"]);y!=null&&v(i,["stopSequences"],y);const T=p(e,["responseLogprobs"]);T!=null&&v(i,["responseLogprobs"],T);const E=p(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const w=p(e,["presencePenalty"]);w!=null&&v(i,["presencePenalty"],w);const D=p(e,["frequencyPenalty"]);D!=null&&v(i,["frequencyPenalty"],D);const L=p(e,["seed"]);L!=null&&v(i,["seed"],L);const k=p(e,["responseMimeType"]);k!=null&&v(i,["responseMimeType"],k);const G=p(e,["responseSchema"]);G!=null&&v(i,["responseSchema"],Iy(G));const q=p(e,["responseJsonSchema"]);q!=null&&v(i,["responseJsonSchema"],q);const z=p(e,["routingConfig"]);z!=null&&v(i,["routingConfig"],z);const X=p(e,["modelSelectionConfig"]);X!=null&&v(i,["modelConfig"],X);const j=p(e,["safetySettings"]);if(n!==void 0&&j!=null){let te=j;Array.isArray(te)&&(te=te.map(ce=>ce)),v(n,["safetySettings"],te)}const ie=p(e,["tools"]);if(n!==void 0&&ie!=null){let te=rl(ie);Array.isArray(te)&&(te=te.map(ce=>FI(sl(ce)))),v(n,["tools"],te)}const M=p(e,["toolConfig"]);n!==void 0&&M!=null&&v(n,["toolConfig"],M);const I=p(e,["labels"]);n!==void 0&&I!=null&&v(n,["labels"],I);const x=p(e,["cachedContent"]);n!==void 0&&x!=null&&v(n,["cachedContent"],Ds(t,x));const V=p(e,["responseModalities"]);V!=null&&v(i,["responseModalities"],V);const P=p(e,["mediaResolution"]);P!=null&&v(i,["mediaResolution"],P);const O=p(e,["speechConfig"]);O!=null&&v(i,["speechConfig"],zI(Ry(O)));const U=p(e,["audioTimestamp"]);U!=null&&v(i,["audioTimestamp"],U);const Re=p(e,["thinkingConfig"]);Re!=null&&v(i,["thinkingConfig"],Re);const Ue=p(e,["imageConfig"]);return Ue!=null&&v(i,["imageConfig"],Ue),i}function nA(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let u=Xn(r);Array.isArray(u)&&(u=u.map(d=>rh(d))),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&v(n,["generationConfig"],D6(t,a,n)),n}function iA(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["contents"]);if(r!=null){let u=Xn(r);Array.isArray(u)&&(u=u.map(d=>d)),v(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&v(n,["generationConfig"],P6(t,a,n)),n}function sA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>i6(h))),v(e,["candidates"],f)}const r=p(t,["modelVersion"]);r!=null&&v(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&v(e,["responseId"],u);const d=p(t,["usageMetadata"]);return d!=null&&v(e,["usageMetadata"],d),e}function rA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["candidates"],h)}const r=p(t,["createTime"]);r!=null&&v(e,["createTime"],r);const a=p(t,["modelVersion"]);a!=null&&v(e,["modelVersion"],a);const u=p(t,["promptFeedback"]);u!=null&&v(e,["promptFeedback"],u);const d=p(t,["responseId"]);d!=null&&v(e,["responseId"],d);const f=p(t,["usageMetadata"]);return f!=null&&v(e,["usageMetadata"],f),e}function V6(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&v(e,["parameters","aspectRatio"],r);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&v(e,["parameters","language"],y);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&v(e,["parameters","outputOptions","mimeType"],T);const E=p(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&v(e,["parameters","outputOptions","compressionQuality"],E),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=p(t,["imageSize"]);if(e!==void 0&&w!=null&&v(e,["parameters","sampleImageSize"],w),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function L6(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&v(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&v(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&v(e,["parameters","aspectRatio"],u);const d=p(t,["guidanceScale"]);e!==void 0&&d!=null&&v(e,["parameters","guidanceScale"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const y=p(t,["personGeneration"]);e!==void 0&&y!=null&&v(e,["parameters","personGeneration"],y);const T=p(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&v(e,["parameters","includeSafetyAttributes"],T);const E=p(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const w=p(t,["language"]);e!==void 0&&w!=null&&v(e,["parameters","language"],w);const D=p(t,["outputMimeType"]);e!==void 0&&D!=null&&v(e,["parameters","outputOptions","mimeType"],D);const L=p(t,["outputCompressionQuality"]);e!==void 0&&L!=null&&v(e,["parameters","outputOptions","compressionQuality"],L);const k=p(t,["addWatermark"]);e!==void 0&&k!=null&&v(e,["parameters","addWatermark"],k);const G=p(t,["labels"]);e!==void 0&&G!=null&&v(e,["labels"],G);const q=p(t,["imageSize"]);e!==void 0&&q!=null&&v(e,["parameters","sampleImageSize"],q);const z=p(t,["enhancePrompt"]);return e!==void 0&&z!=null&&v(e,["parameters","enhancePrompt"],z),n}function k6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["prompt"]);r!=null&&v(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&V6(a,n),n}function U6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["prompt"]);r!=null&&v(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&L6(a,n),n}function O6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>W6(u))),v(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&v(e,["positivePromptSafetyAttributes"],BI(r)),e}function B6(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>oh(u))),v(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&v(e,["positivePromptSafetyAttributes"],qI(r)),e}function q6(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&v(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const u=p(t,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);if(e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const h=p(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&v(e,["instances[0]","lastFrame"],ah(y));const T=p(t,["referenceImages"]);if(e!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(w=>B5(w))),v(e,["instances[0]","referenceImages"],E)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function z6(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const a=p(t,["fps"]);e!==void 0&&a!=null&&v(e,["parameters","fps"],a);const u=p(t,["durationSeconds"]);e!==void 0&&u!=null&&v(e,["parameters","durationSeconds"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const h=p(t,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const y=p(t,["personGeneration"]);e!==void 0&&y!=null&&v(e,["parameters","personGeneration"],y);const T=p(t,["pubsubTopic"]);e!==void 0&&T!=null&&v(e,["parameters","pubsubTopic"],T);const E=p(t,["negativePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","negativePrompt"],E);const w=p(t,["enhancePrompt"]);e!==void 0&&w!=null&&v(e,["parameters","enhancePrompt"],w);const D=p(t,["generateAudio"]);e!==void 0&&D!=null&&v(e,["parameters","generateAudio"],D);const L=p(t,["lastFrame"]);e!==void 0&&L!=null&&v(e,["instances[0]","lastFrame"],vi(L));const k=p(t,["referenceImages"]);if(e!==void 0&&k!=null){let z=k;Array.isArray(z)&&(z=z.map(X=>q5(X))),v(e,["instances[0]","referenceImages"],z)}const G=p(t,["mask"]);e!==void 0&&G!=null&&v(e,["instances[0]","mask"],O5(G));const q=p(t,["compressionQuality"]);return e!==void 0&&q!=null&&v(e,["parameters","compressionQuality"],q),n}function F6(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(t,["done"]);r!=null&&v(e,["done"],r);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&v(e,["response"],Y6(u)),e}function G6(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["metadata"]);i!=null&&v(e,["metadata"],i);const r=p(t,["done"]);r!=null&&v(e,["done"],r);const a=p(t,["error"]);a!=null&&v(e,["error"],a);const u=p(t,["response"]);return u!=null&&v(e,["response"],J6(u)),e}function H6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["prompt"]);r!=null&&v(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&v(n,["instances[0]","image"],ah(a));const u=p(e,["video"]);u!=null&&v(n,["instances[0]","video"],GI(u));const d=p(e,["source"]);d!=null&&K6(d,n);const f=p(e,["config"]);return f!=null&&q6(f,n),n}function $6(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["prompt"]);r!=null&&v(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&v(n,["instances[0]","image"],vi(a));const u=p(e,["video"]);u!=null&&v(n,["instances[0]","video"],HI(u));const d=p(e,["source"]);d!=null&&Q6(d,n);const f=p(e,["config"]);return f!=null&&z6(f,n),n}function Y6(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Z6(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function J6(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>j6(u))),v(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&v(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function K6(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&v(e,["instances[0]","image"],ah(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],GI(a)),n}function Q6(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&v(e,["instances[0]","image"],vi(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&v(e,["instances[0]","video"],HI(a)),n}function W6(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["image"],r5(n));const i=p(t,["raiFilteredReason"]);i!=null&&v(e,["raiFilteredReason"],i);const r=p(t,["_self"]);return r!=null&&v(e,["safetyAttributes"],BI(r)),e}function oh(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["image"],OI(n));const i=p(t,["raiFilteredReason"]);i!=null&&v(e,["raiFilteredReason"],i);const r=p(t,["_self"]);r!=null&&v(e,["safetyAttributes"],qI(r));const a=p(t,["prompt"]);return a!=null&&v(e,["enhancedPrompt"],a),e}function X6(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["mask"],OI(n));const i=p(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),v(e,["labels"],r)}return e}function Z6(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],k5(n)),e}function j6(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],U5(n)),e}function e5(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const i=p(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const r=p(t,["candidateCount"]);r!=null&&v(e,["candidateCount"],r);const a=p(t,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const u=p(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const d=p(t,["logprobs"]);d!=null&&v(e,["logprobs"],d);const f=p(t,["maxOutputTokens"]);f!=null&&v(e,["maxOutputTokens"],f);const h=p(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const y=p(t,["presencePenalty"]);y!=null&&v(e,["presencePenalty"],y);const T=p(t,["responseJsonSchema"]);T!=null&&v(e,["responseJsonSchema"],T);const E=p(t,["responseLogprobs"]);E!=null&&v(e,["responseLogprobs"],E);const w=p(t,["responseMimeType"]);w!=null&&v(e,["responseMimeType"],w);const D=p(t,["responseModalities"]);D!=null&&v(e,["responseModalities"],D);const L=p(t,["responseSchema"]);L!=null&&v(e,["responseSchema"],L);const k=p(t,["routingConfig"]);k!=null&&v(e,["routingConfig"],k);const G=p(t,["seed"]);G!=null&&v(e,["seed"],G);const q=p(t,["speechConfig"]);q!=null&&v(e,["speechConfig"],zI(q));const z=p(t,["stopSequences"]);z!=null&&v(e,["stopSequences"],z);const X=p(t,["temperature"]);X!=null&&v(e,["temperature"],X);const j=p(t,["thinkingConfig"]);j!=null&&v(e,["thinkingConfig"],j);const ie=p(t,["topK"]);ie!=null&&v(e,["topK"],ie);const M=p(t,["topP"]);if(M!=null&&v(e,["topP"],M),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function t5(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],Ke(t,i)),n}function n5(t,e){const n={},i=p(e,["model"]);return i!=null&&v(n,["_url","name"],Ke(t,i)),n}function i5(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function s5(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function r5(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],Br(n));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function OI(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&v(e,["imageBytes"],Br(i));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function ah(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],Br(n));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function vi(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&v(e,["bytesBase64Encoded"],Br(i));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function o5(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&v(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const d=p(e,["queryBase"]);return n!==void 0&&d!=null&&v(n,["_url","models_url"],MI(t,d)),i}function a5(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&v(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&v(n,["_query","filter"],u);const d=p(e,["queryBase"]);return n!==void 0&&d!=null&&v(n,["_url","models_url"],MI(t,d)),i}function l5(t,e){const n={},i=p(e,["config"]);return i!=null&&o5(t,i,n),n}function u5(t,e){const n={},i=p(e,["config"]);return i!=null&&a5(t,i,n),n}function c5(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let a=NI(r);Array.isArray(a)&&(a=a.map(u=>_g(u))),v(e,["models"],a)}return e}function f5(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&v(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let a=NI(r);Array.isArray(a)&&(a=a.map(u=>Tg(u))),v(e,["models"],a)}return e}function d5(t){const e={},n=p(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&v(e,["maskClasses"],i);const r=p(t,["maskDilation"]);return r!=null&&v(e,["dilation"],r),e}function _g(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["displayName"]);i!=null&&v(e,["displayName"],i);const r=p(t,["description"]);r!=null&&v(e,["description"],r);const a=p(t,["version"]);a!=null&&v(e,["version"],a);const u=p(t,["_self"]);u!=null&&v(e,["tunedModelInfo"],R5(u));const d=p(t,["inputTokenLimit"]);d!=null&&v(e,["inputTokenLimit"],d);const f=p(t,["outputTokenLimit"]);f!=null&&v(e,["outputTokenLimit"],f);const h=p(t,["supportedGenerationMethods"]);return h!=null&&v(e,["supportedActions"],h),e}function Tg(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const i=p(t,["displayName"]);i!=null&&v(e,["displayName"],i);const r=p(t,["description"]);r!=null&&v(e,["description"],r);const a=p(t,["versionId"]);a!=null&&v(e,["version"],a);const u=p(t,["deployedModels"]);if(u!=null){let T=u;Array.isArray(T)&&(T=T.map(E=>x6(E))),v(e,["endpoints"],T)}const d=p(t,["labels"]);d!=null&&v(e,["labels"],d);const f=p(t,["_self"]);f!=null&&v(e,["tunedModelInfo"],b5(f));const h=p(t,["defaultCheckpointId"]);h!=null&&v(e,["defaultCheckpointId"],h);const y=p(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>E)),v(e,["checkpoints"],T)}return e}function h5(t){const e={},n=p(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const i=p(t,["thought"]);i!=null&&v(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&v(e,["inlineData"],n6(r));const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],M6(a));const u=p(t,["thoughtSignature"]);u!=null&&v(e,["thoughtSignature"],u);const d=p(t,["functionCall"]);d!=null&&v(e,["functionCall"],d);const f=p(t,["codeExecutionResult"]);f!=null&&v(e,["codeExecutionResult"],f);const h=p(t,["executableCode"]);h!=null&&v(e,["executableCode"],h);const y=p(t,["functionResponse"]);y!=null&&v(e,["functionResponse"],y);const T=p(t,["text"]);return T!=null&&v(e,["text"],T),e}function p5(t){const e={},n=p(t,["productImage"]);return n!=null&&v(e,["image"],vi(n)),e}function m5(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const r=p(t,["baseSteps"]);e!==void 0&&r!=null&&v(e,["parameters","editConfig","baseSteps"],r);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&v(e,["parameters","storageUri"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const h=p(t,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&v(e,["parameters","outputOptions","mimeType"],y);const T=p(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&v(e,["parameters","outputOptions","compressionQuality"],T);const E=p(t,["enhancePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","enhancePrompt"],E);const w=p(t,["labels"]);return e!==void 0&&w!=null&&v(e,["labels"],w),n}function g5(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["source"]);r!=null&&v5(r,n);const a=p(e,["config"]);return a!=null&&m5(a,n),n}function y5(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>oh(r))),v(e,["generatedImages"],i)}return e}function v5(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const r=p(t,["personImage"]);e!==void 0&&r!=null&&v(e,["instances[0]","personImage","image"],vi(r));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>p5(d))),v(e,["instances[0]","productImages"],u)}return n}function _5(t){const e={},n=p(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],vi(n));const i=p(t,["referenceId"]);i!=null&&v(e,["referenceId"],i);const r=p(t,["referenceType"]);r!=null&&v(e,["referenceType"],r);const a=p(t,["maskImageConfig"]);a!=null&&v(e,["maskImageConfig"],d5(a));const u=p(t,["controlImageConfig"]);u!=null&&v(e,["controlImageConfig"],u6(u));const d=p(t,["styleImageConfig"]);d!=null&&v(e,["styleImageConfig"],d);const f=p(t,["subjectImageConfig"]);return f!=null&&v(e,["subjectImageConfig"],f),e}function BI(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&v(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&v(e,["contentType"],r),e}function qI(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&v(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&v(e,["contentType"],r),e}function T5(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&v(e,["category"],n);const i=p(t,["threshold"]);return i!=null&&v(e,["threshold"],i),e}function E5(t){const e={},n=p(t,["image"]);return n!=null&&v(e,["image"],vi(n)),e}function S5(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const r=p(t,["maxPredictions"]);e!==void 0&&r!=null&&v(e,["parameters","maxPredictions"],r);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&v(e,["parameters","confidenceThreshold"],a);const u=p(t,["maskDilation"]);e!==void 0&&u!=null&&v(e,["parameters","maskDilation"],u);const d=p(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&v(e,["parameters","binaryColorThreshold"],d);const f=p(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),n}function A5(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["source"]);r!=null&&w5(r,n);const a=p(e,["config"]);return a!=null&&S5(a,n),n}function C5(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>X6(r))),v(e,["generatedMasks"],i)}return e}function w5(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&v(e,["instances[0]","image"],vi(r));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&v(e,["instances[0]","scribble"],E5(a)),n}function zI(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&v(e,["voiceConfig"],n),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=p(t,["languageCode"]);return i!=null&&v(e,["languageCode"],i),e}function I5(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["functionDeclarations"],h)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],s5(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&v(e,["googleSearchRetrieval"],r),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],i5(a));const u=p(t,["urlContext"]);u!=null&&v(e,["urlContext"],u);const d=p(t,["computerUse"]);d!=null&&v(e,["computerUse"],d);const f=p(t,["codeExecution"]);return f!=null&&v(e,["codeExecution"],f),e}function FI(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(E=>N6(E))),v(e,["functionDeclarations"],T)}const i=p(t,["retrieval"]);i!=null&&v(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&v(e,["googleSearch"],r);const a=p(t,["googleSearchRetrieval"]);a!=null&&v(e,["googleSearchRetrieval"],a);const u=p(t,["enterpriseWebSearch"]);u!=null&&v(e,["enterpriseWebSearch"],u);const d=p(t,["googleMaps"]);d!=null&&v(e,["googleMaps"],d);const f=p(t,["urlContext"]);f!=null&&v(e,["urlContext"],f);const h=p(t,["computerUse"]);h!=null&&v(e,["computerUse"],h);const y=p(t,["codeExecution"]);return y!=null&&v(e,["codeExecution"],y),e}function R5(t){const e={},n=p(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&v(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&v(e,["updateTime"],r),e}function b5(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&v(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&v(e,["updateTime"],r),e}function x5(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&v(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function M5(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&v(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&v(e,["defaultCheckpointId"],a),n}function N5(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","name"],Ke(t,i));const r=p(e,["config"]);return r!=null&&x5(r,n),n}function D5(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["config"]);return r!=null&&M5(r,n),n}function P5(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const r=p(t,["includeRaiReason"]);e!==void 0&&r!=null&&v(e,["parameters","includeRaiReason"],r);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&v(e,["parameters","outputOptions","mimeType"],a);const u=p(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&v(e,["parameters","outputOptions","compressionQuality"],u);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=p(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=p(t,["labels"]);e!==void 0&&h!=null&&v(e,["labels"],h);const y=p(t,["numberOfImages"]);e!==void 0&&y!=null&&v(e,["parameters","sampleCount"],y);const T=p(t,["mode"]);return e!==void 0&&T!=null&&v(e,["parameters","mode"],T),n}function V5(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["_url","model"],Ke(t,i));const r=p(e,["image"]);r!=null&&v(n,["instances[0]","image"],vi(r));const a=p(e,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=p(e,["config"]);return u!=null&&P5(u,n),n}function L5(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>oh(a))),v(e,["generatedImages"],r)}return e}function k5(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&v(e,["videoBytes"],Br(i));const r=p(t,["encoding"]);return r!=null&&v(e,["mimeType"],r),e}function U5(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&v(e,["videoBytes"],Br(i));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function O5(t){const e={},n=p(t,["image"]);n!=null&&v(e,["_self"],vi(n));const i=p(t,["maskMode"]);return i!=null&&v(e,["maskMode"],i),e}function B5(t){const e={},n=p(t,["image"]);n!=null&&v(e,["image"],ah(n));const i=p(t,["referenceType"]);return i!=null&&v(e,["referenceType"],i),e}function q5(t){const e={},n=p(t,["image"]);n!=null&&v(e,["image"],vi(n));const i=p(t,["referenceType"]);return i!=null&&v(e,["referenceType"],i),e}function GI(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&v(e,["encodedVideo"],Br(i));const r=p(t,["mimeType"]);return r!=null&&v(e,["encoding"],r),e}function HI(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&v(e,["bytesBase64Encoded"],Br(i));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z5="Content-Type",F5="X-Server-Timeout",G5="User-Agent",Eg="x-goog-api-client",H5="1.27.0",$5=`google-genai-sdk/${H5}`,Y5="v1beta1",J5="v1beta",oA=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class K5{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Y5,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:J5,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))r.searchParams.append(u,String(d));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const d=setTimeout(()=>a.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&Q5(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await aA(r),new gg(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await aA(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Ua(this,arguments,function*(){const r=(n=e?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:f}=yield lt(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(f,{stream:!0});try{const T=JSON.parse(h);if("error"in T){const E=JSON.parse(JSON.stringify(T.error)),w=E.status,D=E.code,L=`got status: ${w}. ${JSON.stringify(T)}`;if(D>=400&&D<600)throw new sh({message:L,status:D})}}catch(T){if(T.name==="ApiError")throw T}u+=h;let y=u.match(oA);for(;y;){const T=y[1];try{const E=new Response(T,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield lt(new gg(E)),u=u.slice(y[0].length),y=u.match(oA)}catch(E){throw new Error(`exception parsing stream chunk ${T}. ${E}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=$5+" "+this.clientOptions.userAgentExtra;return e[G5]=n,e[Eg]=n,e[z5]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(F5,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const d=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const f=await this.fetchUploadUrl(r,n);return a.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n?.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},u=await this.request({path:ge("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:r});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(i=u?.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function aA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new sh({message:r,status:n}):new Error(r)}}function Q5(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const d=Object.assign({},a);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const h=u[f],y=d[f];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?d[f]=i(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),d[f]=h)}return d}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W5="mcp_used/unknown";let X5=!1;function $I(t){for(const e of t)if(Z5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return X5}function YI(t){var e;const n=(e=t[Eg])!==null&&e!==void 0?e:"";t[Eg]=(n+` ${W5}`).trimStart()}function Z5(t){return t!==null&&typeof t=="object"&&t instanceof xy}function j5(t,e=100){return Ua(this,arguments,function*(){let i,r=0;for(;r<e;){const a=yield lt(t.listTools({cursor:i}));for(const u of a.tools)yield yield lt(u),r++;if(!a.nextCursor)break;i=a.nextCursor}})}class xy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xy(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const y of this.mcpClients)try{for(var d=!0,f=(n=void 0,Mu(j5(y))),h;h=await f.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const T=r;u.push(T);const E=T.name;if(a[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);a[E]=y}}catch(T){n={error:T}}finally{try{!d&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),s4(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eB(t,e,n){const i=new WO;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class tB{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=sB(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),f=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const y=new Promise(z=>{h=z}),T=e.callbacks,E=function(){h({})},w=this.apiClient,D={onopen:E,onmessage:z=>{eB(w,T.onmessage,z)},onerror:(n=T?.onerror)!==null&&n!==void 0?n:function(z){},onclose:(i=T?.onclose)!==null&&i!==void 0?i:function(z){}},L=this.webSocketFactory.create(f,iB(u),D);L.connect(),await y;const q={setup:{model:Ke(this.apiClient,e.model)}};return L.send(JSON.stringify(q)),new nB(L,this.apiClient)}}class nB{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=J3(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Y3(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xa.PLAY)}pause(){this.sendPlaybackControl(xa.PAUSE)}stop(){this.sendPlaybackControl(xa.STOP)}resetContext(){this.sendPlaybackControl(xa.RESET_CONTEXT)}close(){this.conn.close()}}function iB(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function sB(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rB="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oB(t,e,n){const i=new QO;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=W3(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class aB{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new tB(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&$I(e.config.tools)&&YI(T);const E=fB(T);if(this.apiClient.isVertexAI())y=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const x=this.apiClient.getApiKey();let V="BidiGenerateContent",P="key";x?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",P="access_token"),y=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${V}?${P}=${x}`}let w=()=>{};const D=new Promise(x=>{w=x}),L=e.callbacks,k=function(){var x;(x=L?.onopen)===null||x===void 0||x.call(L),w({})},G=this.apiClient,q={onopen:k,onmessage:x=>{oB(G,L.onmessage,x)},onerror:(n=L?.onerror)!==null&&n!==void 0?n:function(x){},onclose:(i=L?.onclose)!==null&&i!==void 0?i:function(x){}},z=this.webSocketFactory.create(y,cB(E),q);z.connect(),await D;let X=Ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const x=this.apiClient.getProject(),V=this.apiClient.getLocation();X=`projects/${x}/locations/${V}/`+X}let j={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Nd.AUDIO]}:e.config.responseModalities=[Nd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],M=[];for(const x of ie)if(this.isCallableTool(x)){const V=x;M.push(await V.tool())}else M.push(x);M.length>0&&(e.config.tools=M);const I={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=$3(this.apiClient,I):j=H3(this.apiClient,I),delete j.config,z.send(JSON.stringify(j)),new uB(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lB={turnComplete:!0};class uB{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Xn(n.turns),e.isVertexAI()||(i=i.map(r=>rh(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(rB)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},lB),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Q3(e)}:n={realtimeInput:K3(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cB(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function fB(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lA=10;function uA(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(Oa(u)){r=!0;break}if(!r)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Oa(t){return"callTool"in t&&typeof t.callTool=="function"}function dB(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Oa(r)))!==null&&i!==void 0?i:!1}function hB(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!Oa(r)))!==null&&i!==void 0?i:!1}function cA(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pB extends Po{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,u,d;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!dB(n)||uA(n.config))return await this.generateContentInternal(f);if(hB(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,y;const T=Xn(f.contents),E=(a=(r=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:lA;let w=0;for(;w<E&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const D=h.candidates[0].content,L=[];for(const k of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(Oa(k)){const q=await k.callTool(h.functionCalls);L.push(...q)}w++,y={role:"user",parts:L},f.contents=Xn(f.contents),f.contents.push(D),f.contents.push(y),cA(f.config)&&(T.push(D),T.push(y))}return cA(f.config)&&(h.automaticFunctionCallingHistory=T),h},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),uA(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const u=[];if(i?.generatedImages)for(const f of i.generatedImages)f&&f?.safetyAttributes&&((r=f?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=f?.safetyAttributes:u.push(f);let d;return a?d={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new sc(xo.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,u,d,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((f=(d=n.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async f=>Oa(f)?await f.tool():f)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&$I(e.config.tools)){const f=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),YI(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Oa(u)){const d=u,f=await d.tool();for(const h of(r=f.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,d)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:lA;let u=!1,d=0;const f=await this.initAfcToolsMap(e);return(function(h,y,T){var E,w;return Ua(this,arguments,function*(){for(var D,L,k,G;d<a;){u&&(d++,u=!1);const j=yield lt(h.processParamsMaybeAddMcpUsage(T)),ie=yield lt(h.generateContentStreamInternal(j)),M=[],I=[];try{for(var q=!0,z=(L=void 0,Mu(ie)),X;X=yield lt(z.next()),D=X.done,!D;q=!0){G=X.value,q=!1;const x=G;if(yield yield lt(x),x.candidates&&(!((E=x.candidates[0])===null||E===void 0)&&E.content)){I.push(x.candidates[0].content);for(const V of(w=x.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(d<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(V.functionCall.name)){const P=yield lt(y.get(V.functionCall.name).callTool([V.functionCall]));M.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(x){L={error:x}}finally{try{!q&&!D&&(k=z.return)&&(yield lt(k.call(z)))}finally{if(L)throw L.error}}if(M.length>0){u=!0;const x=new mu;x.candidates=[{content:{role:"user",parts:M}}],yield yield lt(x);const V=[];V.push(...I),V.push({role:"user",parts:M});const P=Xn(T.contents).concat(V);T.contents=P}else break}})})(this,f,e)}async generateContentInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return d=ge("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=rA(y),E=new mu;return Object.assign(E,T),E})}else{const h=nA(this.apiClient,e);return d=ge("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=sA(y),E=new mu;return Object.assign(E,T),E})}}async generateContentStreamInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return d=ge("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(T){return Ua(this,arguments,function*(){var E,w,D,L;try{for(var k=!0,G=Mu(T),q;q=yield lt(G.next()),E=q.done,!E;k=!0){L=q.value,k=!1;const z=L,X=rA(yield lt(z.json()));X.sdkHttpResponse={headers:z.headers};const j=new mu;Object.assign(j,X),yield yield lt(j)}}catch(z){w={error:z}}finally{try{!k&&!E&&(D=G.return)&&(yield lt(D.call(G)))}finally{if(w)throw w.error}}})})}else{const h=nA(this.apiClient,e);return d=ge("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(T){return Ua(this,arguments,function*(){var E,w,D,L;try{for(var k=!0,G=Mu(T),q;q=yield lt(G.next()),E=q.done,!E;k=!0){L=q.value,k=!1;const z=L,X=sA(yield lt(z.json()));X.sdkHttpResponse={headers:z.headers};const j=new mu;Object.assign(j,X),yield yield lt(j)}}catch(z){w={error:z}}finally{try{!k&&!E&&(D=G.return)&&(yield lt(D.call(G)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=I6(this.apiClient,e);return d=ge("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=b6(y),E=new q0;return Object.assign(E,T),E})}else{const h=w6(this.apiClient,e);return d=ge("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=R6(y),E=new q0;return Object.assign(E,T),E})}}async generateImagesInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=U6(this.apiClient,e);return d=ge("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=B6(y),E=new z0;return Object.assign(E,T),E})}else{const h=k6(this.apiClient,e);return d=ge("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=O6(y),E=new z0;return Object.assign(E,T),E})}}async editImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=E6(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>{const h=S6(f),y=new zO;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=V5(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>{const h=L5(f),y=new FO;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=g5(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>{const h=y5(f),y=new GO;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=A5(this.apiClient,e);return a=ge("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>{const h=C5(f),y=new HO;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=n5(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Tg(y))}else{const h=t5(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>_g(y))}}async listInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=u5(this.apiClient,e);return d=ge("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=f5(y),E=new F0;return Object.assign(E,T),E})}else{const h=l5(this.apiClient,e);return d=ge("{models_url}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=c5(y),E=new F0;return Object.assign(E,T),E})}}async update(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=D5(this.apiClient,e);return d=ge("{model}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Tg(y))}else{const h=N5(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>_g(y))}}async delete(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=y6(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=_6(y),E=new G0;return Object.assign(E,T),E})}else{const h=g6(this.apiClient,e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=v6(y),E=new G0;return Object.assign(E,T),E})}}async countTokens(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=h6(this.apiClient,e);return d=ge("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=m6(y),E=new H0;return Object.assign(E,T),E})}else{const h=d6(this.apiClient,e);return d=ge("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=p6(y),E=new H0;return Object.assign(E,T),E})}}async computeTokens(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=r6(this.apiClient,e);return a=ge("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>{const h=o6(f),y=new $O;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=$6(this.apiClient,e);return d=ge("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const T=G6(y),E=new Dd;return Object.assign(E,T),E})}else{const h=H6(this.apiClient,e);return d=ge("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const T=F6(y),E=new Dd;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mB extends Po{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=OO(e);return d=ge("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u}else{const h=UO(e);return d=ge("{operationName}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=MO(e);return a=ge("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gB(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&v(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function yB(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>wB(a))),v(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&v(e,["role"],i),e}function vB(t,e,n){const i={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&v(n,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const u=p(e,["uses"]);n!==void 0&&u!=null&&v(n,["uses"],u);const d=p(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&v(n,["bidiGenerateContentSetup"],CB(t,d));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),i}function _B(t,e){const n={},i=p(e,["config"]);return i!=null&&v(n,["config"],vB(t,i,n)),n}function TB(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function EB(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function SB(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&v(e,["timeRangeFilter"],n),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function AB(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topP"],u);const d=p(t,["topK"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","topK"],d);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const y=p(t,["seed"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","seed"],y);const T=p(t,["speechConfig"]);e!==void 0&&T!=null&&v(e,["setup","generationConfig","speechConfig"],by(T));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","thinkingConfig"],E);const w=p(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],w);const D=p(t,["systemInstruction"]);e!==void 0&&D!=null&&v(e,["setup","systemInstruction"],yB(ln(D)));const L=p(t,["tools"]);if(e!==void 0&&L!=null){let ie=rl(L);Array.isArray(ie)&&(ie=ie.map(M=>RB(sl(M)))),v(e,["setup","tools"],ie)}const k=p(t,["sessionResumption"]);e!==void 0&&k!=null&&v(e,["setup","sessionResumption"],IB(k));const G=p(t,["inputAudioTranscription"]);e!==void 0&&G!=null&&v(e,["setup","inputAudioTranscription"],G);const q=p(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&v(e,["setup","outputAudioTranscription"],q);const z=p(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&v(e,["setup","realtimeInputConfig"],z);const X=p(t,["contextWindowCompression"]);e!==void 0&&X!=null&&v(e,["setup","contextWindowCompression"],X);const j=p(t,["proactivity"]);return e!==void 0&&j!=null&&v(e,["setup","proactivity"],j),n}function CB(t,e){const n={},i=p(e,["model"]);i!=null&&v(n,["setup","model"],Ke(t,i));const r=p(e,["config"]);return r!=null&&v(n,["config"],AB(r,n)),n}function wB(t){const e={},n=p(t,["videoMetadata"]);n!=null&&v(e,["videoMetadata"],n);const i=p(t,["thought"]);i!=null&&v(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&v(e,["inlineData"],gB(r));const a=p(t,["fileData"]);a!=null&&v(e,["fileData"],TB(a));const u=p(t,["thoughtSignature"]);u!=null&&v(e,["thoughtSignature"],u);const d=p(t,["functionCall"]);d!=null&&v(e,["functionCall"],d);const f=p(t,["codeExecutionResult"]);f!=null&&v(e,["codeExecutionResult"],f);const h=p(t,["executableCode"]);h!=null&&v(e,["executableCode"],h);const y=p(t,["functionResponse"]);y!=null&&v(e,["functionResponse"],y);const T=p(t,["text"]);return T!=null&&v(e,["text"],T),e}function IB(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function RB(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["functionDeclarations"],h)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&v(e,["googleSearch"],SB(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&v(e,["googleSearchRetrieval"],r),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],EB(a));const u=p(t,["urlContext"]);u!=null&&v(e,["urlContext"],u);const d=p(t,["computerUse"]);d!=null&&v(e,["computerUse"],d);const f=p(t,["codeExecution"]);return f!=null&&v(e,["codeExecution"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bB(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function xB(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=bB(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(h=>u.includes(h)?`generationConfig.${h}`:h));const f=[];a&&f.push(a),d.length>0&&f.push(...d),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class MB extends Po{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=_B(this.apiClient,e);a=ge("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const f=xB(d,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NB(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function DB(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function PB(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&v(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&v(e,["tuningTask","hyperparameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);if(u!=null&&v(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=p(t,["batchSize"]);e!==void 0&&d!=null&&v(e,["tuningTask","hyperparameters","batchSize"],d);const f=p(t,["learningRate"]);if(e!==void 0&&f!=null&&v(e,["tuningTask","hyperparameters","learningRate"],f),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return i}function VB(t,e,n){const i={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec"],QB(r));const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&v(e,["tunedModelDisplayName"],a);const u=p(t,["description"]);e!==void 0&&u!=null&&v(e,["description"],u);const d=p(t,["epochCount"]);e!==void 0&&d!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const f=p(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const y=p(t,["adapterSize"]);if(e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=p(t,["labels"]);return e!==void 0&&T!=null&&v(e,["labels"],T),i}function LB(t,e){const n={},i=p(t,["baseModel"]);i!=null&&v(n,["baseModel"],i);const r=p(t,["preTunedModel"]);r!=null&&v(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],YB(a));const u=p(t,["config"]);return u!=null&&PB(u,n),n}function kB(t,e){const n={},i=p(t,["baseModel"]);i!=null&&v(n,["baseModel"],i);const r=p(t,["preTunedModel"]);r!=null&&v(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&JB(a,n);const u=p(t,["config"]);return u!=null&&VB(u,n),n}function UB(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function OB(t,e){const n={},i=p(t,["name"]);return i!=null&&v(n,["_url","name"],i),n}function BB(t,e,n){const i={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&v(e,["_query","filter"],u),i}function qB(t,e,n){const i={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&v(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&v(e,["_query","filter"],u),i}function zB(t,e){const n={},i=p(t,["config"]);return i!=null&&BB(i,n),n}function FB(t,e){const n={},i=p(t,["config"]);return i!=null&&qB(i,n),n}function GB(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const r=p(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=p(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>JI(d))),v(n,["tuningJobs"],u)}return n}function HB(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const r=p(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=p(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Sg(d))),v(n,["tuningJobs"],u)}return n}function $B(t,e){const n={},i=p(t,["name"]);i!=null&&v(n,["model"],i);const r=p(t,["name"]);return r!=null&&v(n,["endpoint"],r),n}function YB(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),v(n,["examples","examples"],r)}return n}function JB(t,e,n){const i={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],r);const a=p(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function JI(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&v(n,["name"],r);const a=p(t,["state"]);a!=null&&v(n,["state"],bI(a));const u=p(t,["createTime"]);u!=null&&v(n,["createTime"],u);const d=p(t,["tuningTask","startTime"]);d!=null&&v(n,["startTime"],d);const f=p(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const y=p(t,["description"]);y!=null&&v(n,["description"],y);const T=p(t,["baseModel"]);T!=null&&v(n,["baseModel"],T);const E=p(t,["_self"]);return E!=null&&v(n,["tunedModel"],$B(E)),n}function Sg(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&v(n,["name"],r);const a=p(t,["state"]);a!=null&&v(n,["state"],bI(a));const u=p(t,["createTime"]);u!=null&&v(n,["createTime"],u);const d=p(t,["startTime"]);d!=null&&v(n,["startTime"],d);const f=p(t,["endTime"]);f!=null&&v(n,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const y=p(t,["error"]);y!=null&&v(n,["error"],y);const T=p(t,["description"]);T!=null&&v(n,["description"],T);const E=p(t,["baseModel"]);E!=null&&v(n,["baseModel"],E);const w=p(t,["tunedModel"]);w!=null&&v(n,["tunedModel"],w);const D=p(t,["preTunedModel"]);D!=null&&v(n,["preTunedModel"],D);const L=p(t,["supervisedTuningSpec"]);L!=null&&v(n,["supervisedTuningSpec"],L);const k=p(t,["tuningDataStats"]);k!=null&&v(n,["tuningDataStats"],k);const G=p(t,["encryptionSpec"]);G!=null&&v(n,["encryptionSpec"],G);const q=p(t,["partnerModelTuningSpec"]);q!=null&&v(n,["partnerModelTuningSpec"],q);const z=p(t,["customBaseModel"]);z!=null&&v(n,["customBaseModel"],z);const X=p(t,["experiment"]);X!=null&&v(n,["experiment"],X);const j=p(t,["labels"]);j!=null&&v(n,["labels"],j);const ie=p(t,["outputUri"]);ie!=null&&v(n,["outputUri"],ie);const M=p(t,["pipelineJob"]);M!=null&&v(n,["pipelineJob"],M);const I=p(t,["serviceAccount"]);I!=null&&v(n,["serviceAccount"],I);const x=p(t,["tunedModelDisplayName"]);x!=null&&v(n,["tunedModelDisplayName"],x);const V=p(t,["veoTuningSpec"]);return V!=null&&v(n,["veoTuningSpec"],V),n}function KB(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&v(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&v(n,["name"],r);const a=p(t,["metadata"]);a!=null&&v(n,["metadata"],a);const u=p(t,["done"]);u!=null&&v(n,["done"],u);const d=p(t,["error"]);return d!=null&&v(n,["error"],d),n}function QB(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&v(n,["validationDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);return r!=null&&v(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WB extends Po{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new sc(xo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:mg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=OB(e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>Sg(y))}else{const h=UB(e);return d=ge("{name}",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>JI(y))}}async listInternal(e){var n,i,r,a;let u,d="",f={};if(this.apiClient.isVertexAI()){const h=FB(e);return d=ge("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=HB(y),E=new $0;return Object.assign(E,T),E})}else{const h=zB(e);return d=ge("tunedModels",h._url),f=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),u.then(y=>{const T=GB(y),E=new $0;return Object.assign(E,T),E})}}async cancel(e){var n,i,r,a;let u="",d={};if(this.apiClient.isVertexAI()){const f=DB(e);u=ge("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=NB(e);u=ge("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=kB(e);return a=ge("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>Sg(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=LB(e);return a=ge("tunedModels",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:f.headers},y})),r.then(f=>KB(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XB{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZB=1024*1024*8,jB=3,eq=1e3,tq=2,Pm="x-goog-upload-status";async function nq(t,e,n){var i,r,a;let u=0,d=0,f=new gg(new Response),h="upload";for(u=t.size;d<u;){const T=Math.min(ZB,u-d),E=t.slice(d,d+T);d+T>=u&&(h+=", finalize");let w=0,D=eq;for(;w<jB&&(f=await n.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(d),"Content-Length":String(T)}}}),!(!((i=f?.headers)===null||i===void 0)&&i[Pm]));)w++,await sq(D),D=D*tq;if(d+=T,((r=f?.headers)===null||r===void 0?void 0:r[Pm])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await f?.json();if(((a=f?.headers)===null||a===void 0?void 0:a[Pm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function iq(t){return{size:t.size,type:t.type}}function sq(t){return new Promise(e=>setTimeout(e,t))}class rq{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nq(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iq(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oq{create(e,n,i){return new aq(e,n,i)}}class aq{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fA="x-goog-api-key";class lq{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(fA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uq="gl-node/";class cq{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=bO(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new lq(this.apiKey);this.apiClient=new K5({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:uq+"web",uploader:new rq,downloader:new XB}),this.models=new pB(this.apiClient),this.live=new aB(this.apiClient,r,new oq),this.batches=new J4(this.apiClient),this.chats=new w3(this.models,this.apiClient),this.caches=new S3(this.apiClient),this.files=new L3(this.apiClient),this.operations=new mB(this.apiClient),this.authTokens=new MB(this.apiClient),this.tunings=new WB(this.apiClient)}}const fq=new cq({apiKey:"AIzaSyCUxLlljY_emk69lMOS4H5FR_gODS6y4lk"}),dq={responseMimeType:"text/plain"},hq="gemini-2.0-flash";async function pq(t){try{return(await fq.models.generateContent({model:hq,config:dq,contents:[{role:"user",parts:[{text:t}]}]}))?.candidates?.[0]?.content?.parts?.[0]?.text}catch(e){return console.error("Error generating AI recommendation:",e),null}}const mq=({movieTitles:t})=>{const e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NTgzMDFlZGQ2MGEzN2Y3NDlmMzhlNGFmMTJjZDE3YSIsIm5iZiI6MTc0NTQxNjIyNS44NzY5OTk5LCJzdWIiOiI2ODA4ZjAyMTI3NmJmNjRlNDFhYjY0ZWUiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.NA_LMt6-MUBLAvxMRkZtBoUif4p9YQ6aYZo-lv4-PUE"}},[n,i]=F.useState([]),[r,a]=F.useState(!0),u=async d=>{const h=`https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(d)}&include_adult=false&language=en-US&page=1`;try{return(await(await fetch(h,e)).json()).results?.[0]||null}catch(y){return console.log("Error fetching movie: ",y),null}};return F.useEffect(()=>{const d=async()=>{a(!0);const f=await Promise.all(t.map(h=>u(h)));i(f.filter(Boolean)),a(!1),console.log(n)};t?.length&&d()},[t]),r?N.jsx("p",{children:"Loading..."}):N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:n.map(d=>N.jsxs(Vt,{to:`/movie/${d.id}`,className:"bg-[#232323] rounded-lg overflow-hidden",children:[d.poster_path?N.jsx("img",{src:`https://image.tmdb.org/t/p/w300${d.poster_path}`,className:"w-full h-48 object-cover"}):N.jsx(N.Fragment,{children:"No Image"}),N.jsxs("div",{className:"p-2",children:[N.jsx("h3",{className:"text-sm font-semibold text-white truncate",children:d.title}),N.jsx("p",{className:"text-xs text-gray-400",children:d.release_date?d.release_date.slice(0,4):"N/A"})]})]},d.id))})},di=[{name:"genre",label:"What is your favourite genre?",options:["Action","Comedy","Drama","Sci-Fi","Animation"]},{name:"mood",label:"What's your current mood?",options:["Excited","Relaxed","Thoughtful","Scared"]},{name:"decade",label:"Preferred decade?",options:["2020s","2010s","2000s","1990s","Older"]},{name:"language",label:"Preferred language?",options:["English","French","Spanish"]},{name:"length",label:"Preferred movie length?",options:["Short ( < 90 min )","Standard ( 90 - 120 min )","Long ( > 120 min )"]}],gq=di.reduce((t,e)=>(t[e.name]="",t),{});function yq(){const[t,e]=F.useState(gq),[n,i]=F.useState(0),[r,a]=F.useState([]),[u,d]=F.useState(!1),f=E=>{e({...t,[di[n].name]:E}),console.log(t)},h=()=>{n<di.length-1?i(n+1):console.log(t)},y=()=>{n>0&&i(n-1)},T=async()=>{t||KS("Please enter your input"),d(!0);const E=`Given the bellow user inputs:
    -Genre: ${t.genre}
    -Mode: ${t.mood}
    -Language: ${t.language}
    -Decade: ${t.decade}
    
    Recommend 10 ${t.mood.toLowerCase()} ${t.language}-language ${t.genre.toLowerCase()} movies released in the ${t.decade} with a runtime between ${t.length}. 
     Return the list as plain JSON array of movie titles only, No extra text, no explanations, no code blocks, no markdown, just the JSON array.

     example:

    [
      "Movie Title 1",
      "Movie Title 2",
      "Movie Title 3",
      "Movie Title 4",
      "Movie Title 5",
      "Movie Title 6",
      "Movie Title 7",
      "Movie Title 8",
      "Movie Title 9",
      "Movie Title 10"
    ]`,w=await pq(E);if(d(!1),w){const D=w.replace(/```json\n/i,"").replace(/\n```/i,"");try{const L=JSON.parse(D);a(L),console.log(L)}catch(L){console.log(L)}}else KS.error("Failed to get Recommendations.")};return N.jsxs("div",{className:"w-full min-h-screen bg-gray-800 text-white flex flex-col md:flex-row items-start justify-center gap-8 p-10",children:[N.jsx("div",{className:"w-full md:w-2/3",children:r.length>0?N.jsxs(N.Fragment,{children:[N.jsx("h3",{className:"text-2xl font-bold mb-6 text-red-400 text-center md:text-left",children:"Your AI-Powered Movie Recommendations"}),N.jsx(mq,{movieTitles:r})]}):N.jsx("div",{className:"text-gray-400 text-center md:text-left mt-10",children:N.jsx("p",{children:"No recommendations yet  complete the quiz to generate some!"})})}),N.jsxs("div",{className:"w-full md:w-[25%] bg-gray-900 rounded-2xl border-gray-700 py-10 mt-12 px-8 flex flex-col items-center",children:[N.jsx("h2",{className:"text-white text-3xl font-black mb-8 text-center tracking-tight drop-shadow-lg",children:"AI Movie Recommendation"}),N.jsxs("div",{className:"w-full flex items-center mb-8",children:[N.jsx("div",{className:"flex-1 bg-gray-600 rounded-full overflow-hidden h-2",children:N.jsx("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${(n+1)/di.length*100}%`}})}),N.jsxs("span",{className:"ml-3 text-white text-sm font-semibold",children:[n+1,"/",di.length]})]}),N.jsxs("div",{className:"w-full flex flex-col flex-1",children:[N.jsxs("div",{className:"mb-6 flex-1",children:[N.jsx("h3",{className:"text-lg font-semibold text-white text-center mb-5",children:di[n].label}),N.jsx("div",{className:"grid grid-cols-1 gap-2.5",children:di[n].options.map(E=>N.jsx("button",{onClick:()=>f(E),className:`w-full py-3 rounded-2xl transition font-semibold text-base flex items-center justify-center gap-2 focus:outline-none focus:ring-1 active:scale-90 duration-150 cursor-pointer ${t[di[n].name]===E?"bg-red-500 text-white":"bg-gray-800 text-white hover:bg-red-700/80"}`,children:E},E))})]}),N.jsxs("div",{className:"flex justify-between items-center my-5 w-full",children:[N.jsx("button",{onClick:y,disabled:n===0,className:"px-4 py-2 rounded-2xl font-semibold border-2 transition text-white bg-red-600 hover:bg-red-700 cursor-pointer :opacity-40",children:"Back"}),N.jsx("button",{disabled:!t[di[n].name],onClick:n===di.length-1?T:h,className:"px-4 py-2 rounded-2xl font-semibold border-2 transition text-white bg-red-600 hover:bg-red-700 cursor-pointer :opacity-40",children:n===di.length-1?"Finish":"Next"})]})]})]})]})}function vq(){const{user:t}=il(),[e,n]=F.useState([]);return F.useEffect(()=>{(async()=>{if(!t)return;const r=Bw(Xw,"users",t.uid),a=await GL(r);a.exists()&&n(a.data().savedMovies||[])})()},[t]),N.jsxs("div",{className:"p-6 text-white",children:[N.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Saved for Later"}),e.length===0?N.jsx("p",{className:"text-gray-400",children:"You havent saved any movies yet."}):N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((i,r)=>N.jsx(Vt,{to:`/movie/${i.id}`,children:N.jsxs("div",{className:"cursor-pointer hover:scale-105 transition-transform",children:[N.jsx("img",{src:`https://image.tmdb.org/t/p/w500/${i.backdrop_path}`,alt:i.title,className:"rounded-lg"}),N.jsx("p",{className:"mt-2 text-sm text-center",children:i.title})]})},r))})]})}function _q(){return N.jsxs("div",{className:"min-h-screen bg-gray-800 text-white",children:[N.jsx(ZL,{}),N.jsxs(Yx,{children:[N.jsx(fi,{path:"/",element:N.jsx(LU,{})}),N.jsx(fi,{path:"/movie/:id",element:N.jsx(Ca,{children:N.jsx(kU,{})})}),N.jsx(fi,{path:"/signin",element:N.jsx(UU,{})}),N.jsx(fi,{path:"/signup",element:N.jsx(OU,{})}),N.jsx(fi,{path:"/ai-recommendation",element:N.jsx(yq,{})}),N.jsx(fi,{path:"/tv",element:N.jsx(Ca,{children:N.jsx(BU,{})})}),N.jsx(fi,{path:"/anime",element:N.jsx(Ca,{children:N.jsx(qU,{})})}),N.jsx(fi,{path:"/newandpopular",element:N.jsx(Ca,{children:N.jsx(zU,{})})}),N.jsx(fi,{path:"/search/:query",element:N.jsx(Ca,{children:N.jsx(FU,{})})}),N.jsx(fi,{path:"/saved",element:N.jsx(Ca,{children:N.jsx(vq,{})})})]})]})}Vb.createRoot(document.getElementById("root")).render(N.jsx(F.StrictMode,{children:N.jsx(XL,{children:N.jsx(m1,{children:N.jsx(_q,{})})})}));
